window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({Alert:[function(t,e,o){"use strict";cc._RF.push(e,"f04d9rqZutEqY4fW1vv2hH1","Alert");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../lib/CocosUtils"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowing=!1,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.onLoad=function(){var t=this;this.fadeAction=cc.sequence(cc.fadeIn(.75),cc.delayTime(.5),cc.fadeOut(.75),cc.callFunc(function(){t.node.active=!1,t.isShowing=!1}))},e.prototype.show=function(t){this.isShowing&&(this.node.stopAction(this.fadeAction),this.isShowing=!1),this.root.$layout["#message"].label.string=t,this.root.$layout["#message"].label._forceUpdateRenderData(),this.root["#layout"].layout.updateLayout(),this.root.bg.width=this.root.layout.width,this.root.bg.height=this.root.layout.height,this.node.opacity=0,this.node.active=!0,this.isShowing=!0,this.node.runAction(this.fadeAction)},e=i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils"}],Alias:[function(t,e,o){"use strict";cc._RF.push(e,"20cb0DCF7xLW5Iqhou3eAW3","Alias"),cc._RF.pop()},{}],Audio:[function(t,e,o){"use strict";cc._RF.push(e,"082fcfP85NJOZqX4211TwIn","Audio"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./FreeBetBJSetting"),i=t("./FreeBetBJContent"),r=function(){function t(){this.effectVolume=1,this.musicVolume=.5,cc.audioEngine.setMusicVolume(this.musicVolume),cc.audioEngine.setEffectsVolume(this.effectVolume)}return t.prototype.setMusicVolume=function(t){n.freeBetBJSetting.music=t,t?this.playMusic(i.music.bg):this.stopMusic()},t.prototype.setEffectVolume=function(t){n.freeBetBJSetting.sound=t,t||this.stopEffect()},t.prototype.playMusic=function(t){n.freeBetBJSetting.music&&cc.audioEngine.playMusic(t,!0)},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.playEffect=function(t){n.freeBetBJSetting.sound&&cc.audioEngine.playEffect(t,!1)},t.prototype.stopEffect=function(){cc.audioEngine.stopAllEffects()},t}();o.default=r,o.audio=new r,cc._RF.pop()},{"./FreeBetBJContent":"FreeBetBJContent","./FreeBetBJSetting":"FreeBetBJSetting"}],Balance:[function(t,e,o){"use strict";cc._RF.push(e,"4e4fdAdpitMxoEEHAxh/iV9","Balance");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../lib/CocosUtils"),a=t("../lib/FreeBetBJTableInfo"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.balance=null,e.balanceCN=null,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.language()},e.prototype.language=function(){},e.prototype.setMoney=function(t){this.root["#money"].label.string=t+""},e.prototype.updateMoney=function(){this.setMoney(a.gamerInfo.balance/100)},i([l(cc.SpriteFrame)],e.prototype,"balance",void 0),i([l(cc.SpriteFrame)],e.prototype,"balanceCN",void 0),e=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],BetValue:[function(t,e,o){"use strict";cc._RF.push(e,"b9470W9GiBNmJ+IIy2poSc8","BetValue");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/FreeBetBJContent"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setBetValue=function(t){this.node.getChildByName("bet").getComponent(cc.Label).string=r.getFormatNumberString(t)},e=i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../../lib/FreeBetBJContent":"FreeBetBJContent"}],BlackJack:[function(t,e,o){"use strict";cc._RF.push(e,"adc1bHe8P1GH53yV6wN8tHz","BlackJack");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../lib/FreeBetBJContent"),a=t("../lib/Audio"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.reset=function(){this.node.children.forEach(function(t){"0"!==t.name&&(t.y=3)})},e.prototype.play=function(){a.audio.playEffect(r.music.bj);var t=cc.tween(this.node);this.node.children.forEach(function(e){"0"!==e.name&&t.call(function(){cc.tween(e).by(.125,{y:20},r.getEaseObject(r.Easing.sineOut)).by(.125,{y:-20},r.getEaseObject(r.Easing.sineIn)).start()}).delay(.25)}),t.repeatForever(t).start()},e=i([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/FreeBetBJContent":"FreeBetBJContent"}],Buttons:[function(t,e,o){"use strict";cc._RF.push(e,"50175Wca2BLOpJISAKmszDd","Buttons");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../lib/CocosUtils"),a=t("../lib/FreeBetBJTableInfo"),s=t("../lib/FreeBetBJContent"),c=t("../lib/FreeBetBJ"),l=t("../lib/Audio"),u=t("../lib/FreeBetBJSetting"),p=cc.tween,f=cc._decorator,h=f.ccclass,d=f.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.deal=null,e.dealDisable=null,e.maxBet=null,e.maxBetDisable=null,e.dealCN=null,e.dealDisableCN=null,e.maxBetCN=null,e.maxBetDisableCN=null,e.hit=null,e.hitDisable=null,e.stand=null,e.standDisable=null,e.double=null,e.doubleDisable=null,e.split=null,e.splitDisable=null,e.freeDouble=null,e.freeDoubleDisable=null,e.freeSplit=null,e.freeSplitDisable=null,e.hitCN=null,e.hitDisableCN=null,e.standCN=null,e.standDisableCN=null,e.doubleCN=null,e.doubleDisableCN=null,e.splitCN=null,e.splitDisableCN=null,e.freeDoubleCN=null,e.freeDoubleDisableCN=null,e.freeSplitCN=null,e.freeSplitDisableCN=null,e.newRound=null,e.newRoundDisable=null,e.reBet=null,e.reBetDisable=null,e.newRoundCN=null,e.newRoundDisableCN=null,e.reBetCN=null,e.reBetDisableCN=null,e.Recharge=null,e.table=null,e.actionIndex=0,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.language=function(){var t=u.freeBetBJSetting.language;"EN"===t?(this.root.$bet["#deal"].button.normalSprite=this.deal,this.root.$bet["#deal"].button.disabledSprite=this.dealDisable,this.root.$bet.$deal["#bg"].sprite.spriteFrame=this.deal,this.root.$bet["#maxBet"].button.normalSprite=this.maxBet,this.root.$bet["#maxBet"].button.disabledSprite=this.maxBetDisable,this.root.$bet.$maxBet["#bg"].sprite.spriteFrame=this.maxBet,this.root.$card["#double"].button.normalSprite=this.double,this.root.$card["#double"].button.disabledSprite=this.doubleDisable,this.root.$card.$double["#bg"].sprite.spriteFrame=this.double,this.root.$card["#stand"].button.normalSprite=this.stand,this.root.$card["#stand"].button.disabledSprite=this.standDisable,this.root.$card.$stand["#bg"].sprite.spriteFrame=this.stand,this.root.$card["#hit"].button.normalSprite=this.hit,this.root.$card["#hit"].button.disabledSprite=this.hitDisable,this.root.$card.$hit["#bg"].sprite.spriteFrame=this.hit,this.root.$card["#freeDouble"].button.normalSprite=this.freeDouble,this.root.$card["#freeDouble"].button.disabledSprite=this.freeDoubleDisable,this.root.$card.$freeDouble["#bg"].sprite.spriteFrame=this.freeDouble,this.root.$card["#split"].button.normalSprite=this.split,this.root.$card["#split"].button.disabledSprite=this.splitDisable,this.root.$card.$split["#bg"].sprite.spriteFrame=this.split,this.root.$card["#freeSplit"].button.normalSprite=this.freeSplit,this.root.$card["#freeSplit"].button.disabledSprite=this.freeSplitDisable,this.root.$card.$freeSplit["#bg"].sprite.spriteFrame=this.freeSplit,this.root.$end["#newGame"].button.normalSprite=this.newRound,this.root.$end["#newGame"].button.disabledSprite=this.newRoundDisable,this.root.$end.$newGame["#bg"].sprite.spriteFrame=this.newRound,this.root.$end["#reBet"].button.normalSprite=this.reBet,this.root.$end["#reBet"].button.disabledSprite=this.reBetDisable,this.root.$end.$reBet["#bg"].sprite.spriteFrame=this.reBet):"CN"===t&&(this.root.$bet["#deal"].button.normalSprite=this.dealCN,this.root.$bet["#deal"].button.disabledSprite=this.dealDisableCN,this.root.$bet.$deal["#bg"].sprite.spriteFrame=this.dealCN,this.root.$bet["#maxBet"].button.normalSprite=this.maxBetCN,this.root.$bet["#maxBet"].button.disabledSprite=this.maxBetDisableCN,this.root.$bet.$maxBet["#bg"].sprite.spriteFrame=this.maxBetCN,this.root.$card["#double"].button.normalSprite=this.doubleCN,this.root.$card["#double"].button.disabledSprite=this.doubleDisableCN,this.root.$card.$double["#bg"].sprite.spriteFrame=this.doubleCN,this.root.$card["#stand"].button.normalSprite=this.standCN,this.root.$card["#stand"].button.disabledSprite=this.standDisableCN,this.root.$card.$stand["#bg"].sprite.spriteFrame=this.standCN,this.root.$card["#hit"].button.normalSprite=this.hitCN,this.root.$card["#hit"].button.disabledSprite=this.hitDisableCN,this.root.$card.$hit["#bg"].sprite.spriteFrame=this.hitCN,this.root.$card["#freeDouble"].button.normalSprite=this.freeDoubleCN,this.root.$card["#freeDouble"].button.disabledSprite=this.freeDoubleDisableCN,this.root.$card.$freeDouble["#bg"].sprite.spriteFrame=this.freeDoubleCN,this.root.$card["#split"].button.normalSprite=this.splitCN,this.root.$card["#split"].button.disabledSprite=this.splitDisableCN,this.root.$card.$split["#bg"].sprite.spriteFrame=this.splitCN,this.root.$card["#freeSplit"].button.normalSprite=this.freeSplitCN,this.root.$card["#freeSplit"].button.disabledSprite=this.freeSplitDisableCN,this.root.$card.$freeSplit["#bg"].sprite.spriteFrame=this.freeSplitCN,this.root.$end["#newGame"].button.normalSprite=this.newRoundCN,this.root.$end["#newGame"].button.disabledSprite=this.newRoundDisableCN,this.root.$end.$newGame["#bg"].sprite.spriteFrame=this.newRoundCN,this.root.$end["#reBet"].button.normalSprite=this.reBetCN,this.root.$end["#reBet"].button.disabledSprite=this.reBetDisableCN,this.root.$end.$reBet["#bg"].sprite.spriteFrame=this.reBetCN)},e.prototype.onLoad=function(){this.init(),this.table=this.node.parent.getComponent("FreeBetBJTable")},e.prototype.start=function(){},e.prototype.changeButtons=function(t){var e=this,o=this.root.card,n=this.root.bet;o.getNumberOfRunningActions()>0||n.getNumberOfRunningActions()>0||(this.showEndButtons(!1),t===a.GameAction.BET?(this.enableButtonClick(a.GameButton.MAXBET,!0),o.active?cc.tween(o).by(.25,{x:o.width}).call(function(){o.active=!1,n.active=!0,cc.tween(n).by(.25,{x:-n.width}).start(),e.table.updateBetButtonStatus()}).start():(n.active=!0,cc.tween(n).by(.5,{x:-n.width}).start())):t===a.GameAction.CARD&&(n.active?cc.tween(n).by(.25,{x:n.width}).call(function(){n.active=!1,o.active=!0,cc.tween(o).by(.25,{x:-o.width}).start()}).start():(o.active=!0,cc.tween(o).by(.5,{x:-o.width}).start())))},e.prototype.onHitClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(l.audio.playEffect(s.music.press),cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start(),this.disableAllCardButtons(!1),c.freeBetBJ.hit(this.actionIndex++).catch(function(t){e.actionIndex--,r.default.error(t)}).then(function(t){t&&e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}))}},e.prototype.onSplitClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(l.audio.playEffect(s.music.press),cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start(),this.disableAllCardButtons(!1),c.freeBetBJ.split(this.actionIndex++).catch(function(t){e.actionIndex--,r.default.error(t)}).then(function(t){if(t){var o=e.table.getCardsScript().focusing.seat,n=e.table.getEventScript().getServerSeatsIndexBySeat(o,t.seats);e.table.effectOfBetValue(o,t.seats[n].betUnit),e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}}))}},e.prototype.onFreeSplitClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(l.audio.playEffect(s.music.press),cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start(),this.disableAllCardButtons(!1),c.freeBetBJ.freeSplit(this.actionIndex++).catch(function(t){e.actionIndex--,r.default.error(t)}).then(function(t){if(t){var o=e.table.getCardsScript().focusing.seat;e.table.effectOfDealerSendFreeChip(o),e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}}))}},e.prototype.onDoubleClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(l.audio.playEffect(s.music.press),cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start(),this.disableAllCardButtons(!1),c.freeBetBJ.double(this.actionIndex++).catch(function(t){e.actionIndex--,r.default.error(t)}).then(function(t){if(t){var o=e.table.getCardsScript().focusing.seat,n=e.table.getEventScript().getServerSeatsIndexBySeat(o,t.seats);e.table.effectOfBetValue(o,t.seats[n].betUnit),e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}}))}},e.prototype.onFreeDoubleClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(l.audio.playEffect(s.music.press),cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start(),this.disableAllCardButtons(!1),c.freeBetBJ.freeDouble(this.actionIndex++).catch(function(t){e.actionIndex--,r.default.error(t)}).then(function(t){t&&(e.table.effectOfDealerSendFreeChip(e.table.getCardsScript().focusing.seat),e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t))}))}},e.prototype.onStandClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(l.audio.playEffect(s.music.press),cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start(),this.disableAllCardButtons(!1),c.freeBetBJ.stand(this.actionIndex++).catch(function(t){e.actionIndex--,r.default.error(t)}).then(function(t){t&&e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}))}},e.prototype.onMexBetClick=function(t){if(!this.isMoving()){var e=t.target;if(!(e.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),cc.tween(e).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var o=a.tableSetting.maxBet;this.table.bet.unitA=o,this.table.bet.unitB=o,this.table.bet.unitC=o,this.table.bet.realTimeUnitA=o,this.table.bet.realTimeUnitB=o,this.table.bet.realTimeUnitC=o,this.table.updateBetValueLabel()}}},e.prototype.onDealClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;if(!(o.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),o.getComponent(cc.Button).interactable=!1,this.enableButtonClick(a.GameButton.MAXBET,!1),cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var n=[];n.push(this.table.bet.realTimeUnitA*a.tableSetting.betUnit),n.push(this.table.bet.realTimeUnitB*a.tableSetting.betUnit),n.push(this.table.bet.realTimeUnitC*a.tableSetting.betUnit),this.table.effectOfChangeAction(a.GameAction.CARD),p(this.node).delay(.3).call(function(){c.freeBetBJ.startNewGame(n).catch(function(t){r.default.error(t)}).then(function(t){t&&e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)})}).start()}}},e.prototype.onNewRoundClick=function(t){t.target.getNumberOfRunningActions()>0||(l.audio.playEffect(s.music.press),this.showEndButtons(!1),this.table.effectOfReceiveAllCards(!1))},e.prototype.onReBetClick=function(t){t.target.getNumberOfRunningActions()>0||(cc.tween(t.target).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start(),t.target.getComponent(cc.Button).interactable=!1,this.enableButtonClick(a.GameButton.NEWGAME,!1),l.audio.playEffect(s.music.press),this.showEndButtons(!1),this.table.effectOfReceiveAllCards(!0))},e.prototype.enableButtonClick=function(t,e){switch(t){case a.GameButton.DEAL:case a.GameButton.MAXBET:this.root.$bet["#"+t].button.interactable=e;break;case a.GameButton.DOUBLE:case a.GameButton.FREEDOUBLE:case a.GameButton.FREESPLIT:case a.GameButton.HIT:case a.GameButton.SPLIT:case a.GameButton.STAND:this.root.$card["#"+t].button.interactable=e;break;case a.GameButton.NEWGAME:case a.GameButton.REBET:this.root.$end["#"+t].button.interactable=e}},e.prototype.showButton=function(t,e){this.effectOfShowButton(t,e)},e.prototype.showEndButtons=function(t){this.showButton(a.GameButton.NEWGAME,t),this.showButton(a.GameButton.REBET,t),this.enableButtonClick(a.GameButton.NEWGAME,t),this.enableButtonClick(a.GameButton.REBET,t)},e.prototype.disableAllCardButtons=function(t){void 0===t&&(t=!0),t&&this.showButton(a.GameButton.DOUBLE,!1),this.enableButtonClick(a.GameButton.DOUBLE,!1),t&&this.showButton(a.GameButton.FREEDOUBLE,!1),this.enableButtonClick(a.GameButton.FREEDOUBLE,!1),t&&this.showButton(a.GameButton.FREESPLIT,!1),this.enableButtonClick(a.GameButton.FREESPLIT,!1),t&&this.showButton(a.GameButton.SPLIT,!1),this.enableButtonClick(a.GameButton.SPLIT,!1),t&&this.showButton(a.GameButton.HIT,!1),this.enableButtonClick(a.GameButton.HIT,!1),t&&this.showButton(a.GameButton.STAND,!1),this.enableButtonClick(a.GameButton.STAND,!1)},e.prototype.isMoving=function(){var t=this.root.card,e=this.root.bet;return t.getNumberOfRunningActions()>0||e.getNumberOfRunningActions()>0},e.prototype.getButtonNodeByGameButton=function(t){switch(t){case a.GameButton.DEAL:case a.GameButton.MAXBET:return this.root.$bet[t];case a.GameButton.DOUBLE:case a.GameButton.FREEDOUBLE:case a.GameButton.FREESPLIT:case a.GameButton.HIT:case a.GameButton.SPLIT:case a.GameButton.STAND:return this.root.$card[t];case a.GameButton.NEWGAME:case a.GameButton.REBET:return this.root.$end[t]}},e.prototype.effectOfShowButton=function(t,e){var o=this.getButtonNodeByGameButton(t);!0===o.active&&!1===e?p(o).to(.2,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineOut)).call(function(){o.active=!1}).start():!1===o.active&&!0===e&&(o.scaleX=o.scaleY=.1,o.active=!0,p(o).to(.2,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.backOut)).start())},e.prototype.popRecharge=function(){var t=cc.instantiate(this.Recharge);t.zIndex=s.zOrder.zIndex_MAX,this.table.node.addChild(t)},i([d(cc.SpriteFrame)],e.prototype,"deal",void 0),i([d(cc.SpriteFrame)],e.prototype,"dealDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"maxBet",void 0),i([d(cc.SpriteFrame)],e.prototype,"maxBetDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"dealCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"dealDisableCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"maxBetCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"maxBetDisableCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"hit",void 0),i([d(cc.SpriteFrame)],e.prototype,"hitDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"stand",void 0),i([d(cc.SpriteFrame)],e.prototype,"standDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"double",void 0),i([d(cc.SpriteFrame)],e.prototype,"doubleDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"split",void 0),i([d(cc.SpriteFrame)],e.prototype,"splitDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"freeDouble",void 0),i([d(cc.SpriteFrame)],e.prototype,"freeDoubleDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"freeSplit",void 0),i([d(cc.SpriteFrame)],e.prototype,"freeSplitDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"hitCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"hitDisableCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"standCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"standDisableCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"doubleCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"doubleDisableCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"splitCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"splitDisableCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"freeDoubleCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"freeDoubleDisableCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"freeSplitCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"freeSplitDisableCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"newRound",void 0),i([d(cc.SpriteFrame)],e.prototype,"newRoundDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"reBet",void 0),i([d(cc.SpriteFrame)],e.prototype,"reBetDisable",void 0),i([d(cc.SpriteFrame)],e.prototype,"newRoundCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"newRoundDisableCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"reBetCN",void 0),i([d(cc.SpriteFrame)],e.prototype,"reBetDisableCN",void 0),i([d(cc.Prefab)],e.prototype,"Recharge",void 0),e=i([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/FreeBetBJ":"FreeBetBJ","../lib/FreeBetBJContent":"FreeBetBJContent","../lib/FreeBetBJSetting":"FreeBetBJSetting","../lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],Cap:[function(t,e,o){"use strict";cc._RF.push(e,"d7f79xyot5KY7HFMVM84lME","Cap");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/CocosUtils"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.active=!0,e.onClick=null,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.setActive=function(t){this.active=t,t?(this.root.activePng.active=!0,this.root.nonActivePng.active=!1):(this.root.activePng.active=!1,this.root.nonActivePng.active=!0)},e.prototype.onCapClick=function(){"function"==typeof this.onClick&&(this.setActive(!this.active),this.onClick(this.active))},e=i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],Cards:[function(t,e,o){"use strict";cc._RF.push(e,"6e1e4M08YJNd5TxQHe8Swwh","Cards");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../lib/CocosUtils"),a=t("../lib/FreeBetBJTableInfo"),s=t("../lib/FreeBetBJContent"),c=cc.tween,l=t("../lib/Audio"),u=t("../lib/FreeBetBJSetting"),p=cc._decorator,f=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.valueTypes=[],e.valueStatus=[],e.valueStatusCN=[],e.ChipValue=null,e.BlackJack=null,e.table=null,e.focusing={seat:"",row:""},e.changeFocusEffectData=[],e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.initSeatRow=function(){var t=this;this.node.children.forEach(function(e){e.children.forEach(function(o,n,i){var r=parseInt(o.name.charAt(o.name.length-1));o.zIndex=i.length-r,o.x=a.cardSetting[e.name].initial[r].x,o.y=a.cardSetting[e.name].initial[r].y,t.showValue(e.name,o.name,!1),t.setValueStatus(e.name,o.name,a.ValueType.NONE)})})},e.prototype.onLoad=function(){this.init(),this.initSeatRow(),this.table=this.node.parent.getComponent("FreeBetBJTable")},e.prototype.start=function(){},e.prototype.update=function(t){this.changeFocusEffectData.length>0&&this.changeFocusEffectData.shift().forEach(function(t){var e=t.target;e.x=t.x,e.y=t.y,null!==t.callback&&t.callback()})},e.prototype.updateRowPosition=function(t,e){var o=this.root["$"+t]["$"+e].card,n=o.children.length,i=a.cardSetting[t].outer.show[n].x,r=a.cardSetting[t].outer.show[n].y;cc.tween(o).to(.25,{x:i,y:r},s.getEaseObject(s.Easing.sineOut)).start()},e.prototype.addCardToSeatRow=function(t,e,o,n){void 0===n&&(n=!1);var i=this.root["$"+e]["$"+o].card,r=i.children.length,c=s.getCardSpriteNode(t),l=this.isFocusing(e)||n?a.cardSetting.focus.show[r]:a.cardSetting[e].inner.show[r];return c.x=l.x,c.y=l.y,c.skewX=l.skewX,c.skewY=l.skewY,c.scaleX=l.scaleX,c.scaleY=l.scaleY,c.angle=l.angle,i.addChild(c),c},e.prototype.showLastCardOfSeatRow=function(t,e,o){var n=this.root["$"+t]["$"+e].card;n.children[n.children.length-1].active=o},e.prototype.isFocusing=function(t,e){return void 0===e&&(e=null),null===e?t===this.focusing.seat:t===this.focusing.seat&&e===this.focusing.row},e.prototype.focus=function(t,e){this.setFocusing(t,e),this.root[t].children.forEach(function(t){t.getChildByName("card").children.forEach(function(t,e){cc.tween(t).to(.25,a.cardSetting.focus.show[e],s.getEaseObject(s.Easing.sineOut)).start()})}),this.updateValuePosition(t)},e.prototype.blur=function(t){this.setFocusing("",""),this.root[t].children.forEach(function(e){e.getChildByName("card").children.forEach(function(e,o){cc.tween(e).to(.25,a.cardSetting[t].inner.show[o],s.getEaseObject(s.Easing.sineOut)).start()})}),this.updateValuePosition(t)},e.prototype.setFocusing=function(t,e){this.focusing.seat=t,this.focusing.row=e},e.prototype.getFocusSeatAndRow=function(){return{seat:this.root[this.focusing.seat],row:this.root["$"+this.focusing.seat][this.focusing.row]}},e.prototype.changeFocusOnSameSeat=function(t,e,o,n){void 0===n&&(n=null);var i=this.root["$"+t][e],r=this.root["$"+t][o];this.createChangeFocusEffectData(i,r),this.changeFocusEffectData[this.changeFocusEffectData.length-1][0].callback=n,this.focusing.row=o},e.prototype.createChangeFocusEffectData=function(t,e){for(var o=this.createCirclePath(t.x,t.y,e.x,e.y),n=Math.ceil(o[0].length/2),i=function(){var o=t.zIndex;t.zIndex=e.zIndex,e.zIndex=o},r=0;r<o[0].length;r++){var a=[],s={target:t,x:o[0][r].x,y:o[0][r].y,callback:null},c={target:e,x:o[1][r].x,y:o[1][r].y,callback:null};r===n&&(s.callback=i),a.push(s,c),this.changeFocusEffectData.push(a)}var l=[],u={target:t,x:e.x,y:e.y,callback:null},p={target:e,x:t.x,y:t.y,callback:null};l.push(u,p),this.changeFocusEffectData.push(l)},e.prototype.createCirclePath=function(t,e,o,n){for(var i=[],r=(t+o)/2,a=(e+n)/2,s=Math.sqrt((o-t)*(o-t)+(n-e)*(n-e))/2,c=[],l=260;l>=100;l-=10)c.push(this.getCirclePoint(l,s,r,a));i.push(c);var u=[];for(l=80;l>=-80;l-=10)u.push(this.getCirclePoint(l,s,r,a));return i.push(u),i},e.prototype.getCirclePoint=function(t,e,o,n){var i=t/180*Math.PI%(2*Math.PI);return{x:Math.cos(i)*e+o,y:Math.sin(i)*e+n}},e.prototype.showValue=function(t,e,o,n){var i=this;void 0===n&&(n=!1);var r=this.root["$"+t]["$"+e].value,c=this.root["$"+t]["$"+e].$value["#odd"].sprite,l=0;if(this.root["$"+t]["$"+e].card.children.forEach(function(t){t.active&&l++}),!(l<2&&o)){var u=this.focusing.seat===t,p=u?a.cardSetting.focus.value[l].x:a.cardSetting[t].inner.value[l].x,f=u?a.cardSetting.focus.value[l].y:a.cardSetting[t].inner.value[l].y;if(c.spriteFrame=n?this.valueTypes[3]:this.valueTypes[0],o){if(!1===r.active){r.x=p,r.y=f,r.scaleX=r.scaleY=.1,r.active=!0,n&&this.setValueStatus(t,e,a.ValueType.BLACKJACK,!1);var h=cc.tween(r).to(.25,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.backOut));n&&h.call(function(){i.setValueStatus(t,e,a.ValueType.BLACKJACK)}),h.start()}}else r.x=r.y=0,r.scaleX=r.scaleY=.1,r.active=!1}},e.prototype.setValue=function(t,e,o){var n=this.root["$"+t]["$"+e].$value.odd,i=this.root["$"+t]["$"+e].$value.even;0!==o.soft&&o.soft<22?(n.active=!1,i.active=!0,this.root["$"+t]["$"+e].$value.$even["#soft"].label.string=o.soft+"",this.root["$"+t]["$"+e].$value.$even["#hard"].label.string=o.hard+"",this.root["$"+t]["$"+e].$value.$odd["#hard"].label.string=o.soft+"",21===o.soft?(n.active=!0,i.active=!1):(n.active=!1,i.active=!0)):(n.active=!0,i.active=!1,this.root["$"+t]["$"+e].$value.$odd["#hard"].label.string=o.hard+"")},e.prototype.setValueStatus=function(t,e,o,n){void 0===n&&(n=!0);var i=this.root["$"+t]["$"+e].$value["#odd"].sprite,r=this.root["$"+t]["$"+e].$value.odd,s=this.root["$"+t]["$"+e].$value.even;switch(r.active=!0,s.active=!1,o){case a.ValueType.WIN:i.spriteFrame=this.valueTypes[1];break;case a.ValueType.LOSE:i.spriteFrame=this.valueTypes[2];break;case a.ValueType.PUSH:i.spriteFrame=this.valueTypes[0];break;case a.ValueType.BUSTED:i.spriteFrame=this.valueTypes[2];break;case a.ValueType.BLACKJACK:i.spriteFrame=this.valueTypes[3];break;case a.ValueType.FREEBETPUSH:i.spriteFrame=this.valueTypes[0];break;case a.ValueType.NONE:i.spriteFrame=null}n&&this.effectOfValueStatus(t,e,o)},e.prototype.effectOfValueStatus=function(t,e,o){var n=this.root["$"+t]["$"+e].$value["#status"].sprite;n.node.destroyAllChildren();var i=null;switch("EN"===u.freeBetBJSetting.language?i=this.valueStatus:"CN"===u.freeBetBJSetting.language&&(i=this.valueStatusCN),o){case a.ValueType.WIN:n.spriteFrame=i[0];break;case a.ValueType.LOSE:n.spriteFrame=i[1];break;case a.ValueType.PUSH:n.spriteFrame=i[2];break;case a.ValueType.BUSTED:n.spriteFrame=i[3];break;case a.ValueType.BLACKJACK:n.spriteFrame=null;break;case a.ValueType.FREEBETPUSH:n.spriteFrame=i[5];break;case a.ValueType.NONE:return void(n.spriteFrame=null)}switch(o){case a.ValueType.BLACKJACK:var r=cc.instantiate(this.BlackJack);n.node.addChild(r),cc.tween(r).call(function(){r.scaleX=0}).to(.25,{scaleX:1},s.getEaseObject(s.Easing.backOut)).call(function(){r.getComponent("BlackJack").play()}).start();break;default:cc.tween(n.node).call(function(){n.node.width=0}).to(.25,{width:n.spriteFrame.getRect().width},s.getEaseObject(s.Easing.backOut)).delay(2).to(.25,{width:0},s.getEaseObject(s.Easing.sineOut)).start()}},e.prototype.effectOfChipValue=function(t,e){var o=this,n=this.root[t],i=s.getXYUntilNode(n,this.node.parent);e.forEach(function(e,n){var r=cc.instantiate(o.ChipValue);r.getComponent(cc.Label).string=s.getFormatNumberString(e,!0),r.x=i.x,r.y=i.y-120,r.scaleX=r.scaleY=.5,o.table.effectOfDealerSendChip(t,.1*n,function(){o.node.parent.addChild(r),cc.tween(r).parallel(cc.tween(r).to(.25,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.sineOut)),cc.tween(r).by(.25,{y:20+40*n},s.getEaseObject(s.Easing.sineOut))).delay(2-.1*n).parallel(cc.tween(r).by(.5,{y:80}),cc.tween(r).to(.5,{opacity:50})).call(function(){r.destroy()}).start()})})},e.prototype.effectOfSplitCard=function(t,e,o){l.audio.playEffect(s.music.split);var n=this.root["$"+t]["$"+e].card,i=n.children[n.children.length-1],r=this.addCardToSeatRow(parseInt(i.name),t,o,!0),a=s.getCardSpriteNode(parseInt(r.name)),u=s.getXYUntilNode(i,this.node.parent),p=s.getXYUntilNode(r,this.node.parent);r.active=!1,this.node.parent.addChild(a),a.x=u.x,a.y=u.y,a.scaleX=i.scaleX,a.scaleY=i.scaleY,i.destroy(),this.showValue(t,e,!1),cc.tween(a).to(.125,{x:p.x,y:p.y+50},s.getEaseObject(s.Easing.sineOut)).call(function(){a.active=!1,r.active=!0;var t=r.y;r.y+=50,c(r).to(.125,{y:t},s.getEaseObject(s.Easing.sineIn)).call(function(){a.destroy()}).start()}).start()},e.prototype.updateValuePosition=function(t,e,o){var n=this;void 0===e&&(e=!1),void 0===o&&(o=!0),this.root[t].children.forEach(function(i){var r=i.getChildByName("value"),c=i.getChildByName("card").children.length;if(!(c<2)){var l=n.focusing.seat===t||e,u=l?a.cardSetting.focus.value[c].x:a.cardSetting[t].inner.value[c].x,p=l?a.cardSetting.focus.value[c].y:a.cardSetting[t].inner.value[c].y;o?cc.tween(r).to(.25,{x:u,y:p},s.getEaseObject(s.Easing.sineOut)).start():(r.x=u,r.y=p)}})},e.prototype.getCardCount=function(t,e){return this.root["$"+t]["$"+e].card.children.length},e.prototype.getSeatRowCount=function(t){var e=0;return this.root[t].children.forEach(function(t){t.getChildByName("card").children.length>0&&e++}),e},e.prototype.getRowCount=function(t){var e=0;return this.root[t].children.forEach(function(t){t.getChildByName("card").children.length>0&&e++}),e},i([h(cc.SpriteFrame)],e.prototype,"valueTypes",void 0),i([h(cc.SpriteFrame)],e.prototype,"valueStatus",void 0),i([h(cc.SpriteFrame)],e.prototype,"valueStatusCN",void 0),i([h(cc.Prefab)],e.prototype,"ChipValue",void 0),i([h(cc.Prefab)],e.prototype,"BlackJack",void 0),e=i([f],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/FreeBetBJContent":"FreeBetBJContent","../lib/FreeBetBJSetting":"FreeBetBJSetting","../lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],Chips:[function(t,e,o){"use strict";cc._RF.push(e,"25d34Jz0oRBUa+9HAstuMcY","Chips");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/CocosUtils"),a=t("../../lib/FreeBetBJContent"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Chip=null,e.table=null,e.chipMultiple=[1,2,5,10],e.focusColor=new cc.Color(54,198,255),e.blurColor=cc.Color.WHITE,e.focusChip=null,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.start=function(){this.table.effectOfSlideUpShow(this.node)},e.prototype.setChips=function(t){var e=this;this.chipMultiple.forEach(function(o,n){var i=Math.round(o*t),r=a.getChipPrefabNode(o),s=r.getComponent("Chip");s.setValue(i),s.setUnit(o),r.on(cc.Node.EventType.TOUCH_START,e.onChipClick,e),e.node.addChild(r),0===n&&e.focus(r)})},e.prototype.onChipClick=function(t){var e=this;this.node.children.forEach(function(o){t.target===o?e.focus(o):e.blur(o)})},e.prototype.focus=function(t){this.focusChip=t,t.getChildByName("bg").color=this.focusColor},e.prototype.blur=function(t){t.getChildByName("bg").color=this.blurColor},e.prototype.getFocusChipUnit=function(){if(null!==this.focusChip)return this.focusChip.getComponent("Chip").unit;r.default.warn("no focus chip.")},e.prototype.getChipNodes=function(t){for(var e=this.chipMultiple.slice().sort(function(t,e){return e-t}),o=[];t>0;)for(var n=0;n<e.length;n++)for(;t>=e[n];)o.push(a.getChipPrefabNode(e[n])),t-=e[n];return o},i([l(cc.Prefab)],e.prototype,"Chip",void 0),e=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/FreeBetBJContent":"FreeBetBJContent"}],Chip:[function(t,e,o){"use strict";cc._RF.push(e,"841f2PXkCxCfZyWLZ62Zu5A","Chip");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/CocosUtils"),a=t("../../lib/FreeBetBJContent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=0,e.unit=0,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.start=function(){},e.prototype.setValue=function(t){this.value=t,this.root.$bg["#label"].label.string=a.getFormatNumberString(t,!1)},e.prototype.setUnit=function(t){this.unit=t},e.prototype.setChipSprite=function(t){this.root["#bg"].sprite.spriteFrame=t},e=i([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/FreeBetBJContent":"FreeBetBJContent"}],CocosUtils:[function(t,e,o){"use strict";cc._RF.push(e,"764b4e4KSJC9a1OoJWF5ldz","CocosUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=(n.ccclass,n.property,function(){function t(){}return t.tree=function(t,e){var o=this;return t.children.forEach(function(t){e[t.name]=t;var n=t.getComponent(cc.Label);n&&(e["#"+t.name]={},e["#"+t.name].label=n);var i=t.getComponent(cc.Sprite);i&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].sprite=i);var r=t.getComponent(cc.Layout);r&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].layout=r);var a=t.getComponent(cc.Button);a&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].button=a);var s=t.getComponent(cc.ProgressBar);s&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].progressBar=s);var c=t.getComponent(cc.EditBox);c&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].editBox=c),t.childrenCount>0&&(e["$"+t.name]={},o.tree(t,e["$"+t.name]))}),e},t.tree2=function(t,e){var o=this;e[t.name]=t;var n=t.getComponent(cc.Label);n&&(e["#"+t.name]={},e["#"+t.name].label=n);var i=t.getComponent(cc.Sprite);i&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].sprite=i);var r=t.getComponent(cc.Layout);return r&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].layout=r),t.childrenCount>0&&(e["$"+t.name]={},t.children.forEach(function(n){o.tree2(n,e["$"+t.name])})),e},t.log=function(t){this.debugMode&&console.log(t)},t.warn=function(t){this.debugMode&&console.warn(t)},t.error=function(t){this.debugMode&&console.error(t)},t.debugMode=!0,t}());o.default=i,cc._RF.pop()},{}],Dealer:[function(t,e,o){"use strict";cc._RF.push(e,"bb6eaRFFVhF+qIZNJNTXqi4","Dealer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../lib/FreeBetBJContent"),a=t("../lib/FreeBetBJTableInfo"),s=t("../lib/CocosUtils"),c=t("../lib/FreeBetBJSetting"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.valueTypes=[],e.valueStatus=[],e.valueStatusCN=[],e.focusing=!1,e}return n(e,t),e.prototype.init=function(){this.root=s.default.tree(this.node,{})},e.prototype.initSeatRow=function(){this.node.children.forEach(function(t,e,o){t.zIndex=o.length-e,t.x=a.cardSetting.Dealer.initial[e].x,t.y=a.cardSetting.Dealer.initial[e].y}),this.showValue(!1),this.setValueStatus(a.ValueType.NONE)},e.prototype.onLoad=function(){this.init(),this.initSeatRow()},e.prototype.start=function(){},e.prototype.focus=function(){this.focusing=!0,this.root.$row0.card.children.forEach(function(t,e){cc.tween(t).to(.25,a.cardSetting.dealerFocus.show[e],r.getEaseObject(r.Easing.sineOut)).start()}),this.updateValuePosition()},e.prototype.blur=function(){this.focusing=!1,this.root.$row0.card.children.forEach(function(t,e){cc.tween(t).to(.25,a.cardSetting.Dealer.inner.show[e],r.getEaseObject(r.Easing.sineOut)).start()}),this.updateValuePosition()},e.prototype.addCardToSeatRow=function(t){var e=this.root.$row0.card,o=e.children.length,n=r.getCardSpriteNode(t),i=this.focusing?a.cardSetting.dealerFocus.show[o]:a.cardSetting.Dealer.inner.show[o];return n.x=i.x,n.y=i.y,n.skewX=i.skewX,n.skewY=i.skewY,n.scaleX=i.scaleX,n.scaleY=i.scaleY,n.angle=i.angle,e.addChild(n),n},e.prototype.updateRowPosition=function(){var t=this.root.$row0.card,e=t.children.length,o=a.cardSetting.Dealer.outer.show[e].x,n=a.cardSetting.Dealer.outer.show[e].y;cc.tween(t).to(.25,{x:o,y:n},r.getEaseObject(r.Easing.sineOut)).start()},e.prototype.setValueStatus=function(t,e){void 0===e&&(e=!0);var o=this.root.$row0.$value["#odd"].sprite,n=this.root.$row0.$value.odd,i=this.root.$row0.$value.even;switch(n.active=!0,i.active=!1,t){case a.ValueType.WIN:o.spriteFrame=this.valueTypes[1];break;case a.ValueType.LOSE:o.spriteFrame=this.valueTypes[2];break;case a.ValueType.PUSH:o.spriteFrame=this.valueTypes[0];break;case a.ValueType.BUSTED:o.spriteFrame=this.valueTypes[2];break;case a.ValueType.BLACKJACK:o.spriteFrame=this.valueTypes[3];break;case a.ValueType.FREEBETPUSH:o.spriteFrame=this.valueTypes[0];break;case a.ValueType.NONE:o.spriteFrame=null}e&&this.effectOfValueStatus(t)},e.prototype.effectOfValueStatus=function(t){var e=this.root.$row0.$value["#status"].sprite,o=null;switch("EN"===c.freeBetBJSetting.language?o=this.valueStatus:"CN"===c.freeBetBJSetting.language&&(o=this.valueStatusCN),t){case a.ValueType.WIN:e.spriteFrame=o[0];break;case a.ValueType.LOSE:e.spriteFrame=o[1];break;case a.ValueType.PUSH:e.spriteFrame=o[2];break;case a.ValueType.BUSTED:e.spriteFrame=o[3];break;case a.ValueType.BLACKJACK:e.spriteFrame=o[4];break;case a.ValueType.FREEBETPUSH:e.spriteFrame=o[5];break;case a.ValueType.NONE:return void(e.spriteFrame=null)}switch(t){case a.ValueType.BLACKJACK:cc.tween(e.node).call(function(){e.node.width=0}).to(.25,{width:e.spriteFrame.getRect().width},r.getEaseObject(r.Easing.backOut)).call(function(){}).start();break;default:cc.tween(e.node).call(function(){e.node.width=0}).to(.25,{width:e.spriteFrame.getRect().width},r.getEaseObject(r.Easing.backOut)).delay(2).to(.25,{width:0},r.getEaseObject(r.Easing.sineOut)).start()}},e.prototype.showValue=function(t,e){var o=this;void 0===e&&(e=!1);var n=this.root.$row0.value,i=this.root.$row0.$value["#odd"].sprite,s=0;if(this.root.$row0.card.children.forEach(function(t){t.active&&"52"!==t.name&&s++}),!(s<2&&t)){var c=this.focusing?a.cardSetting.dealerFocus.value[s].x:a.cardSetting.Dealer.inner.value[s].x,l=this.focusing?a.cardSetting.dealerFocus.value[s].y:a.cardSetting.Dealer.inner.value[s].y;if(i.spriteFrame=e?this.valueTypes[3]:this.valueTypes[0],t){if(!1===n.active){n.x=c,n.y=l,n.scaleX=n.scaleY=.1,n.active=!0;var u=cc.tween(n);e&&u.call(function(){o.setValueStatus(a.ValueType.BLACKJACK)}),u.to(.25,{scaleX:1,scaleY:1},r.getEaseObject(r.Easing.backOut)),u.start()}}else n.active=!1,n.x=n.y=0,n.scaleX=n.scaleY=.1}},e.prototype.setValue=function(t){var e=this.root.$row0.$value.odd,o=this.root.$row0.$value.even;0!==t.soft&&t.soft<22?(this.root.$row0.$value.$even["#soft"].label.string=t.soft+"",this.root.$row0.$value.$even["#hard"].label.string=t.hard+"",this.root.$row0.$value.$odd["#hard"].label.string=t.soft+"",21===t.soft?(e.active=!0,o.active=!1):(e.active=!1,o.active=!0)):(e.active=!0,o.active=!1,this.root.$row0.$value.$odd["#hard"].label.string=t.hard+"")},e.prototype.updateValuePosition=function(){var t=this.root.row0,e=t.getChildByName("value"),o=t.getChildByName("card").children.length;if(!(o<2)){var n=this.focusing?a.cardSetting.dealerFocus.value[o].x:a.cardSetting.Dealer.inner.value[o].x,i=this.focusing?a.cardSetting.dealerFocus.value[o].y:a.cardSetting.Dealer.inner.value[o].y;cc.tween(e).to(.25,{x:n,y:i},r.getEaseObject(r.Easing.sineOut)).start()}},e.prototype.effectOfTurnLastCard=function(t,e){var o=this;void 0===e&&(e=!1);var n=this.root.$row0.card.children,i=n[n.length-1],a=i.scaleX,s=r.getCardSprite(t);cc.tween(i).to(.075,{scaleX:0,skewY:15}).call(function(){i.getComponent(cc.Sprite).spriteFrame=s,i.skewY=-15,i.name=t+""}).to(.075,{scaleX:a,skewY:0}).call(function(){o.showValue(!0,e)}).start()},e.prototype.getCardCount=function(){var t=0;return this.root.$row0.card.children.forEach(function(e){"52"!==e.name&&t++}),t},e.prototype.testEffectOfMoveCard=function(t,e,o){this.node.parent.getComponent("FreeBetBJTable").effectOfMoveCard(t,e,o)},e.prototype.testAddCardToSeatRow=function(){this.testEffectOfMoveCard("Dealer","row0",Math.floor(52*Math.random()))},e.prototype.testTurnCardToSeatRow=function(){this.effectOfTurnLastCard(10)},e.prototype.testDealerFocus=function(){this.focus()},e.prototype.testDealerBlur=function(){this.blur()},i([p(cc.SpriteFrame)],e.prototype,"valueTypes",void 0),i([p(cc.SpriteFrame)],e.prototype,"valueStatus",void 0),i([p(cc.SpriteFrame)],e.prototype,"valueStatusCN",void 0),e=i([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/FreeBetBJContent":"FreeBetBJContent","../lib/FreeBetBJSetting":"FreeBetBJSetting","../lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],Delete:[function(t,e,o){"use strict";cc._RF.push(e,"76ed12XmjxAiYspJmNgNh1i","Delete");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/CocosUtils"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.active=!0,e.onClick=null,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.onDeleteClick=function(){"function"==typeof this.onClick&&this.onClick()},e=i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],FreeBetBJContent:[function(t,e,o){"use strict";cc._RF.push(e,"3df6c/rYHxK94fPCFha8/Cs","FreeBetBJContent"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=t("./CocosUtils"),r=cc.Sprite.SizeMode,a=t("./FreeBetBJTableInfo");o.globalConstant={tableId:"test_table",buyUrl:"https://clover.kimicat.com/LuckPayTest/uwallet.html",gameRuleUrl:"https://lucknetwork.zendesk.com/hc/en-us/articles/360047583793-Freebet-21-Game-Intro",gameRuleUrlCN:"https://lucknetwork.zendesk.com/hc/en-us/articles/360047583673-%E5%85%8D%E8%B4%B9%E5%8A%A0%E5%80%8D21%E7%82%B9-"},o.prefabs={Alert:null,Popup:null,FreeBetBJTAble:null,Chip:null},o.music={bg:null,bj:null,card:null,chip:null,press:null,split:null},o.atlas={cards:null,chips:null},function(t){t[t.zIndex_MIN=0]="zIndex_MIN",t[t.zIndex_1=1]="zIndex_1",t[t.zIndex_2=2]="zIndex_2",t[t.zIndex_3=3]="zIndex_3",t[t.zIndex_4=4]="zIndex_4",t[t.zIndex_5=5]="zIndex_5",t[t.zIndex_6=6]="zIndex_6",t[t.zIndex_7=7]="zIndex_7",t[t.zIndex_8=8]="zIndex_8",t[t.zIndex_MAX=9]="zIndex_MAX"}(n=o.zOrder||(o.zOrder={})),o.getCurrentSceneNode=function(){return cc.director.getScene().getChildByName("Canvas")},o.fixVisible=function(t){var e=t.getComponent(cc.Canvas),o=cc.view.getViewportRect().height/cc.view.getViewportRect().width;o>1.4?(e.fitHeight=!1,e.fitWidth=!0):o<1?(e.fitHeight=!0,e.fitWidth=!0):(e.fitHeight=!0,e.fitWidth=!1),i.default.log("width: "+cc.view.getViewportRect().width+",height: "+cc.view.getViewportRect().height),i.default.log("ratio:"+o)},o.getAlert=function(t){void 0===t&&(t=null);var e=cc.find("Alert"),r=null;return e?r=e.getComponent("Alert"):((e=cc.instantiate(o.prefabs.Alert)).zIndex=n.zIndex_MAX,r=e.getComponent("Alert"),cc.game.addPersistRootNode(e),r.init(),null!==t&&t(),i.default.log("Alert initial finished.")),r},o.getPopup=function(t){void 0===t&&(t=null);var e=cc.find("Popup"),r=null;return e?r=e.getComponent("Popup"):((e=cc.instantiate(o.prefabs.Popup)).zIndex=n.zIndex_MAX,r=e.getComponent("Popup"),cc.game.addPersistRootNode(e),r.init(),r.initKeyBoard(),null!==t&&t(),i.default.log("Popup initial finished.")),r},o.getXYUntilNode=function(t,e,n){return void 0===n&&(n={x:0,y:0}),t===e?n:(n.x+=t.x,n.y+=t.y,o.getXYUntilNode(t.parent,e,n))},o.getFormatNumberString=function(t,e){if(void 0===e&&(e=!1),t<=0)return"";var o=t/100+"";return e?"+"+o:o},o.getCardsString=function(t){var e="";return t.forEach(function(t){e+=o.getCardString(t),e+=" "}),e},o.getCardString=function(t){var e="";if(52===t)e+="\u3020";else{var o=Math.floor(t%13)+1;if(o<=10&&o>=2)e+=o;else switch(o){case 1:e+="A";break;case 11:e+="J";break;case 12:e+="Q";break;case 13:e+="K"}switch(Math.floor(t/13)){case 0:e+="\u2660";break;case 1:e+="\u2665";break;case 2:e+="\u2666";break;case 3:e+="\u2663"}}return e},o.getCardSpriteNode=function(t,e,n){void 0===e&&(e=96.5),void 0===n&&(n=140);var i=new cc.Node,a=i.addComponent(cc.Sprite);i.name=t+"",a.sizeMode=r.CUSTOM;var s=null;return o.atlas.cards.getSpriteFrames().forEach(function(e){s=parseInt(e.name)===t?e:s}),a.spriteFrame=s,i.width=e,i.height=n,i},o.getCardSpriteNodes=function(t,e,n){void 0===e&&(e=96.5),void 0===n&&(n=140);var i=[];return t.forEach(function(t){i.push(o.getCardSpriteNode(t,e,n))}),i},o.getCardSprite=function(t){var e=null;return o.atlas.cards.getSpriteFrames().forEach(function(o){e=parseInt(o.name)===t?o:e}),e},o.getChipSprite=function(t){var e=null;return o.atlas.chips.getSpriteFrames().forEach(function(o){e=parseInt(o.name)===t?o:e}),e},o.getChipPrefabNode=function(t){var e=cc.instantiate(o.prefabs.Chip),n=e.getComponent("Chip");return n.init(),n.setChipSprite(o.getChipSprite(t)),n.setValue(Math.round(t*a.tableSetting.betUnit)),e},o.getEaseObject=function(t){return{easing:t}},function(t){t.linear="linear",t.fade="fade",t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.quadOutIn="quadOutIn",t.cubicIn="cubicIn",t.cubicOut="cubicOut",t.cubicInOut="cubicInOut",t.cubicOutIn="cubicOutIn",t.quartIn="quartIn",t.quartOut="quartOut",t.quartInOut="quartInOut",t.quartOutIn="quartOutIn",t.quintIn="quintIn",t.quintOut="quintOut",t.quintInOut="quintInOut",t.quintOutIn="quintOutIn",t.sineIn="sineIn",t.sineOut="sineOut",t.sineInOut="sineInOut",t.sineOutIn="sineOutIn",t.expoIn="expoIn",t.expoOut="expoOut",t.expoInOut="expoInOut",t.expoOutIn="expoOutIn",t.circIn="circIn",t.circOut="circOut",t.circInOut="circInOut",t.circOutIn="circOutIn",t.elasticIn="elasticIn",t.elasticOut="elasticOut",t.elasticInOut="elasticInOut",t.elasticOutIn="elasticOutIn",t.backIn="backIn",t.backOut="backOut",t.backInOut="backInOut",t.backOutIn="backOutIn",t.bounceIn="bounceIn",t.bounceOut="bounceOut",t.bounceInOut="bounceInOut",t.bounceOutIn="bounceOutIn"}(o.Easing||(o.Easing={})),cc._RF.pop()},{"./CocosUtils":"CocosUtils","./FreeBetBJTableInfo":"FreeBetBJTableInfo"}],FreeBetBJSetting:[function(t,e,o){"use strict";cc._RF.push(e,"5b58fen42FH3ruq2kdho0z1","FreeBetBJSetting"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./CocosUtils"),i=t("./FreeBetBJContent"),r=function(){function t(){this._language="EN",this._music=!0,this._sound=!0,this.languages=["EN","CN"]}return Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"music",{get:function(){return this._music},set:function(t){this._music=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sound",{get:function(){return this._sound},set:function(t){this._sound=t},enumerable:!0,configurable:!0}),t.prototype.autoChangeLanguage=function(){var t=this,e=-1;this.languages.forEach(function(o,n,i){o===t.language&&(e=n+1>=i.length?0:n+1)}),-1!=e?this.language=this.languages[e]:n.default.warn("change language error.")},t.prototype.changeLanguage=function(t){this.language=t,this.triggerLanguage(i.getCurrentSceneNode())},t.prototype.triggerLanguage=function(t){var e=this;t.children.forEach(function(t){if(cc.js.getClassByName(t.name)){var o=t.getComponent(t.name);o&&"function"==typeof o.language&&o.language()}e.triggerLanguage(t)})},t}();o.default=r,o.freeBetBJSetting=new r,cc._RF.pop()},{"./CocosUtils":"CocosUtils","./FreeBetBJContent":"FreeBetBJContent"}],FreeBetBJTableInfo:[function(t,e,o){"use strict";cc._RF.push(e,"244b1GZaCpFyqrm9sMYk2FX","FreeBetBJTableInfo"),Object.defineProperty(o,"__esModule",{value:!0}),o.gamerInfo={gamerId:"",balance:0},o.serverInfo={data:null},o.tableSetting={tableID:"",betUnit:0,minBet:0,maxBet:0},o.cardSetting={focus:{show:[{x:0,y:0,angle:2,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:26,y:3,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:53,y:5,angle:-1,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:79,y:6,angle:-2,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:104,y:5,angle:-4,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:129,y:2,angle:-6,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:155,y:-2,angle:-7,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:182,y:-6,angle:-8,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:207,y:-12,angle:-10,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:232,y:-19,angle:-12,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4}],value:[{x:0,y:0},{x:64,y:79},{x:64,y:79},{x:95,y:85},{x:118,y:85},{x:137,y:84},{x:165,y:77},{x:190,y:70},{x:214,y:65},{x:240,y:59},{x:260,y:48}]},A:{initial:[{x:0,y:0},{x:15,y:60},{x:30,y:120},{x:45,y:180}],inner:{show:[{x:0,y:0,angle:14,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:16,y:6,angle:11,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:34,y:10,angle:10,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:52,y:12,angle:8,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:70,y:13,angle:6,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:88,y:13,angle:4,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:106,y:12,angle:2,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:125,y:10,angle:0,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:142,y:8,angle:-2,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:158,y:5,angle:-5,skewX:-10,skewY:0,scaleX:1,scaleY:1}],value:[{x:0,y:0},{x:34,y:57},{x:34,y:57},{x:49,y:63},{x:56,y:65},{x:78,y:69},{x:90,y:69},{x:111,y:71},{x:122,y:68},{x:138,y:68},{x:153,y:60}]},outer:{show:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:-4,y:0},{x:-8,y:0},{x:-12,y:0},{x:-16,y:0},{x:-20,y:0},{x:-24,y:0},{x:-28,y:0},{x:-32,y:0}]}},B:{initial:[{x:0,y:-60},{x:0,y:0},{x:0,y:60},{x:0,y:120}],inner:{show:[{x:0,y:0,angle:2,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:19,y:1,angle:0,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:39,y:2,angle:-1,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:59,y:2,angle:-2,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:79,y:2,angle:-3,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:98,y:-1,angle:-5,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:117,y:-4,angle:-7,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:137,y:-7,angle:-8,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:156,y:-11,angle:-10,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:175,y:-16,angle:-12,skewX:-2,skewY:-2,scaleX:1,scaleY:.9}],value:[{x:0,y:0},{x:55,y:45},{x:55,y:45},{x:64,y:49},{x:75,y:50},{x:87,y:50},{x:98,y:45},{x:110,y:40},{x:122,y:39},{x:134,y:35},{x:146,y:30}]},outer:{show:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:-8,y:0},{x:-16,y:0},{x:-24,y:0},{x:-32,y:0},{x:-40,y:0},{x:-48,y:0},{x:-56,y:0},{x:-64,y:0}]}},C:{initial:[{x:0,y:0},{x:-15,y:60},{x:-30,y:120},{x:-45,y:180}],inner:{show:[{x:0,y:0,angle:-8,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:21,y:-3,angle:-10,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:42,y:-7,angle:-12,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:63,y:-12,angle:-13,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:83,y:-18,angle:-14,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:102,y:-24,angle:-15,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:120,y:-32,angle:-16,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:138,y:-40,angle:-18,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:155,y:-50,angle:-20,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:172,y:-60,angle:-22,skewX:12,skewY:-5,scaleX:1,scaleY:1}],value:[{x:0,y:0},{x:65,y:41},{x:65,y:41},{x:84,y:45},{x:97,y:47},{x:111,y:45},{x:120,y:41},{x:130,y:36},{x:142,y:32},{x:150,y:28},{x:161,y:18}]},outer:{show:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:-8,y:6},{x:-16,y:12},{x:-24,y:18},{x:-32,y:24},{x:-40,y:30},{x:-48,y:36},{x:-56,y:42},{x:-64,y:48}]}},dealerFocus:{show:[{x:0,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:28,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:56,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:84,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:112,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:140,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:168,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:196,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:224,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:252,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4}],value:[{x:0,y:0},{x:64,y:79},{x:64,y:79},{x:82,y:79},{x:100,y:79},{x:118,y:79},{x:136,y:79},{x:154,y:79},{x:172,y:79},{x:190,y:79},{x:208,y:79}]},Dealer:{initial:[{x:0,y:0}],inner:{show:[{x:0,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:20,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:40,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:60,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:80,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:100,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:120,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:140,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:160,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:180,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1}],value:[{x:0,y:0},{x:0,y:0},{x:40,y:55},{x:50,y:55},{x:60,y:55},{x:70,y:55},{x:80,y:55},{x:90,y:55},{x:100,y:55},{x:110,y:55},{x:120,y:55}]},outer:{show:[{x:0,y:0},{x:-10,y:0},{x:-20,y:0},{x:-30,y:0},{x:-40,y:0},{x:-50,y:0},{x:-60,y:0},{x:-70,y:0},{x:-80,y:0},{x:-90,y:0},{x:-100,y:0}]}}},function(t){t[t.WIN=0]="WIN",t[t.LOSE=1]="LOSE",t[t.PUSH=2]="PUSH",t[t.BUSTED=3]="BUSTED",t[t.BLACKJACK=4]="BLACKJACK",t[t.FREEBETPUSH=5]="FREEBETPUSH",t[t.NONE=6]="NONE"}(o.ValueType||(o.ValueType={})),function(t){t.BET="bet",t.CARD="card"}(o.GameAction||(o.GameAction={})),function(t){t.MAXBET="maxBet",t.HIT="hit",t.DEAL="deal",t.STAND="stand",t.FREESPLIT="freeSplit",t.FREEDOUBLE="freeDouble",t.DOUBLE="double",t.SPLIT="split",t.NEWGAME="newGame",t.REBET="reBet"}(o.GameButton||(o.GameButton={})),cc._RF.pop()},{}],FreeBetBJTable:[function(t,e,o){"use strict";cc._RF.push(e,"a8ee2ivNm9BqLmYuGWT4EdN","FreeBetBJTable");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../lib/CocosUtils"),a=t("../lib/FreeBetBJTableInfo"),s=t("../lib/FreeBetBJContent"),c=cc.tween,l=t("../lib/FreeBetBJ"),u=t("../lib/Audio"),p=cc._decorator,f=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Chips=null,e.Menu=null,e.BetValue=null,e.FreeChip=null,e.bet={realTimeUnitA:0,realTimeUnitB:0,realTimeUnitC:0,unitA:0,unitB:0,unitC:0},e.moveChips=[],e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.initClickEvent=function(){var t=this;this.root.bet.children.forEach(function(e){e.on(cc.Node.EventType.TOUCH_START,t.onBetClick,t)})},e.prototype.onLoad=function(){this.init(),this.initClickEvent()},e.prototype.getRandomToken=function(){for(var t="abcdefghijklmnopqrstuvwxyz123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",e="",o=0;o<20;o++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},e.prototype.start=function(){var t=this,e=new URL(location.href),o=cc.sys.localStorage.getItem("pid"),n=null===e.searchParams.get("pid")?o:e.searchParams.get("pid");n||(n=this.getRandomToken()),cc.sys.localStorage.setItem("pid",n),a.gamerInfo.gamerId=n,this.hideUrl();var i=cc.instantiate(this.Menu),c=i.getComponent("Menu");c.init(),c.table=this,i.zIndex=s.zOrder.zIndex_8,this.node.addChild(i),this.updateBetLimitLabel(),l.freeBetBJ.getGame().catch(function(t){r.default.error(t)}).then(function(e){e&&("no_game"===e.status?t.effectOfChangeAction(a.GameAction.BET):"ongoing"===e.status&&t.getEventScript().noEffectServerEvent(e))})},e.prototype.onBetZoneClick=function(t){var e=this.getChips();if(e){var o=e.getComponent("Chips"),n=o.getFocusChipUnit(),i=this.getBetUnit(t.target);i!==a.tableSetting.maxBet&&(i=i+n>=a.tableSetting.maxBet?a.tableSetting.maxBet:i+n,this.setBetRealTimeUnit(t.target,i),this.effectOfMoveChip(t.target,o.focusChip))}},e.prototype.onBetClick=function(){},e.prototype.onCleanClick=function(){this.bet.realTimeUnitA=this.bet.realTimeUnitB=this.bet.realTimeUnitC=0,this.bet.unitA=this.bet.unitB=this.bet.unitC=0,this.removeAllMoveChips(),this.updateBetValueLabel()},e.prototype.onBetValueClearClick=function(t){var e=t.target.parent.parent.name;t.target.parent.getNumberOfRunningActions()>0||(u.audio.playEffect(s.music.press),this.bet["unit"+e]=0,this.bet["realTimeUnit"+e]=0,this.updateBetValueLabel())},e.prototype.getChips=function(){return this.node.getChildByName("Chips")},e.prototype.getBetUnit=function(t){switch(t.name){case"A":return this.bet.realTimeUnitA;case"B":return this.bet.realTimeUnitB;case"C":return this.bet.realTimeUnitC}},e.prototype.setBetRealTimeUnit=function(t,e){switch(t.name){case"A":this.bet.realTimeUnitA=e;break;case"B":this.bet.realTimeUnitB=e;break;case"C":this.bet.realTimeUnitC=e}},e.prototype.addBetUnit=function(t,e){var o=e.getComponent("Chip").unit;switch(t.name){case"A":this.bet.unitA+=o,this.bet.unitA>a.tableSetting.maxBet&&(this.bet.unitA=a.tableSetting.maxBet);break;case"B":this.bet.unitB+=o,this.bet.unitB>a.tableSetting.maxBet&&(this.bet.unitB=a.tableSetting.maxBet);break;case"C":this.bet.unitC+=o,this.bet.unitC>a.tableSetting.maxBet&&(this.bet.unitC=a.tableSetting.maxBet)}},e.prototype.setBetValue=function(t,e){this.root.$bet["$"+t].$BetValue["#bet"].label.string=s.getFormatNumberString(e)},e.prototype.getCardBoxCard=function(){return this.root.$cardBox.card},e.prototype.getDealerScript=function(){return this.root.Dealer.getComponent("Dealer")},e.prototype.getCardsScript=function(){return this.root.Cards.getComponent("Cards")},e.prototype.getChipsScript=function(){return this.node.getChildByName("Chips").getComponent("Chips")},e.prototype.getButtonsScript=function(){return this.root.Buttons.getComponent("Buttons")},e.prototype.getEventScript=function(){return this.node.getComponent("FreeBetEventHandler")},e.prototype.getBalanceScript=function(){return this.root.Balance.getComponent("Balance")},e.prototype.updateBetButtonStatus=function(){this.getButtonsScript().enableButtonClick(a.GameButton.DEAL,this.bet.realTimeUnitA>=a.tableSetting.minBet||this.bet.realTimeUnitB>=a.tableSetting.minBet||this.bet.realTimeUnitC>=a.tableSetting.minBet)},e.prototype.updateBetValueLabel=function(){var t=this;(this.root.$bet.$A.zone.destroyAllChildren(),this.root.$bet.$B.zone.destroyAllChildren(),this.root.$bet.$C.zone.destroyAllChildren(),this.bet.unitA>0)?(this.getChipsScript().getChipNodes(this.bet.unitA).forEach(function(e){e.removeComponent(cc.BlockInputEvents),e.removeComponent(cc.Button),t.root.$bet.$A.zone.addChild(e)}),this.showBetValue("A",!0),this.setBetValue("A",this.bet.unitA*a.tableSetting.betUnit)):this.showBetValue("A",!1);this.bet.unitB>0?(this.getChipsScript().getChipNodes(this.bet.unitB).forEach(function(e){e.removeComponent(cc.BlockInputEvents),e.removeComponent(cc.Button),t.root.$bet.$B.zone.addChild(e)}),this.showBetValue("B",!0),this.setBetValue("B",this.bet.unitB*a.tableSetting.betUnit)):this.showBetValue("B",!1);this.bet.unitC>0?(this.getChipsScript().getChipNodes(this.bet.unitC).forEach(function(e){e.removeComponent(cc.BlockInputEvents),e.removeComponent(cc.Button),t.root.$bet.$C.zone.addChild(e)}),this.showBetValue("C",!0),this.setBetValue("C",this.bet.unitC*a.tableSetting.betUnit)):this.showBetValue("C",!1);this.updateBetButtonStatus()},e.prototype.updateBetLimitLabel=function(){this.root.$bet.$tips.$maxBet["#value"].label.string=a.tableSetting.betUnit*a.tableSetting.maxBet+"",this.root.$bet.$tips.$minBet["#value"].label.string=a.tableSetting.betUnit*a.tableSetting.minBet+""},e.prototype.addFreeChipToSeat=function(t,e){void 0===e&&(e=!1);var o=this.root.$bet["$"+t].$free.zone;e?o.destroyAllChildren():o.addChild(cc.instantiate(this.FreeChip))},e.prototype.effectOfMoveChip=function(t,e){var o=this;u.audio.playEffect(s.music.chip);var n=cc.instantiate(e);n.removeComponent(cc.Button),n.removeComponent(cc.BlockInputEvents),n.getChildByName("bg").color=cc.Color.WHITE;var i=s.getXYUntilNode(e,this.node),r=s.getXYUntilNode(t,this.node);n.x=i.x,n.y=i.y,this.node.addChild(n),this.addChipToMoveChips(n),cc.tween(n).to(.2,{x:r.x,y:r.y}).call(function(){o.addBetUnit(t,e),o.removeChipFromMoveChips(n),o.updateBetValueLabel()}).start()},e.prototype.effectOfDealerSendChip=function(t,e,o){void 0===o&&(o=null),u.audio.playEffect(s.music.chip);var n=this.root.chipBox,i=this.root.$bet[t],r=this.root.$bet["$"+t].zone,a=cc.instantiate(r),l=s.getXYUntilNode(n,this.node),p=s.getXYUntilNode(i,this.node);a.x=l.x,a.y=l.y,this.node.addChild(a),c(a).delay(e).to(.2,{x:p.x,y:p.y},s.getEaseObject(s.Easing.sineOut)).call(function(){null!==o&&o()}).call(function(){a.destroy()}).start()},e.prototype.effectOfDealerSendFreeChip=function(t,e){var o=this;void 0===e&&(e=null),u.audio.playEffect(s.music.chip);var n=this.root.chipBox,i=s.getXYUntilNode(n,this.node),r=this.root.$bet["$"+t].$free.zone,a=s.getXYUntilNode(r,this.node),c=cc.instantiate(this.FreeChip);c.x=i.x,c.y=i.y,this.node.addChild(c),cc.tween(c).to(.25,{x:a.x,y:a.y},s.getEaseObject(s.Easing.sineOut)).call(function(){o.addFreeChipToSeat(t),e&&e(),c.destroy()}).start()},e.prototype.effectOfMoveCard=function(t,e,o,n,i,r,c){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===c&&(c=!1),u.audio.playEffect(s.music.card);var l="Dealer"===t,p=cc.instantiate(this.root.$cardBox.card),f=s.getXYUntilNode(this.root.$cardBox.card,this.node);p.active=!0,p.x=f.x,p.y=f.y,this.node.addChild(p);var h=this.root.Cards.getComponent("Cards"),d=this.root.Dealer.getComponent("Dealer"),y=l?d.addCardToSeatRow(o):h.addCardToSeatRow(o,t,e,r);y.active=!1;var g=s.getXYUntilNode(y,this.node);cc.tween(p).to(.075,{x:(g.x+f.x)/2,y:(g.y+f.y)/2,angle:(y.angle+p.angle)/2,skewX:45,skewY:45,scaleX:(y.scaleX+p.scaleX)/2,scaleY:(y.scaleY+p.scaleY)/2}).call(function(){p.getComponent(cc.Sprite).spriteFrame=y.getComponent(cc.Sprite).spriteFrame}).to(.075,{x:g.x,y:g.y,angle:y.angle,skewX:y.skewX,skewY:y.skewY,scaleX:y.scaleX,scaleY:y.scaleY}).call(function(){y.active=!0,l?d.updateRowPosition():h.updateRowPosition(t,e),l?d.showValue(!0,n):h.showValue(t,e,!0,n),l?d.updateValuePosition():h.updateValuePosition(t,r),i&&(l?d.setValueStatus(a.ValueType.BUSTED):h.setValueStatus(t,e,a.ValueType.BUSTED)),l&&c&&d.setValueStatus(a.ValueType.FREEBETPUSH),p.destroy()}).start()},e.prototype.effectOfReceiveAllCards=function(t){var e=this;u.audio.playEffect(s.music.card);var o=this.root.$Dealer.$row0.card;o.children.forEach(function(t){e.effectOfReceiveCard(t)}),o.destroyAllChildren(),this.getDealerScript().initSeatRow(),this.root.Cards.children.forEach(function(t){t.children.forEach(function(t){var o=t.getChildByName("card");o.children.forEach(function(t){e.effectOfReceiveCard(t)}),o.destroyAllChildren()})}),this.getCardsScript().initSeatRow(),this.getButtonsScript().actionIndex=0,this.addFreeChipToSeat("A",!0),this.addFreeChipToSeat("B",!0),this.addFreeChipToSeat("C",!0),c(this.node).delay(.3).call(function(){if(t){var o=[];o.push(e.bet.realTimeUnitA*a.tableSetting.betUnit),o.push(e.bet.realTimeUnitB*a.tableSetting.betUnit),o.push(e.bet.realTimeUnitC*a.tableSetting.betUnit),l.freeBetBJ.startNewGame(o).catch(function(t){r.default.error(t)}).then(function(t){t&&e.node.getComponent("FreeBetEventHandler").effectServerEvent(t)})}else e.effectOfChangeAction(a.GameAction.BET)}).start()},e.prototype.effectOfReceiveCard=function(t){var e=s.getXYUntilNode(t,this.node),o=cc.instantiate(t);o.x=e.x,o.y=e.y;var n=this.root.$cardBackBox.card,i=s.getXYUntilNode(n,this.node);this.node.addChild(o),cc.tween(o).to(.125,{x:(i.x+e.x)/2,y:(i.y+e.y)/2,angle:(n.angle+o.angle)/2,skewX:45,skewY:45,scaleX:(n.scaleX+o.scaleX)/2,scaleY:(n.scaleY+o.scaleY)/2}).call(function(){o.getComponent(cc.Sprite).spriteFrame=n.getComponent(cc.Sprite).spriteFrame}).to(.125,{x:i.x,y:i.y,angle:n.angle,skewX:n.skewX,skewY:n.skewY,scaleX:n.scaleX,scaleY:n.scaleY}).call(function(){o.destroy()}).start()},e.prototype.effectOfSlideDownShow=function(t){var e=t.y;t.active=!0,cc.tween(t).by(.25,{y:-t.height},s.getEaseObject(s.Easing.sineOut)).call(function(){t.y=e-t.height}).start()},e.prototype.effectOfSlideDownHide=function(t,e){void 0===e&&(e=null);var o=t.y;cc.tween(t).by(.25,{y:-t.height},s.getEaseObject(s.Easing.sineOut)).call(function(){t.y=o-t.height,t.active=!1,e&&e()}).start()},e.prototype.effectOfSlideUpShow=function(t,e){void 0===e&&(e=null);var o=t.y;t.active=!0,cc.tween(t).by(.25,{y:t.height},s.getEaseObject(s.Easing.sineOut)).call(function(){t.y=o+t.height}).start()},e.prototype.effectOfSlideUpHide=function(t){var e=t.y;cc.tween(t).by(.25,{y:t.height},s.getEaseObject(s.Easing.sineOut)).call(function(){t.y=e+t.height,t.active=!1}).start()},e.prototype.effectOfChangeAction=function(t){var e=this;if(t===a.GameAction.BET){var o=this.root.bg,n=this.root.bet;cc.tween(o).to(.25,{y:100}).call(function(){e.createChips(),e.updateBetValueLabel()}).start(),cc.tween(n).to(.25,{y:100}).start(),this.showCardBox(!1),this.showCardBackBox(!1),this.showChipBox(!1),this.getButtonsScript().changeButtons(t)}else if(t===a.GameAction.CARD){o=this.root.bg,n=this.root.bet;cc.tween(o).to(.25,{y:0}).call(function(){e.showCardBox(!0),e.showCardBackBox(!0),e.showChipBox(!0)}).start(),cc.tween(n).to(.25,{y:0}).start(),this.destroyChips(),this.getButtonsScript().changeButtons(t),this.showBetValue("A",!1),this.showBetValue("B",!1),this.showBetValue("C",!1)}},e.prototype.effectOfBetValue=function(t,e){var o=this.root.$bet[t],n=s.getXYUntilNode(o,this.node.parent),i=cc.instantiate(this.BetValue);i.getComponent("BetValue").setBetValue(e),i.x=n.x,i.y=n.y-120,i.scaleX=i.scaleY=.1,this.node.parent.addChild(i),cc.tween(i).to(.2,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.backOut)).delay(1.5).to(.2,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineOut)).call(function(){i.destroy()}).start()},e.prototype.addChipToMoveChips=function(t){this.moveChips.push(t)},e.prototype.removeChipFromMoveChips=function(t){for(var e=-1,o=0;this.moveChips.length;o++)if(this.moveChips[o]===t){t.destroy(),e=o;break}this.moveChips.splice(e,1)},e.prototype.removeAllMoveChips=function(){this.moveChips.forEach(function(t){t.stopAllActions(),t.destroy()}),this.moveChips.length=0},e.prototype.createChips=function(){var t=cc.instantiate(this.Chips),e=t.getComponent("Chips");e.table=this,e.setChips(a.tableSetting.betUnit),this.node.addChild(t)},e.prototype.destroyChips=function(){var t=this.node.getChildByName("Chips");this.effectOfSlideDownHide(t,function(){t.destroy()})},e.prototype.showBetTips=function(t){},e.prototype.showBetValue=function(t,e){var o=this.root.$bet["$"+t].BetValue;o.getNumberOfRunningActions()>0&&o.stopAllActions(),e?!1===o.active&&(o.active=!0,cc.tween(o).to(.25,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.backOut)).start()):!0===o.active&&cc.tween(o).to(.15,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineOut)).call(function(){o.active=!1}).start()},e.prototype.showCardBox=function(t){var e=this.root.cardBox;t?this.effectOfSlideDownShow(e):this.effectOfSlideUpHide(e)},e.prototype.showCardBackBox=function(t){var e=this.root.cardBackBox;t?this.effectOfSlideDownShow(e):this.effectOfSlideUpHide(e)},e.prototype.showChipBox=function(t){var e=this.root.chipBox;t?this.effectOfSlideDownShow(e):this.effectOfSlideUpHide(e)},e.prototype.hideUrl=function(){var t=window.location.href.split("?")[0];history.pushState({},"",t)},e.prototype.testChangeBetAction=function(){this.effectOfChangeAction(a.GameAction.BET)},e.prototype.testChangeCardAction=function(){this.effectOfChangeAction(a.GameAction.CARD)},e.prototype.testEffectOfDealerSendChip=function(){this.getCardsScript().effectOfChipValue("A",[3e3,12345,54321,2008])},e.prototype.testEffectOfDealerSendFreeChip=function(){this.effectOfDealerSendFreeChip("A")},i([h(cc.Prefab)],e.prototype,"Chips",void 0),i([h(cc.Prefab)],e.prototype,"Menu",void 0),i([h(cc.Prefab)],e.prototype,"BetValue",void 0),i([h(cc.Prefab)],e.prototype,"FreeChip",void 0),e=i([f],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/FreeBetBJ":"FreeBetBJ","../lib/FreeBetBJContent":"FreeBetBJContent","../lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],FreeBetBJText:[function(t,e,o){"use strict";cc._RF.push(e,"3f70fbfPYdAl5+EUzYrNRN+","FreeBetBJText"),Object.defineProperty(o,"__esModule",{value:!0});o.freeBetBJText={EN:{Pop:{Yes:"YES",No:"NO",Ok:"OK"},Balance:{Point:"Pts"},Message:{LoginError:"Platform token id error. Please sing up again."},Menu:{GameRule:"GAME RULE",Setting:"SETTINGS"},Setting:{EN:"EN",CN:"CN"}},CN:{Pop:{Yes:"\u662f",No:"\u5426",Ok:"\u597d"},Balance:{Point:"\u70b9"},Message:{LoginError:"\u7528\u6237\u8d44\u6599\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"},Menu:{GameRule:"\u6e38\u620f\u89c4\u5219",Setting:"\u8bbe\u5b9a"},Setting:{EN:"\u82f1",CN:"\u4e2d"}}},cc._RF.pop()},{}],FreeBetBJ:[function(t,e,o){"use strict";cc._RF.push(e,"d64d7J7vndJZa5DK31GCjhK","FreeBetBJ");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(t){r(t)}}function s(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./FreeBetBJContent"),a=t("./FreeBetBJTableInfo");o.freeBetBjUtils={promiseInjector:function(t){var e=this;return function(o){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e.injectPromise.apply(e,[o.bind(t)].concat(n))}},injectPromise:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return new Promise(function(o,n){t.apply(void 0,e.concat([function(t,e){t?n(t):o(e)}]))})}};var s=function(){function t(t,e){void 0===e&&(e=null),this.injectPromise=o.freeBetBjUtils.promiseInjector(this),this.tableID=t,setTimeout(function(){e&&e(null)},100)}return t.prototype.sendRequest=function(t,e,o,r){return void 0===r&&(r=!1),n(this,void 0,void 0,function(){var n,a,s;return i(this,function(i){if(!r)return[2,this.injectPromise(this.sendRequest,t,e,o)];try{n=new XMLHttpRequest,a="https://clover.kimicat.com/fblackjack/"+t,n.open(o,a),"POST"===o&&n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=JSON.parse(this.responseText);void 0!==t.error?r(t.error,null):r(null,t)}else r(this.statusText,null)},s=JSON.stringify(e),"GET"===o?n.send():n.send(s)}catch(t){r(t,null)}return[2]})})},t.prototype.getGameStatus=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){return o={tableID:this.tableID,playerID:t},[2,this.sendRequest("get_game",o,e)]})})},t.prototype.joinTable=function(t,e,o,r,a,s){return void 0===s&&(s=!1),n(this,void 0,void 0,function(){var n;return i(this,function(i){return n={tableID:this.tableID,playerID:e,seatID:t,mainBet:o,sideBet:r,fortuneBet:a},[2,this.sendRequest("request_seat",n,s)]})})},t.prototype.leaveTable=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){return o={tableID:this.tableID,playerID:t},[2,this.sendRequest("leave_seat",o,e)]})})},t.prototype.placeBet=function(t,e,o,r,a){return void 0===a&&(a=!1),n(this,void 0,void 0,function(){var n;return i(this,function(i){return n={tableID:this.tableID,playerID:t,mainBet:e,sideBet:o,fortuneBet:r},[2,this.sendRequest("place_bet",n,a)]})})},t.prototype.checkAlive=function(){return n(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("","","GET")]})})},t.prototype.getTableStatus=function(){return n(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("get_table/"+this.tableID,"","GET")]})})},t.prototype.getGame=function(){return n(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("get_game/"+this.tableID+"/"+a.gamerInfo.gamerId,"","GET")]})})},t.prototype.getBalance=function(){return n(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("get_balance/money_table/"+a.gamerInfo.gamerId,"","GET")]})})},t.prototype.startNewGame=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){return o={bets:t},[2,this.sendRequest("start_game/"+this.tableID+"/"+a.gamerInfo.gamerId,o,"POST",e)]})})},t.prototype.hit=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){return o={},[2,this.sendRequest("action/hit/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.stand=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){return o={},[2,this.sendRequest("action/stand/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.split=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){return o={},[2,this.sendRequest("action/split/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.freeSplit=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){return o={},[2,this.sendRequest("action/free_split/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.double=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){return o={},[2,this.sendRequest("action/double/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.freeDouble=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){return o={},[2,this.sendRequest("action/free_double/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t}();o.FreeBetBJ=s,o.freeBetBJ=new s(r.globalConstant.tableId),cc._RF.pop()},{"./FreeBetBJContent":"FreeBetBJContent","./FreeBetBJTableInfo":"FreeBetBJTableInfo"}],FreeBetEventHandler:[function(t,e,o){"use strict";cc._RF.push(e,"2b9adK3O+ZL8Yq5SSxT1llb","FreeBetEventHandler");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./lib/FreeBetBJTableInfo"),a=cc.tween,s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.table=null,e.splitSeatRow=[],e}return n(e,t),e.prototype.start=function(){this.table=this.node.getComponent("FreeBetBJTable")},e.prototype.checkSplitSeatRow=function(t){for(var e=!1,o=0;o<this.splitSeatRow.length;o++)if(this.splitSeatRow[o]===t){e=!0,this.splitSeatRow.splice(o,1);break}return e},e.prototype.effectServerEvent=function(t){var e=this;r.serverInfo.data=t;var o=this.table,n=o.getCardsScript(),i=o.getDealerScript(),a=o.getButtonsScript(),s=cc.tween(this.node),c=!1;n.getRowCount("A")+n.getRowCount("B")+n.getRowCount("C")===0&&(c=!0,t.seats.forEach(function(t){var n=e.getSeatByServerSeatIndex(t.seatIndex);s.call(function(){o.effectOfBetValue(n,t.betUnit)});var i=t.rows[0].cards[0];s.call(function(){o.effectOfMoveCard(n,"row0",i,t.rows[0].values.blackjack)}).delay(.15)}),s.call(function(){o.effectOfMoveCard("Dealer","row0",t.dealerCards[0],!1)}).delay(.15),t.seats.forEach(function(t){var i=e.getSeatByServerSeatIndex(t.seatIndex),r=t.rows[0].cards[1];s.call(function(){o.effectOfMoveCard(i,"row0",r,t.rows[0].values.blackjack),n.setValue(i,"row0",{hard:t.rows[0].values.hard,soft:t.rows[0].values.soft})}).delay(.15)}),s.call(function(){o.effectOfMoveCard("Dealer","row0",52,!1)}).delay(.15));var l=!1,u="",p=null;if(t.seats.forEach(function(t){var o=e.getSeatByServerSeatIndex(t.seatIndex),i=t.rows.length,r=n.getSeatRowCount(o);i>1&&i>r&&(u=o,p=i)}),""!==u){l=!0;var f=n.focusing.seat,h=n.focusing.row,d="row"+(p-1);this.splitSeatRow.push(n.focusing.seat+n.focusing.row),this.splitSeatRow.push(n.focusing.seat+d),s.call(function(){n.effectOfSplitCard(f,h,d)}).delay(.5)}var y="";-1!==t.focus.seat&&(y=this.getSeatByServerSeatIndex(t.seats[t.focus.seat].seatIndex));var g="";-1!==t.focus.row&&(g="row"+t.focus.row);var b=n.focusing.seat,v=n.focusing.row;if(""===b&&""===v)-1!==t.focus.seat&&-1!==t.focus.seat&&s.call(function(){n.focus(y,g)}).delay(.25);else{for(var B=function(){l=!0;for(var e=b,i=v,r=t.seats[C.getServerSeatsIndexBySeat(e,t.seats)].rows[C.getServerRowByRow(i)],a=function(t){s.call(function(){o.effectOfMoveCard(e,i,r.cards[t],r.values.blackjack,t===r.cards.length-1&&"busted"===r.status,!0),n.setValue(e,i,{hard:r.values.hard,soft:r.values.soft})}).delay(.25)},u=c?2:C.checkSplitSeatRow(e+i)?1:n.getCardCount(e,i);u<r.cards.length;u++)a(u);var p=C.getNextFocusingByFocusing({seat:e,row:i},t.seats);if(e===p.seat)s.call(function(){n.changeFocusOnSameSeat(e,i,p.row)}).delay(.5);else{u=C.getServerSeatsIndexBySeat(p.seat,t.seats);var f=C.getServerRowByRow(p.row),h=-1!==u&&-1!==f&&t.seats[u].rows[f].values.blackjack;s.call(function(){n.blur(e)}).delay(.25),""===p.seat||h||s.call(function(){n.focus(p.seat,p.row)}).delay(.25)}n.focusing.seat=b=p.seat,n.focusing.row=v=p.row},C=this;b!==y||v!==g;)B();if(""!==b&&""!==v)for(var m=t.seats[this.getServerSeatsIndexBySeat(n.focusing.seat,t.seats)].rows[this.getServerRowByRow(n.focusing.row)],w=function(t){s.call(function(){o.effectOfMoveCard(b,v,m.cards[t],!1,!1,!0),n.setValue(b,v,{hard:m.values.hard,soft:m.values.soft})}).delay(.25)},S=c?2:l&&this.checkSplitSeatRow(b+v)?1:n.getCardCount(b,v);S<m.cards.length;S++)w(S)}if("concluded"===t.status){this.splitSeatRow.length=0,s.call(function(){i.focus()}).delay(.5);var O=t.dealerCards,x=t.dealerValues,F=function(t){var e=O.slice(0,t+1),n=_.getCardValue(e);1===t?s.call(function(){i.setValue({hard:n.hard,soft:n.soft}),i.effectOfTurnLastCard(O[t],x.blackjack)}).delay(.5):s.call(function(){i.setValue({hard:n.hard,soft:n.soft}),o.effectOfMoveCard("Dealer","row0",O[t],!1,t===O.length-1&&x.hard>22,!0,t===O.length-1&&22===n.hard)}).delay(.25)},_=this;for(S=1;S<O.length;S++)F(S);s.call(function(){i.blur()}).delay(.5),t.seats.forEach(function(t){var o=e.getSeatByServerSeatIndex(t.seatIndex),i=[];t.rows.forEach(function(t,r){var a="row"+r,c=e.getValueTypeByServerResult(t.result),l=t.returns;"win"===t.result&&l>0&&i.push(l),s.call(function(){n.setValueStatus(o,a,c)})}),i.length>0&&s.call(function(){n.effectOfChipValue(o,i)}),s.delay(.25)})}if("concluded"===t.status)s.call(function(){a.disableAllCardButtons(),a.showEndButtons(!0)});else{S=t.focus.seat;var E=t.focus.row,k=t.seats[S].rows[E].actions,$=Object.keys(k);s.call(function(){$.forEach(function(t){var o=e.getGameButtonByServerAction(t);a.enableButtonClick(o,k[t]),a.showButton(o,k[t])})})}s.start()},e.prototype.noEffectServerEvent=function(t){var e=this;r.serverInfo.data=t;var o=this.table,n=o.getCardsScript(),i=o.getDealerScript(),s=o.getButtonsScript();s.actionIndex=t.actionIndex;var c=cc.instantiate(o.Chips),l=c.getComponent("Chips"),u=t.focus;t.seats.forEach(function(t,i){var a=e.getSeatByServerSeatIndex(t.seatIndex),s=t.betUnit,c=s/r.tableSetting.betUnit;o.bet["unit"+a]=c,o.bet["realTimeUnit"+a]=c,o.effectOfBetValue(a,s),l.getChipNodes(c).forEach(function(t){t.removeComponent(cc.BlockInputEvents),t.removeComponent(cc.Button),o.root.$bet["$"+a].zone.addChild(t)}),t.rows.forEach(function(t,e){t.cards.forEach(function(t,n){i===u.seat&&e>u.row?n<1&&o.getCardsScript().addCardToSeatRow(t,a,"row"+e,!1):o.getCardsScript().addCardToSeatRow(t,a,"row"+e,!1)}),i===u.seat&&e>u.row||n.setValue(a,"row"+e,{hard:t.values.hard,soft:t.values.soft});for(var r=t.freeBet;r>0;)o.addFreeChipToSeat(a),r-=s}),n.updateValuePosition(a,!1,!1),t.rows.forEach(function(t,e){n.showValue(a,"row"+e,!0,t.values.blackjack),"busted"===t.status&&n.setValueStatus(a,"row"+e,r.ValueType.BUSTED)})}),i.addCardToSeatRow(t.dealerCards[0]),i.addCardToSeatRow(52);var p=this.getSeatByServerSeatIndex(t.seats[u.seat].seatIndex);n.focus(p,"row"+u.row);var f=n.root["$"+p].row0,h=n.root["$"+p]["row"+u.row],d=f.zIndex;f.zIndex=h.zIndex,h.zIndex=d;var y=f.x;f.x=h.x,h.x=y;var g=f.y;f.y=h.y,h.y=g,c.destroy(),a(this.node).delay(1).call(function(){var o=t.seats[u.seat].rows[u.row].actions;Object.keys(o).forEach(function(t){var n=e.getGameButtonByServerAction(t);s.enableButtonClick(n,o[t]),s.showButton(n,o[t])})}).start()},e.prototype.getSeatByServerSeatIndex=function(t){switch(t){case 0:return"A";case 1:return"B";case 2:return"C";default:return""}},e.prototype.getServerSeatIndexBySeat=function(t){switch(t){case"A":return 0;case"B":return 1;case"C":return 2;default:return-1}},e.prototype.getSeatByServerFocus=function(t,e){return this.getSeatByServerSeatIndex(e[t].seatIndex)},e.prototype.getServerRowByRow=function(t){switch(t){case"row0":case"row1":case"row2":case"row3":return parseInt(t.charAt(t.length-1));default:return-1}},e.prototype.getServerSeatsIndexBySeat=function(t,e){var o=this,n=-1;return e.forEach(function(e,i){t===o.getSeatByServerSeatIndex(e.seatIndex)&&(n=i)}),n},e.prototype.getCardValue=function(t){for(var e=0,o=!1,n=!1,i=0;i<t.length;i++){var r=t[i]%13;r>=1&&r<=8?e+=r+1:r>=9?(e+=10,n=!0):0==r&&(e+=1,o=!0)}return{hard:e,soft:o?e+10:0,blackjack:11==e&&o&&n}},e.prototype.getNextFocusingByFocusing=function(t,e){var o=this,n={seat:"",row:""},i=[],r=[];e.forEach(function(t){var e=o.getSeatByServerSeatIndex(t.seatIndex);i.push(e),r.push(t.rows.length)});for(var a=this.getServerRowByRow(t.row),s=0;s<i.length;s++)if(i[s]===t.seat){if(a+1===r[s]){s+1<i.length&&(n.seat=i[s+1],n.row="row0");break}n.seat=t.seat,n.row="row"+(a+1);break}return n},e.prototype.getValueTypeByServerResult=function(t){switch(t){case"win":return r.ValueType.WIN;case"lose":return r.ValueType.LOSE;case"push":return r.ValueType.PUSH;case"none":return r.ValueType.NONE}},e.prototype.getGameButtonByServerAction=function(t){switch(t){case"hit":return r.GameButton.HIT;case"stand":return r.GameButton.STAND;case"split":return r.GameButton.SPLIT;case"double":return r.GameButton.DOUBLE;case"free_split":return r.GameButton.FREESPLIT;case"free_double":return r.GameButton.FREEDOUBLE}},e=i([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"d3501naviZCM6ps+Mfpidi6","Game");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./lib/FreeBetBJContent"),a=t("./lib/CocosUtils"),s=t("./lib/FreeBetBJ"),c=t("./lib/FreeBetBJTableInfo"),l=t("./lib/Audio"),u=cc._decorator,p=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){var t=this;l.audio.playMusic(r.music.bg),s.freeBetBJ.checkAlive().catch(function(e){a.default.error(e),t.setToolTipsMessage(e)}).then(function(e){e&&(t.setToolTipsMessage("Preparing Table..."),s.freeBetBJ.getTableStatus().catch(function(e){a.default.error(e),t.setToolTipsMessage(e)}).then(function(e){if(e){c.tableSetting.tableID=e.tableID,c.tableSetting.betUnit=e.betUnit,c.tableSetting.maxBet=e.maxBet,c.tableSetting.minBet=e.minBet;var o=cc.instantiate(r.prefabs.FreeBetBJTAble);t.root.ui.addChild(o)}}))})},e.prototype.setToolTipsMessage=function(t){this.root.$ui.$toolTips["#tip"].label.string=t},e.prototype.showToolTipsMessage=function(t){this.root.$ui.toolTips.active=t},e=i([p],e)}(cc.Component));o.default=f,cc._RF.pop()},{"./lib/Audio":"Audio","./lib/CocosUtils":"CocosUtils","./lib/FreeBetBJ":"FreeBetBJ","./lib/FreeBetBJContent":"FreeBetBJContent","./lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],I18N:[function(t,e,o){"use strict";cc._RF.push(e,"f63babv6RdHEY85ueX6/DLh","I18N"),cc._RF.pop()},{}],Input:[function(t,e,o){"use strict";cc._RF.push(e,"72bb692mCBJ7YTqmDg1iYHz","Input");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/CocosUtils"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nonActiveColor=cc.Color.WHITE,e.activeColor=new cc.Color(255,65,65),e.text="",e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.isEmpty=function(){return 0===this.text.length},e.prototype.setText=function(t){this.text=t.charAt(0),this.root["#title"].label.string=t},e.prototype.setActive=function(t){this.node.color=t?this.activeColor:this.nonActiveColor},e=i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],Key:[function(t,e,o){"use strict";cc._RF.push(e,"ecfc3dGUahD15tx06LO/RIM","Key");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/CocosUtils"),a=cc._decorator,s=a.ccclass,c=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=null,e.text="",e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.onKeyClick=function(){"function"==typeof this.onClick&&this.onClick(this.text)},e.prototype.setText=function(t){this.text=t,this.root["#title"].label.string=t},e=i([s],e)}(cc.Component));o.default=c,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"7155dPJP8VJ14fPbIbdq2wk","Loading");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./lib/CocosUtils"),a=t("./lib/FreeBetBJContent"),s=cc.tween,c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressCount=7,e.progressNow=0,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.onLoad=function(){a.fixVisible(this.node),this.init()},e.prototype.start=function(){this.effectOfLoading(),this.preLoadResources()},e.prototype.preLoadResources=function(){var t=this;cc.loader.loadRes("prefab/Alert",cc.Prefab,this.progressing.bind(this),function(e,o){e?r.default.error(e):(a.prefabs.Alert=o,a.getAlert(function(){t.addProgress()}))}),cc.loader.loadRes("prefab/Popup",cc.Prefab,this.progressing.bind(this),function(e,o){e?r.default.error(e):(a.prefabs.Popup=o,a.getPopup(function(){t.addProgress()}))}),cc.loader.loadRes("atlas/cards",cc.SpriteAtlas,this.progressing.bind(this),function(e,o){e?r.default.error(e):(a.atlas.cards=o,t.addProgress())}),cc.loader.loadRes("atlas/chips",cc.SpriteAtlas,this.progressing.bind(this),function(e,o){e?r.default.error(e):(a.atlas.chips=o,t.addProgress())}),cc.loader.loadRes("prefab/Chip",cc.Prefab,this.progressing.bind(this),function(e,o){e?r.default.error(e):(a.prefabs.Chip=o,t.addProgress())}),cc.loader.loadRes("prefab/FreeBetBJTable",cc.Prefab,this.progressing.bind(this),function(e,o){e?r.default.error(e):(a.prefabs.FreeBetBJTAble=o,t.addProgress())}),cc.loader.loadResDir("music",cc.AudioClip,function(e,o,n){t.root.$ui.detailProgressBar.getComponent(cc.ProgressBar).progress=(e/o).toFixed(2)-0},function(e,o){e?r.default.error(e):o.forEach(function(t){a.music[t.name]=t}),t.addProgress()})},e.prototype.preLoadScene=function(){cc.director.preloadScene("Game",function(){r.default.log("preload Game scene finished.")})},e.prototype.addProgress=function(){var t=this;this.progressNow++,this.root.$ui.progressBar.getComponent(cc.ProgressBar).progress=this.progressNow/this.progressCount,this.progressNow===this.progressCount&&cc.director.preloadScene("Game",null,function(){t.effectOfLoading(!0),cc.director.loadScene("Game")})},e.prototype.progressing=function(t,e){this.root.$ui.detailProgressBar.getComponent(cc.ProgressBar).progress=(t/e).toFixed(2)-0},e.prototype.effectOfLoading=function(t){void 0===t&&(t=!1);var e=this.root.$ui.$logo[1],o=this.root.$ui.$logo[2];t?(e.stopAllActions(),o.stopAllActions(),e.angle=o.angle=0):(s(e).repeatForever(s(e).to(10,{angle:360}).call(function(){e.angle=0})).start(),s(o).repeatForever(s(o).to(10,{angle:-360}).call(function(){o.angle=0})).start())},e=i([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"./lib/CocosUtils":"CocosUtils","./lib/FreeBetBJContent":"FreeBetBJContent"}],MenuItem:[function(t,e,o){"use strict";cc._RF.push(e,"92d6cTm5FZB9IhRJVTFqIsH","MenuItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,a=r.ccclass,s=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},i([s(cc.Label)],e.prototype,"label",void 0),i([s],e.prototype,"text",void 0),e=i([a],e)}(cc.Component);o.default=c,cc._RF.pop()},{}],Menu:[function(t,e,o){"use strict";cc._RF.push(e,"6085fL6bIhH1KxmOgXRSFKR","Menu");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/CocosUtils"),a=t("../../lib/FreeBetBJContent"),s=t("../../lib/Audio"),c=cc.tween,l=t("../../lib/FreeBetBJSetting"),u=t("../../lib/FreeBetBJText"),p=cc._decorator,f=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menuBtn=null,e.cancelBtn=null,e.Setting=null,e.show=!1,e.table=null,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.language=function(){var t=l.freeBetBJSetting.language;"EN"===t?(this.root.$content.$setting.$Background["#Label"].label.string=u.freeBetBJText.EN.Menu.Setting,this.root.$content.$gameRule.$Background["#Label"].label.string=u.freeBetBJText.EN.Menu.GameRule):"CN"===t&&(this.root.$content.$setting.$Background["#Label"].label.string=u.freeBetBJText.CN.Menu.Setting,this.root.$content.$gameRule.$Background["#Label"].label.string=u.freeBetBJText.CN.Menu.GameRule)},e.prototype.start=function(){this.language()},e.prototype.onMenuClick=function(){var t=this.root.content;if(!(t.getNumberOfRunningActions()>0))if(s.audio.playEffect(a.music.press),t.active)this.root["#bg"].sprite.spriteFrame=this.menuBtn,t.active=!0,t.children.forEach(function(t,e){c(t).to(.1,{y:0},a.getEaseObject(a.Easing.sineOut)).start()}),c(t).delay(.1).call(function(){t.active=!1}).start();else{this.root["#bg"].sprite.spriteFrame=this.cancelBtn;t.active=!0,t.children.forEach(function(t,e){c(t).to(.2,{y:100+70*e},a.getEaseObject(a.Easing.backOut)).start()}),c(t).delay(.25).start()}},e.prototype.onSettingClick=function(t){var e=cc.instantiate(this.Setting);e.zIndex=a.zOrder.zIndex_MAX,this.table.node.addChild(e)},e.prototype.onGameRuleClick=function(t){t.target.getNumberOfRunningActions()>0||(s.audio.playEffect(a.music.press),"EN"===l.freeBetBJSetting.language?window.open(a.globalConstant.gameRuleUrl):"CN"===l.freeBetBJSetting.language&&window.open(a.globalConstant.gameRuleUrlCN))},i([h(cc.SpriteFrame)],e.prototype,"menuBtn",void 0),i([h(cc.SpriteFrame)],e.prototype,"cancelBtn",void 0),i([h(cc.Prefab)],e.prototype,"Setting",void 0),e=i([f],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/FreeBetBJContent":"FreeBetBJContent","../../lib/FreeBetBJSetting":"FreeBetBJSetting","../../lib/FreeBetBJText":"FreeBetBJText"}],Popup:[function(t,e,o){"use strict";cc._RF.push(e,"86f72bwmcdBLJll1xk2snsB","Popup");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/CocosUtils"),a=t("../../lib/FreeBetBJText"),s=t("../../lib/FreeBetBJSetting"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Input=null,e.Key=null,e.Cap=null,e.Delete=null,e.hasInput=!1,e.yesCallback=null,e.isPoping=!1,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.start=function(){this.language()},e.prototype.language=function(){var t=s.freeBetBJSetting.language;this.root.$pop.$buttons.$yes["#title"].label.string=a.freeBetBJText[t].Pop.Yes,this.root.$pop.$buttons.$no["#title"].label.string=a.freeBetBJText[t].Pop.No,this.root.$pop.$buttons.$ok["#title"].label.string=a.freeBetBJText[t].Pop.Ok},e.prototype.initKeyBoard=function(){var t=this;["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].forEach(function(e){var o=cc.instantiate(t.Key),n=o.getComponent("Key");n.init(),n.setText(e),n.onClick=function(e){t.onKeyboardClick(e)},t.addKey(o)});var e=cc.instantiate(this.Delete),o=e.getComponent("Delete");o.init(),o.onClick=function(){t.onDeleteClick()},this.addKey(e);var n=cc.instantiate(this.Cap),i=n.getComponent("Cap");i.init(),i.onClick=function(e){t.onCapClick(e)},this.addKey(n)},e.prototype.showMessage=function(t){this.root.$pop["#message"].label.string=t,this.showInput(!1),this.showOk(!0),this.showYes(!1),this.showNo(!1),this.showInput(!1),this.showKeyboard(!1),this.node.active=!0,this.popIn()},e.prototype.showOption=function(t,e,o,n){void 0===n&&(n=0),this.root.$pop["#message"].label.string=t,this.hasInput=o,this.yesCallback=e,this.showOk(!1),this.showYes(!0),this.showNo(!0),this.showInput(o),this.showKeyboard(o),this.node.active=!0;for(var i=0;i<n;i++)this.addInput();o&&this.updateInputStatus(),this.popIn()},e.prototype.onOkClick=function(){this.isPoping||this.popOut()},e.prototype.onNoClick=function(){this.isPoping||this.popOut()},e.prototype.onYesClick=function(){this.isPoping||(this.hasInput?this.yesCallback(this.getInputString()):this.yesCallback(),this.popOut())},e.prototype.onBgClick=function(){},e.prototype.getInputString=function(){var t="";return this.root.$pop.inputs.children.forEach(function(e){t+=e.getComponent("Input").text}),t},e.prototype.showOk=function(t){this.root.$pop.$buttons.ok.active=t},e.prototype.showYes=function(t){this.root.$pop.$buttons.yes.active=t},e.prototype.showNo=function(t){this.root.$pop.$buttons.no.active=t},e.prototype.showInput=function(t){this.root.$pop.inputs.active=t},e.prototype.popIn=function(){var t=this;this.language(),this.isPoping=!0;var e=cc.scaleTo(.25,1,1).easing(cc.easeBackOut()),o=this.root.pop;o.scaleX=o.scaleY=.2,o.runAction(cc.sequence(e,cc.callFunc(function(){t.isPoping=!1})))},e.prototype.popOut=function(){var t=this;this.isPoping=!0;var e=cc.scaleTo(.25,.2,.2).easing(cc.easeBackIn()),o=this.root.pop;o.scaleX=o.scaleY=1,o.runAction(cc.sequence(e,cc.callFunc(function(){t.removeInputs(),t.isPoping=!1,t.node.active=!1})))},e.prototype.removeInputs=function(){this.root.$pop.inputs.removeAllChildren(!0)},e.prototype.addInput=function(){var t=cc.instantiate(this.Input);t.getComponent("Input").init(),this.root.$pop.inputs.addChild(t)},e.prototype.getFirstEmptyInput=function(){var t=null;return this.root.$pop.inputs.children.forEach(function(e){var o=e.getComponent("Input");null===t&&o.isEmpty()&&(t=e)}),t},e.prototype.getLastInput=function(){var t=this.root.$pop.inputs.children;return t[t.length-1]},e.prototype.updateInputStatus=function(){this.root.$pop.inputs.children.forEach(function(t){t.getComponent("Input").setActive(!1)});var t=this.getFirstEmptyInput();null===t&&(t=this.getLastInput()),t.getComponent("Input").setActive(!0)},e.prototype.addKey=function(t){this.root.keyboard.addChild(t)},e.prototype.getKeys=function(){return this.root.keyboard.children},e.prototype.showKeyboard=function(t){this.root.keyboard.active=t},e.prototype.onKeyboardClick=function(t){var e=this.getFirstEmptyInput();null===e&&(e=this.getLastInput()),e.getComponent("Input").setText(t),this.updateInputStatus()},e.prototype.onCapClick=function(t){this.getKeys().forEach(function(e){var o=e.getComponent("Key");if(null!==o){var n=o.root["#title"].label;t?o.setText(n.string.toUpperCase()):o.setText(n.string.toLowerCase())}})},e.prototype.onDeleteClick=function(){var t=this.getLastNonEmptyInput();null!==t&&(t.getComponent("Input").setText(""),this.updateInputStatus())},e.prototype.getLastNonEmptyInput=function(){var t=null;return this.root.$pop.inputs.children.forEach(function(e){""!==e.getComponent("Input").text&&(t=e)}),t},i([u(cc.Prefab)],e.prototype,"Input",void 0),i([u(cc.Prefab)],e.prototype,"Key",void 0),i([u(cc.Prefab)],e.prototype,"Cap",void 0),i([u(cc.Prefab)],e.prototype,"Delete",void 0),e=i([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/FreeBetBJSetting":"FreeBetBJSetting","../../lib/FreeBetBJText":"FreeBetBJText"}],Recharge:[function(t,e,o){"use strict";cc._RF.push(e,"1a753hRjUxHUrYcIkNFbmDZ","Recharge");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/CocosUtils"),a=t("../../lib/FreeBetBJSetting"),s=t("../../lib/FreeBetBJContent"),c=t("../../lib/Audio"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.titleCN=null,e.msg=null,e.msgCN=null,e.buy=null,e.buyCN=null,e}return n(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.language=function(){var t=a.freeBetBJSetting.language;"EN"===t?(this.root.$content["#title"].sprite.spriteFrame=this.title,this.root.$content["#msg"].sprite.spriteFrame=this.msg,this.root.$content["#buy"].button.normalSprite=this.buy,this.root.$content.$buy["#Background"].sprite.spriteFrame=this.buy):"CN"===t&&(this.root.$content["#title"].sprite.spriteFrame=this.titleCN,this.root.$content["#msg"].sprite.spriteFrame=this.msgCN,this.root.$content["#buy"].button.normalSprite=this.buyCN,this.root.$content.$buy["#Background"].sprite.spriteFrame=this.buyCN)},e.prototype.start=function(){this.init(),this.language(),this.effectOfShow()},e.prototype.effectOfShow=function(){var t=this.root.content;t.scaleX=t.scaleY=.1,t.active=!0,cc.tween(t).to(.25,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.backOut)).start()},e.prototype.onCloseClick=function(){c.audio.playEffect(s.music.press),this.node.destroy()},e.prototype.onBuyClick=function(t){t.target.getNumberOfRunningActions()>0||(c.audio.playEffect(s.music.press),window.open(s.globalConstant.buyUrl))},i([p(cc.SpriteFrame)],e.prototype,"title",void 0),i([p(cc.SpriteFrame)],e.prototype,"titleCN",void 0),i([p(cc.SpriteFrame)],e.prototype,"msg",void 0),i([p(cc.SpriteFrame)],e.prototype,"msgCN",void 0),i([p(cc.SpriteFrame)],e.prototype,"buy",void 0),i([p(cc.SpriteFrame)],e.prototype,"buyCN",void 0),e=i([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/FreeBetBJContent":"FreeBetBJContent","../../lib/FreeBetBJSetting":"FreeBetBJSetting"}],Setting:[function(t,e,o){"use strict";cc._RF.push(e,"a3c10k1U7tAlL+lfDLa7NDj","Setting");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../lib/FreeBetBJSetting"),a=t("../../lib/FreeBetBJText"),s=t("../../lib/CocosUtils"),c=t("../../lib/FreeBetBJContent"),l=t("../../lib/Audio"),u=cc._decorator,p=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.on=null,e.off=null,e.onCN=null,e.offCN=null,e.title=null,e.titleCN=null,e.music=null,e.musicCN=null,e.sound=null,e.soundCN=null,e.lang=null,e.langCN=null,e.fillRect=null,e.musicON=!0,e.soundON=!0,e.i18n="EN",e}return n(e,t),e.prototype.init=function(){this.root=s.default.tree(this.node,{})},e.prototype.language=function(){var t=r.freeBetBJSetting.language;"EN"===t?(this.root.$content["#title"].sprite.spriteFrame=this.title,this.root.$content["#sound"].sprite.spriteFrame=this.sound,this.soundON?(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.on,this.root.$content.$sound["#switch"].button.normalSprite=this.on):(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.off,this.root.$content.$sound["#switch"].button.normalSprite=this.off),this.root.$content["#music"].sprite.spriteFrame=this.music,this.musicON?(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.on,this.root.$content.$music["#switch"].button.normalSprite=this.on):(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.off,this.root.$content.$music["#switch"].button.normalSprite=this.off),this.root.$content["#language"].sprite.spriteFrame=this.lang,this.root.$content.$language.$switch.$EN.$Background["#Label"].label.string=a.freeBetBJText.EN.Setting.EN,this.root.$content.$language.$switch.$CN.$Background["#Label"].label.string=a.freeBetBJText.EN.Setting.CN,this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=this.fillRect,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=null):"CN"===t&&(this.root.$content["#title"].sprite.spriteFrame=this.titleCN,this.root.$content["#sound"].sprite.spriteFrame=this.soundCN,this.soundON?(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.onCN,this.root.$content.$sound["#switch"].button.normalSprite=this.onCN):(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.offCN,this.root.$content.$sound["#switch"].button.normalSprite=this.offCN),this.root.$content["#music"].sprite.spriteFrame=this.musicCN,this.musicON?(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.onCN,this.root.$content.$music["#switch"].button.normalSprite=this.onCN):(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.offCN,this.root.$content.$music["#switch"].button.normalSprite=this.offCN),this.root.$content["#language"].sprite.spriteFrame=this.langCN,this.root.$content.$language.$switch.$EN.$Background["#Label"].label.string=a.freeBetBJText.CN.Setting.EN,this.root.$content.$language.$switch.$CN.$Background["#Label"].label.string=a.freeBetBJText.CN.Setting.CN,this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=null,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=this.fillRect)},e.prototype.start=function(){this.init(),this.language(),this.effectOfShow()},e.prototype.onCloseClick=function(){l.audio.playEffect(c.music.press),this.node.destroy()},e.prototype.effectOfShow=function(){var t=this.root.content;t.scaleX=t.scaleY=.1,t.active=!0,cc.tween(t).to(.25,{scaleX:1,scaleY:1},c.getEaseObject(c.Easing.backOut)).start()},e.prototype.onSoundClick=function(){l.audio.playEffect(c.music.press),this.soundON=!this.soundON,l.audio.setEffectVolume(this.soundON),this.language()},e.prototype.onMusicClick=function(){l.audio.playEffect(c.music.press),this.musicON=!this.musicON,l.audio.setMusicVolume(this.musicON),this.language()},e.prototype.onCNClick=function(){"CN"!==r.freeBetBJSetting.language&&(l.audio.playEffect(c.music.press),r.freeBetBJSetting.changeLanguage("CN"),this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=null,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=this.fillRect)},e.prototype.onENClick=function(){"EN"!==r.freeBetBJSetting.language&&(l.audio.playEffect(c.music.press),r.freeBetBJSetting.changeLanguage("EN"),this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=this.fillRect,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=null)},i([f(cc.SpriteFrame)],e.prototype,"on",void 0),i([f(cc.SpriteFrame)],e.prototype,"off",void 0),i([f(cc.SpriteFrame)],e.prototype,"onCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"offCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"title",void 0),i([f(cc.SpriteFrame)],e.prototype,"titleCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"music",void 0),i([f(cc.SpriteFrame)],e.prototype,"musicCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"sound",void 0),i([f(cc.SpriteFrame)],e.prototype,"soundCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"lang",void 0),i([f(cc.SpriteFrame)],e.prototype,"langCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"fillRect",void 0),e=i([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/FreeBetBJContent":"FreeBetBJContent","../../lib/FreeBetBJSetting":"FreeBetBJSetting","../../lib/FreeBetBJText":"FreeBetBJText"}],Tree:[function(t,e,o){"use strict";cc._RF.push(e,"13872Bu/GlPvYXBTDFPl67A","Tree"),cc._RF.pop()},{}]},{},["FreeBetEventHandler","Game","Loading","Alias","I18N","Tree","Audio","CocosUtils","FreeBetBJ","FreeBetBJContent","FreeBetBJSetting","FreeBetBJTableInfo","FreeBetBJText","Alert","Balance","BetValue","BlackJack","Buttons","Cards","Chip","Chips","Dealer","FreeBetBJTable","Menu","MenuItem","Cap","Delete","Input","Key","Popup","Recharge","Setting"]);