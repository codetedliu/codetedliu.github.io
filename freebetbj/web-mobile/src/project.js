window.__require=function t(e,o,n){function r(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return r(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({Alert:[function(t,e,o){"use strict";cc._RF.push(e,"f04d9rqZutEqY4fW1vv2hH1","Alert");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/CocosUtils"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShowing=!1,e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.onLoad=function(){var t=this;this.fadeAction=cc.sequence(cc.fadeIn(.75),cc.delayTime(.5),cc.fadeOut(.75),cc.callFunc(function(){t.node.active=!1,t.isShowing=!1}))},e.prototype.show=function(t){this.isShowing&&(this.node.stopAction(this.fadeAction),this.isShowing=!1),this.root.$layout["#message"].label.string=t,this.root.$layout["#message"].label._forceUpdateRenderData(),this.root["#layout"].layout.updateLayout(),this.root.bg.width=this.root.layout.width,this.root.bg.height=this.root.layout.height,this.node.opacity=0,this.node.active=!0,this.isShowing=!0,this.node.runAction(this.fadeAction)},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils"}],Alias:[function(t,e,o){"use strict";cc._RF.push(e,"20cb0DCF7xLW5Iqhou3eAW3","Alias"),cc._RF.pop()},{}],Audio:[function(t,e,o){"use strict";cc._RF.push(e,"082fcfP85NJOZqX4211TwIn","Audio"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./FreeBetBJSetting"),r=function(){function t(t){this.volume=.4,this.setVolume(t)}return t.prototype.setVolume=function(t){this.volume=t,cc.audioEngine.setMusicVolume(t)},t.prototype.playMusic=function(t){cc.audioEngine.playMusic(t,!0),n.freeBetBJSetting.music=!0},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic(),n.freeBetBJSetting.music=!1},t.prototype.playEffect=function(t){cc.audioEngine.playEffect(t,!1)},t.prototype.stopEffect=function(){cc.audioEngine.stopAllEffects()},t}();o.default=r,o.audio=new r(.4),cc._RF.pop()},{"./FreeBetBJSetting":"FreeBetBJSetting"}],BetValue:[function(t,e,o){"use strict";cc._RF.push(e,"b9470W9GiBNmJ+IIy2poSc8","BetValue");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/FreeBetBJContent"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setBetValue=function(t){this.node.getChildByName("bet").getComponent(cc.Label).string=i.getFormatNumberString(t)},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../lib/FreeBetBJContent":"FreeBetBJContent"}],BlackJack:[function(t,e,o){"use strict";cc._RF.push(e,"adc1bHe8P1GH53yV6wN8tHz","BlackJack");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/FreeBetBJContent"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.reset=function(){this.node.children.forEach(function(t){"0"!==t.name&&(t.y=3)})},e.prototype.play=function(){var t=cc.tween(this.node);this.node.children.forEach(function(e){"0"!==e.name&&t.call(function(){cc.tween(e).by(.125,{y:20},i.getEaseObject(i.Easing.sineOut)).by(.125,{y:-20},i.getEaseObject(i.Easing.sineIn)).start()}).delay(.25)}),t.repeatForever(t).start()},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../lib/FreeBetBJContent":"FreeBetBJContent"}],Buttons:[function(t,e,o){"use strict";cc._RF.push(e,"50175Wca2BLOpJISAKmszDd","Buttons");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/CocosUtils"),a=t("../lib/FreeBetBJTableInfo"),c=t("../lib/FreeBetBJContent"),s=t("../lib/FreeBetBJ"),l=cc.tween,u=cc._decorator,p=u.ccclass,f=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.table=null,e.actionIndex=0,e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init(),this.table=this.node.parent.getComponent("FreeBetBJTable")},e.prototype.start=function(){},e.prototype.changeButtons=function(t){var e=this,o=this.root.card,n=this.root.bet;o.getNumberOfRunningActions()>0||n.getNumberOfRunningActions()>0||(this.showEndButtons(!1),t===a.GameAction.BET?o.active?cc.tween(o).by(.25,{x:o.width}).call(function(){o.active=!1,n.active=!0,cc.tween(n).by(.25,{x:-n.width}).start(),e.table.updateBetButtonStatus()}).start():(n.active=!0,cc.tween(n).by(.5,{x:-n.width}).start()):t===a.GameAction.CARD&&(n.active?cc.tween(n).by(.25,{x:n.width}).call(function(){n.active=!1,o.active=!0,cc.tween(o).by(.25,{x:-o.width}).start()}).start():(o.active=!0,cc.tween(o).by(.5,{x:-o.width}).start())))},e.prototype.onHitClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},c.getEaseObject(c.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineIn)).start(),this.disableAllCardButtons(!1),s.freeBetBJ.hit(this.actionIndex++).catch(function(t){e.actionIndex--,i.default.error(t)}).then(function(t){t&&e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}))}},e.prototype.onSplitClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},c.getEaseObject(c.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineIn)).start(),this.disableAllCardButtons(!1),s.freeBetBJ.split(this.actionIndex++).catch(function(t){e.actionIndex--,i.default.error(t)}).then(function(t){if(t){var o=e.table.getCardsScript().focusing.seat,n=e.table.getEventScript().getServerSeatsIndexBySeat(o,t.seats);e.table.effectOfBetValue(o,t.seats[n].betUnit),e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}}))}},e.prototype.onFreeSplitClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},c.getEaseObject(c.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineIn)).start(),this.disableAllCardButtons(!1),s.freeBetBJ.freeSplit(this.actionIndex++).catch(function(t){e.actionIndex--,i.default.error(t)}).then(function(t){if(t){var o=e.table.getCardsScript().focusing.seat;e.table.effectOfDealerSendFreeChip(o),e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}}))}},e.prototype.onDoubleClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},c.getEaseObject(c.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineIn)).start(),this.disableAllCardButtons(!1),s.freeBetBJ.double(this.actionIndex++).catch(function(t){e.actionIndex--,i.default.error(t)}).then(function(t){if(t){var o=e.table.getCardsScript().focusing.seat,n=e.table.getEventScript().getServerSeatsIndexBySeat(o,t.seats);e.table.effectOfBetValue(o,t.seats[n].betUnit),e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}}))}},e.prototype.onFreeDoubleClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},c.getEaseObject(c.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineIn)).start(),this.disableAllCardButtons(!1),s.freeBetBJ.freeDouble(this.actionIndex++).catch(function(t){e.actionIndex--,i.default.error(t)}).then(function(t){t&&(e.table.effectOfDealerSendFreeChip(e.table.getCardsScript().focusing.seat),e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t))}))}},e.prototype.onStandClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},c.getEaseObject(c.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineIn)).start(),this.disableAllCardButtons(!1),s.freeBetBJ.stand(this.actionIndex++).catch(function(t){e.actionIndex--,i.default.error(t)}).then(function(t){t&&e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)}))}},e.prototype.onMexBetClick=function(t){if(!this.isMoving()){var e=t.target;if(!(e.getNumberOfRunningActions()>0)){cc.tween(e).by(.05,{scaleX:-.1,scaleY:-.1},c.getEaseObject(c.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineIn)).start();var o=a.tableSetting.maxBet;this.table.bet.unitA=o,this.table.bet.unitB=o,this.table.bet.unitC=o,this.table.bet.realTimeUnitA=o,this.table.bet.realTimeUnitB=o,this.table.bet.realTimeUnitC=o,this.table.updateBetValueLabel()}}},e.prototype.onDealClick=function(t){var e=this;if(!this.isMoving()){var o=t.target;o.getNumberOfRunningActions()>0||(o.getComponent(cc.Button).interactable=!1,cc.tween(o).by(.05,{scaleX:-.1,scaleY:-.1},c.getEaseObject(c.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineIn)).start(),this.table.effectOfChangeAction(a.GameAction.CARD),l(this.node).delay(.3).call(function(){var t=[];t.push(e.table.bet.realTimeUnitA*a.tableSetting.betUnit),t.push(e.table.bet.realTimeUnitB*a.tableSetting.betUnit),t.push(e.table.bet.realTimeUnitC*a.tableSetting.betUnit),s.freeBetBJ.startNewGame(t).catch(function(t){i.default.error(t)}).then(function(t){t&&e.node.parent.getComponent("FreeBetEventHandler").effectServerEvent(t)})}).start())}},e.prototype.onNewRoundClick=function(t){t.target.getNumberOfRunningActions()>0||(this.showEndButtons(!1),this.table.effectOfReceiveAllCards(!1))},e.prototype.onReBetClick=function(t){t.target.getNumberOfRunningActions()>0||(this.showEndButtons(!1),this.table.effectOfReceiveAllCards(!0))},e.prototype.enableButtonClick=function(t,e){switch(t){case a.GameButton.DEAL:case a.GameButton.MAXBET:this.root.$bet["#"+t].button.interactable=e;break;case a.GameButton.DOUBLE:case a.GameButton.FREEDOUBLE:case a.GameButton.FREESPLIT:case a.GameButton.HIT:case a.GameButton.SPLIT:case a.GameButton.STAND:this.root.$card["#"+t].button.interactable=e}},e.prototype.showButton=function(t,e){this.effectOfShowButton(t,e)},e.prototype.showEndButtons=function(t){this.showButton(a.GameButton.NEWGAME,t),this.showButton(a.GameButton.REBET,t)},e.prototype.disableAllCardButtons=function(t){void 0===t&&(t=!0),t&&this.showButton(a.GameButton.DOUBLE,!1),this.enableButtonClick(a.GameButton.DOUBLE,!1),t&&this.showButton(a.GameButton.FREEDOUBLE,!1),this.enableButtonClick(a.GameButton.FREEDOUBLE,!1),t&&this.showButton(a.GameButton.FREESPLIT,!1),this.enableButtonClick(a.GameButton.FREESPLIT,!1),t&&this.showButton(a.GameButton.SPLIT,!1),this.enableButtonClick(a.GameButton.SPLIT,!1),t&&this.showButton(a.GameButton.HIT,!1),this.enableButtonClick(a.GameButton.HIT,!1),t&&this.showButton(a.GameButton.STAND,!1),this.enableButtonClick(a.GameButton.STAND,!1)},e.prototype.isMoving=function(){var t=this.root.card,e=this.root.bet;return t.getNumberOfRunningActions()>0||e.getNumberOfRunningActions()>0},e.prototype.getButtonNodeByGameButton=function(t){switch(t){case a.GameButton.DEAL:case a.GameButton.MAXBET:return this.root.$bet[t];case a.GameButton.DOUBLE:case a.GameButton.FREEDOUBLE:case a.GameButton.FREESPLIT:case a.GameButton.HIT:case a.GameButton.SPLIT:case a.GameButton.STAND:return this.root.$card[t];case a.GameButton.NEWGAME:case a.GameButton.REBET:return this.root.$end[t]}},e.prototype.effectOfShowButton=function(t,e){var o=this.getButtonNodeByGameButton(t);!0===o.active&&!1===e?l(o).to(.2,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineOut)).call(function(){o.active=!1}).start():!1===o.active&&!0===e&&(o.scaleX=o.scaleY=.1,o.active=!0,l(o).to(.2,{scaleX:1,scaleY:1},c.getEaseObject(c.Easing.backOut)).start())},e.prototype.testChangeButtonsToBetAction=function(){this.changeButtons(a.GameAction.BET)},e.prototype.testChangeButtonsToCardAction=function(){this.changeButtons(a.GameAction.CARD)},e=r([p],e)}(cc.Component));o.default=f,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/FreeBetBJ":"FreeBetBJ","../lib/FreeBetBJContent":"FreeBetBJContent","../lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],Cap:[function(t,e,o){"use strict";cc._RF.push(e,"d7f79xyot5KY7HFMVM84lME","Cap");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/CocosUtils"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.active=!0,e.onClick=null,e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.setActive=function(t){this.active=t,t?(this.root.activePng.active=!0,this.root.nonActivePng.active=!1):(this.root.activePng.active=!1,this.root.nonActivePng.active=!0)},e.prototype.onCapClick=function(){"function"==typeof this.onClick&&(this.setActive(!this.active),this.onClick(this.active))},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],Cards:[function(t,e,o){"use strict";cc._RF.push(e,"6e1e4M08YJNd5TxQHe8Swwh","Cards");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/CocosUtils"),a=t("../lib/FreeBetBJTableInfo"),c=t("../lib/FreeBetBJContent"),s=cc.tween,l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.valueTypes=[],e.valueStatus=[],e.ChipValue=null,e.BlackJack=null,e.table=null,e.focusing={seat:"",row:""},e.changeFocusEffectData=[],e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.initSeatRow=function(){var t=this;this.node.children.forEach(function(e){e.children.forEach(function(o,n,r){var i=parseInt(o.name.charAt(o.name.length-1));o.zIndex=r.length-i,o.x=a.cardSetting[e.name].initial[i].x,o.y=a.cardSetting[e.name].initial[i].y,t.showValue(e.name,o.name,!1),t.setValueStatus(e.name,o.name,a.ValueType.NONE)})})},e.prototype.onLoad=function(){this.init(),this.initSeatRow(),this.table=this.node.parent.getComponent("FreeBetBJTable")},e.prototype.start=function(){},e.prototype.update=function(t){this.changeFocusEffectData.length>0&&this.changeFocusEffectData.shift().forEach(function(t){var e=t.target;e.x=t.x,e.y=t.y,null!==t.callback&&t.callback()})},e.prototype.updateRowPosition=function(t,e){var o=this.root["$"+t]["$"+e].card,n=o.children.length,r=a.cardSetting[t].outer.show[n].x,i=a.cardSetting[t].outer.show[n].y;cc.tween(o).to(.25,{x:r,y:i},c.getEaseObject(c.Easing.sineOut)).start()},e.prototype.addCardToSeatRow=function(t,e,o,n){void 0===n&&(n=!1);var r=this.root["$"+e]["$"+o].card,i=r.children.length,s=c.getCardSpriteNode(t),l=this.isFocusing(e)||n?a.cardSetting.focus.show[i]:a.cardSetting[e].inner.show[i];return s.x=l.x,s.y=l.y,s.skewX=l.skewX,s.skewY=l.skewY,s.scaleX=l.scaleX,s.scaleY=l.scaleY,s.angle=l.angle,r.addChild(s),s},e.prototype.showLastCardOfSeatRow=function(t,e,o){var n=this.root["$"+t]["$"+e].card;n.children[n.children.length-1].active=o},e.prototype.isFocusing=function(t,e){return void 0===e&&(e=null),null===e?t===this.focusing.seat:t===this.focusing.seat&&e===this.focusing.row},e.prototype.focus=function(t,e){this.setFocusing(t,e),this.root[t].children.forEach(function(t){t.getChildByName("card").children.forEach(function(t,e){cc.tween(t).to(.25,a.cardSetting.focus.show[e],c.getEaseObject(c.Easing.sineOut)).start()})}),this.updateValuePosition(t)},e.prototype.blur=function(t){this.setFocusing("",""),this.root[t].children.forEach(function(e){e.getChildByName("card").children.forEach(function(e,o){cc.tween(e).to(.25,a.cardSetting[t].inner.show[o],c.getEaseObject(c.Easing.sineOut)).start()})}),this.updateValuePosition(t)},e.prototype.setFocusing=function(t,e){this.focusing.seat=t,this.focusing.row=e},e.prototype.getFocusSeatAndRow=function(){return{seat:this.root[this.focusing.seat],row:this.root["$"+this.focusing.seat][this.focusing.row]}},e.prototype.changeFocusOnSameSeat=function(t,e,o,n){void 0===n&&(n=null),console.log("seat:"+t),console.log("curRow:"+e),console.log("newRow:"+o);var r=this.root["$"+t][e],i=this.root["$"+t][o];this.createChangeFocusEffectData(r,i),this.changeFocusEffectData[this.changeFocusEffectData.length-1][0].callback=n,this.focusing.row=o},e.prototype.createChangeFocusEffectData=function(t,e){for(var o=this.createCirclePath(t.x,t.y,e.x,e.y),n=Math.ceil(o[0].length/2),r=function(){var o=t.zIndex;t.zIndex=e.zIndex,e.zIndex=o},i=0;i<o[0].length;i++){var a=[],c={target:t,x:o[0][i].x,y:o[0][i].y,callback:null},s={target:e,x:o[1][i].x,y:o[1][i].y,callback:null};i===n&&(c.callback=r),a.push(c,s),this.changeFocusEffectData.push(a)}var l=[],u={target:t,x:e.x,y:e.y,callback:null},p={target:e,x:t.x,y:t.y,callback:null};l.push(u,p),this.changeFocusEffectData.push(l)},e.prototype.createCirclePath=function(t,e,o,n){for(var r=[],i=(t+o)/2,a=(e+n)/2,c=Math.sqrt((o-t)*(o-t)+(n-e)*(n-e))/2,s=[],l=260;l>=100;l-=10)s.push(this.getCirclePoint(l,c,i,a));r.push(s);var u=[];for(l=80;l>=-80;l-=10)u.push(this.getCirclePoint(l,c,i,a));return r.push(u),r},e.prototype.getCirclePoint=function(t,e,o,n){var r=t/180*Math.PI%(2*Math.PI);return{x:Math.cos(r)*e+o,y:Math.sin(r)*e+n}},e.prototype.showValue=function(t,e,o,n){var r=this;void 0===n&&(n=!1);var i=this.root["$"+t]["$"+e].value,s=this.root["$"+t]["$"+e].$value["#odd"].sprite,l=0;if(this.root["$"+t]["$"+e].card.children.forEach(function(t){t.active&&l++}),!(l<2&&o)){var u=this.focusing.seat===t,p=u?a.cardSetting.focus.value[l].x:a.cardSetting[t].inner.value[l].x,f=u?a.cardSetting.focus.value[l].y:a.cardSetting[t].inner.value[l].y;if(s.spriteFrame=n?this.valueTypes[3]:this.valueTypes[0],o){if(!1===i.active){i.x=p,i.y=f,i.scaleX=i.scaleY=.1,i.active=!0,n&&this.setValueStatus(t,e,a.ValueType.BLACKJACK,!1);var h=cc.tween(i).to(.25,{scaleX:1,scaleY:1},c.getEaseObject(c.Easing.backOut));n&&h.call(function(){r.setValueStatus(t,e,a.ValueType.BLACKJACK)}),h.start()}}else i.x=i.y=0,i.scaleX=i.scaleY=.1,i.active=!1}},e.prototype.setValue=function(t,e,o){var n=this.root["$"+t]["$"+e].$value.odd,r=this.root["$"+t]["$"+e].$value.even;0!==o.soft&&o.soft<22?(n.active=!1,r.active=!0,this.root["$"+t]["$"+e].$value.$even["#soft"].label.string=o.soft+"",this.root["$"+t]["$"+e].$value.$even["#hard"].label.string=o.hard+"",this.root["$"+t]["$"+e].$value.$odd["#hard"].label.string=o.soft+"",21===o.soft?(n.active=!0,r.active=!1):(n.active=!1,r.active=!0)):(n.active=!0,r.active=!1,this.root["$"+t]["$"+e].$value.$odd["#hard"].label.string=o.hard+"")},e.prototype.setValueStatus=function(t,e,o,n){void 0===n&&(n=!0);var r=this.root["$"+t]["$"+e].$value["#odd"].sprite,i=this.root["$"+t]["$"+e].$value.odd,c=this.root["$"+t]["$"+e].$value.even;switch(i.active=!0,c.active=!1,o){case a.ValueType.WIN:r.spriteFrame=this.valueTypes[1];break;case a.ValueType.LOSE:r.spriteFrame=this.valueTypes[2];break;case a.ValueType.PUSH:r.spriteFrame=this.valueTypes[0];break;case a.ValueType.BUSTED:r.spriteFrame=this.valueTypes[2];break;case a.ValueType.BLACKJACK:r.spriteFrame=this.valueTypes[3];break;case a.ValueType.FREEBETPUSH:r.spriteFrame=this.valueTypes[0];break;case a.ValueType.NONE:r.spriteFrame=null}n&&this.effectOfValueStatus(t,e,o)},e.prototype.effectOfValueStatus=function(t,e,o){var n=this.root["$"+t]["$"+e].$value["#status"].sprite;switch(n.node.destroyAllChildren(),o){case a.ValueType.WIN:n.spriteFrame=this.valueStatus[0];break;case a.ValueType.LOSE:n.spriteFrame=this.valueStatus[1];break;case a.ValueType.PUSH:n.spriteFrame=this.valueStatus[2];break;case a.ValueType.BUSTED:n.spriteFrame=this.valueStatus[3];break;case a.ValueType.BLACKJACK:n.spriteFrame=null;break;case a.ValueType.FREEBETPUSH:n.spriteFrame=this.valueStatus[5];break;case a.ValueType.NONE:return void(n.spriteFrame=null)}switch(o){case a.ValueType.BLACKJACK:var r=cc.instantiate(this.BlackJack);n.node.addChild(r),cc.tween(r).call(function(){r.scaleX=0}).to(.25,{scaleX:1},c.getEaseObject(c.Easing.backOut)).call(function(){r.getComponent("BlackJack").play()}).start();break;default:cc.tween(n.node).call(function(){n.node.width=0}).to(.25,{width:n.spriteFrame.getRect().width},c.getEaseObject(c.Easing.backOut)).delay(1).to(.25,{width:0},c.getEaseObject(c.Easing.sineOut)).start()}},e.prototype.effectOfChipValue=function(t,e){var o=this,n=this.root[t],r=c.getXYUntilNode(n,this.node.parent);e.forEach(function(e,n){var i=cc.instantiate(o.ChipValue);i.getComponent(cc.Label).string=c.getFormatNumberString(e,!0),i.x=r.x,i.y=r.y-120,i.scaleX=i.scaleY=.5,o.table.effectOfDealerSendChip(t,.1*n,function(){o.node.parent.addChild(i),cc.tween(i).parallel(cc.tween(i).to(.25,{scaleX:1,scaleY:1},c.getEaseObject(c.Easing.sineOut)),cc.tween(i).by(.25,{y:20+40*n},c.getEaseObject(c.Easing.sineOut))).delay(1-.1*n).parallel(cc.tween(i).by(.5,{y:80}),cc.tween(i).to(.5,{opacity:50})).call(function(){i.destroy()}).start()})})},e.prototype.effectOfSplitCard=function(t,e,o){var n=this.root["$"+t]["$"+e].card,r=n.children[n.children.length-1],i=this.addCardToSeatRow(parseInt(r.name),t,o,!0),a=c.getCardSpriteNode(parseInt(i.name)),l=c.getXYUntilNode(r,this.node.parent),u=c.getXYUntilNode(i,this.node.parent);i.active=!1,this.node.parent.addChild(a),a.x=l.x,a.y=l.y,a.scaleX=r.scaleX,a.scaleY=r.scaleY,r.destroy(),this.showValue(t,e,!1),cc.tween(a).to(.125,{x:u.x,y:u.y+50},c.getEaseObject(c.Easing.sineOut)).call(function(){a.active=!1,i.active=!0;var t=i.y;i.y+=50,s(i).to(.125,{y:t},c.getEaseObject(c.Easing.sineIn)).call(function(){a.destroy()}).start()}).start()},e.prototype.updateValuePosition=function(t,e,o){var n=this;void 0===e&&(e=!1),void 0===o&&(o=!0),this.root[t].children.forEach(function(r){var i=r.getChildByName("value"),s=r.getChildByName("card").children.length;if(!(s<2)){var l=n.focusing.seat===t||e,u=l?a.cardSetting.focus.value[s].x:a.cardSetting[t].inner.value[s].x,p=l?a.cardSetting.focus.value[s].y:a.cardSetting[t].inner.value[s].y;o?cc.tween(i).to(.25,{x:u,y:p},c.getEaseObject(c.Easing.sineOut)).start():(i.x=u,i.y=p)}})},e.prototype.getCardCount=function(t,e){return this.root["$"+t]["$"+e].card.children.length},e.prototype.getSeatRowCount=function(t){var e=0;return this.root[t].children.forEach(function(t){t.getChildByName("card").children.length>0&&e++}),e},e.prototype.getRowCount=function(t){var e=0;return this.root[t].children.forEach(function(t){t.getChildByName("card").children.length>0&&e++}),e},e.prototype.testAddCardToSeatRow=function(){this.testEffectOfMoveCard("A","row0",Math.floor(52*Math.random())),this.testEffectOfMoveCard("B","row0",Math.floor(52*Math.random())),this.testEffectOfMoveCard("C","row0",Math.floor(52*Math.random()))},e.prototype.testAddCardToSeatRow2=function(){this.testEffectOfMoveCard("A","row1",Math.floor(52*Math.random())),this.testEffectOfMoveCard("B","row1",Math.floor(52*Math.random())),this.testEffectOfMoveCard("C","row1",Math.floor(52*Math.random()))},e.prototype.testAddCardToSeatRow3=function(){this.testEffectOfMoveCard("A","row2",Math.floor(52*Math.random())),this.testEffectOfMoveCard("B","row2",Math.floor(52*Math.random())),this.testEffectOfMoveCard("C","row2",Math.floor(52*Math.random()))},e.prototype.testAddCardToSeatRow4=function(){this.testEffectOfMoveCard("A","row3",Math.floor(52*Math.random())),this.testEffectOfMoveCard("B","row3",Math.floor(52*Math.random())),this.testEffectOfMoveCard("C","row3",Math.floor(52*Math.random()))},e.prototype.testFocus=function(){this.focus("A","row0")},e.prototype.testBlur=function(){this.blur("A")},e.prototype.testValueStatus=function(){var t=this;this.node.children.forEach(function(e){e.children.forEach(function(o){o.getChildByName("value").active&&t.setValueStatus(e.name,o.name,Math.floor(6*Math.random()))})})},e.prototype.testCreateChangeFocusEffectData=function(){this.createChangeFocusEffectData(this.root.$A.row0,this.root.$A.row1)},e.prototype.testEffectOfMoveCard=function(t,e,o){this.node.parent.getComponent("FreeBetBJTable").effectOfMoveCard(t,e,o)},e.prototype.testSendCard=function(){var t=this;this.node.parent.getComponent("FreeBetBJTable");cc.tween(this.node).call(function(){t.testEffectOfMoveCard("A","row0",Math.floor(52*Math.random()))}).delay(.25).call(function(){t.testEffectOfMoveCard("A","row0",Math.floor(52*Math.random()))}).delay(.25).call(function(){t.testEffectOfMoveCard("B","row0",Math.floor(52*Math.random()))}).delay(.25).call(function(){t.testEffectOfMoveCard("B","row0",Math.floor(52*Math.random()))}).delay(.25).call(function(){t.testEffectOfMoveCard("C","row0",Math.floor(52*Math.random()))}).delay(.25).call(function(){t.testEffectOfMoveCard("C","row0",Math.floor(52*Math.random()))}).start()},e.prototype.testEffectOfBetValue=function(){var t=["A","B","C"][Math.floor(3*Math.random())];this.table.effectOfBetValue(t,Math.floor(1e6*Math.random()))},e.prototype.testEffectOfSplitCard=function(){this.effectOfSplitCard("A","row0","row1")},e.prototype.testEffectReceiveAllCards=function(){this.node.parent.getComponent("FreeBetBJTable").effectOfReceiveAllCards()},r([p(cc.SpriteFrame)],e.prototype,"valueTypes",void 0),r([p(cc.SpriteFrame)],e.prototype,"valueStatus",void 0),r([p(cc.Prefab)],e.prototype,"ChipValue",void 0),r([p(cc.Prefab)],e.prototype,"BlackJack",void 0),e=r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/FreeBetBJContent":"FreeBetBJContent","../lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],Chips:[function(t,e,o){"use strict";cc._RF.push(e,"25d34Jz0oRBUa+9HAstuMcY","Chips");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/CocosUtils"),a=t("../../lib/FreeBetBJContent"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Chip=null,e.table=null,e.chipMultiple=[1,2,5,10],e.focusColor=new cc.Color(54,198,255),e.blurColor=cc.Color.WHITE,e.focusChip=null,e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.start=function(){this.table.effectOfSlideUpShow(this.node)},e.prototype.setChips=function(t){var e=this;this.chipMultiple.forEach(function(o,n){var r=Math.round(o*t),i=a.getChipPrefabNode(o),c=i.getComponent("Chip");c.setValue(r),c.setUnit(o),i.on(cc.Node.EventType.TOUCH_START,e.onChipClick,e),e.node.addChild(i),0===n&&e.focus(i)})},e.prototype.onChipClick=function(t){var e=this;this.node.children.forEach(function(o){t.target===o?e.focus(o):e.blur(o)})},e.prototype.focus=function(t){this.focusChip=t,t.getChildByName("bg").color=this.focusColor},e.prototype.blur=function(t){t.getChildByName("bg").color=this.blurColor},e.prototype.getFocusChipUnit=function(){if(null!==this.focusChip)return this.focusChip.getComponent("Chip").unit;i.default.warn("no focus chip.")},e.prototype.getChipNodes=function(t){for(var e=this.chipMultiple.slice().sort(function(t,e){return e-t}),o=[];t>0;)for(var n=0;n<e.length;n++)for(;t>=e[n];)o.push(a.getChipPrefabNode(e[n])),t-=e[n];return o},r([l(cc.Prefab)],e.prototype,"Chip",void 0),e=r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/FreeBetBJContent":"FreeBetBJContent"}],Chip:[function(t,e,o){"use strict";cc._RF.push(e,"841f2PXkCxCfZyWLZ62Zu5A","Chip");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/CocosUtils"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=0,e.unit=0,e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.start=function(){},e.prototype.setValue=function(t){this.value=t,this.root.$bg["#label"].label.string=""+t},e.prototype.setUnit=function(t){this.unit=t},e.prototype.setChipSprite=function(t){this.root["#bg"].sprite.spriteFrame=t},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],CocosUtils:[function(t,e,o){"use strict";cc._RF.push(e,"764b4e4KSJC9a1OoJWF5ldz","CocosUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=(n.ccclass,n.property,function(){function t(){}return t.tree=function(t,e){var o=this;return t.children.forEach(function(t){e[t.name]=t;var n=t.getComponent(cc.Label);n&&(e["#"+t.name]={},e["#"+t.name].label=n);var r=t.getComponent(cc.Sprite);r&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].sprite=r);var i=t.getComponent(cc.Layout);i&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].layout=i);var a=t.getComponent(cc.Button);a&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].button=a);var c=t.getComponent(cc.ProgressBar);c&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].progressBar=c);var s=t.getComponent(cc.EditBox);s&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].editBox=s),t.childrenCount>0&&(e["$"+t.name]={},o.tree(t,e["$"+t.name]))}),e},t.tree2=function(t,e){var o=this;e[t.name]=t;var n=t.getComponent(cc.Label);n&&(e["#"+t.name]={},e["#"+t.name].label=n);var r=t.getComponent(cc.Sprite);r&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].sprite=r);var i=t.getComponent(cc.Layout);return i&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].layout=i),t.childrenCount>0&&(e["$"+t.name]={},t.children.forEach(function(n){o.tree2(n,e["$"+t.name])})),e},t.log=function(t){this.debugMode&&console.log(t)},t.warn=function(t){this.debugMode&&console.warn(t)},t.error=function(t){this.debugMode&&console.error(t)},t.debugMode=!0,t}());o.default=r,cc._RF.pop()},{}],Dealer:[function(t,e,o){"use strict";cc._RF.push(e,"bb6eaRFFVhF+qIZNJNTXqi4","Dealer");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/FreeBetBJContent"),a=t("../lib/FreeBetBJTableInfo"),c=t("../lib/CocosUtils"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.valueTypes=[],e.valueStatus=[],e.focusing=!1,e}return n(e,t),e.prototype.init=function(){this.root=c.default.tree(this.node,{})},e.prototype.initSeatRow=function(){this.node.children.forEach(function(t,e,o){t.zIndex=o.length-e,t.x=a.cardSetting.Dealer.initial[e].x,t.y=a.cardSetting.Dealer.initial[e].y}),this.showValue(!1),this.setValueStatus(a.ValueType.NONE)},e.prototype.onLoad=function(){this.init(),this.initSeatRow()},e.prototype.start=function(){},e.prototype.focus=function(){this.focusing=!0,this.root.$row0.card.children.forEach(function(t,e){cc.tween(t).to(.25,a.cardSetting.dealerFocus.show[e],i.getEaseObject(i.Easing.sineOut)).start()}),this.updateValuePosition()},e.prototype.blur=function(){this.focusing=!1,this.root.$row0.card.children.forEach(function(t,e){cc.tween(t).to(.25,a.cardSetting.Dealer.inner.show[e],i.getEaseObject(i.Easing.sineOut)).start()}),this.updateValuePosition()},e.prototype.addCardToSeatRow=function(t){var e=this.root.$row0.card,o=e.children.length,n=i.getCardSpriteNode(t),r=this.focusing?a.cardSetting.dealerFocus.show[o]:a.cardSetting.Dealer.inner.show[o];return n.x=r.x,n.y=r.y,n.skewX=r.skewX,n.skewY=r.skewY,n.scaleX=r.scaleX,n.scaleY=r.scaleY,n.angle=r.angle,e.addChild(n),n},e.prototype.updateRowPosition=function(){var t=this.root.$row0.card,e=t.children.length,o=a.cardSetting.Dealer.outer.show[e].x,n=a.cardSetting.Dealer.outer.show[e].y;cc.tween(t).to(.25,{x:o,y:n},i.getEaseObject(i.Easing.sineOut)).start()},e.prototype.setValueStatus=function(t,e){void 0===e&&(e=!0);var o=this.root.$row0.$value["#odd"].sprite,n=this.root.$row0.$value.odd,r=this.root.$row0.$value.even;switch(n.active=!0,r.active=!1,t){case a.ValueType.WIN:o.spriteFrame=this.valueTypes[1];break;case a.ValueType.LOSE:o.spriteFrame=this.valueTypes[2];break;case a.ValueType.PUSH:o.spriteFrame=this.valueTypes[0];break;case a.ValueType.BUSTED:o.spriteFrame=this.valueTypes[2];break;case a.ValueType.BLACKJACK:o.spriteFrame=this.valueTypes[3];break;case a.ValueType.FREEBETPUSH:o.spriteFrame=this.valueTypes[0];break;case a.ValueType.NONE:o.spriteFrame=null}e&&this.effectOfValueStatus(t)},e.prototype.effectOfValueStatus=function(t){var e=this.root.$row0.$value["#status"].sprite;switch(t){case a.ValueType.WIN:e.spriteFrame=this.valueStatus[0];break;case a.ValueType.LOSE:e.spriteFrame=this.valueStatus[1];break;case a.ValueType.PUSH:e.spriteFrame=this.valueStatus[2];break;case a.ValueType.BUSTED:e.spriteFrame=this.valueStatus[3];break;case a.ValueType.BLACKJACK:e.spriteFrame=this.valueStatus[4];break;case a.ValueType.FREEBETPUSH:e.spriteFrame=this.valueStatus[5];break;case a.ValueType.NONE:return void(e.spriteFrame=null)}switch(t){case a.ValueType.BLACKJACK:cc.tween(e.node).call(function(){e.node.width=0}).to(.25,{width:e.spriteFrame.getRect().width},i.getEaseObject(i.Easing.backOut)).call(function(){}).start();break;default:cc.tween(e.node).call(function(){e.node.width=0}).to(.25,{width:e.spriteFrame.getRect().width},i.getEaseObject(i.Easing.backOut)).delay(1).to(.25,{width:0},i.getEaseObject(i.Easing.sineOut)).start()}},e.prototype.showValue=function(t,e){var o=this;void 0===e&&(e=!1);var n=this.root.$row0.value,r=this.root.$row0.$value["#odd"].sprite,c=0;if(this.root.$row0.card.children.forEach(function(t){t.active&&"52"!==t.name&&c++}),!(c<2&&t)){var s=this.focusing?a.cardSetting.dealerFocus.value[c].x:a.cardSetting.Dealer.inner.value[c].x,l=this.focusing?a.cardSetting.dealerFocus.value[c].y:a.cardSetting.Dealer.inner.value[c].y;if(r.spriteFrame=e?this.valueTypes[3]:this.valueTypes[0],t){if(!1===n.active){n.x=s,n.y=l,n.scaleX=n.scaleY=.1,n.active=!0;var u=cc.tween(n);e&&u.call(function(){o.setValueStatus(a.ValueType.BLACKJACK)}),u.to(.25,{scaleX:1,scaleY:1},i.getEaseObject(i.Easing.backOut)),u.start()}}else n.active=!1,n.x=n.y=0,n.scaleX=n.scaleY=.1}},e.prototype.setValue=function(t){var e=this.root.$row0.$value.odd,o=this.root.$row0.$value.even;0!==t.soft&&t.soft<22?(this.root.$row0.$value.$even["#soft"].label.string=t.soft+"",this.root.$row0.$value.$even["#hard"].label.string=t.hard+"",this.root.$row0.$value.$odd["#hard"].label.string=t.soft+"",21===t.soft?(e.active=!0,o.active=!1):(e.active=!1,o.active=!0)):(e.active=!0,o.active=!1,this.root.$row0.$value.$odd["#hard"].label.string=t.hard+"")},e.prototype.updateValuePosition=function(){var t=this.root.row0,e=t.getChildByName("value"),o=t.getChildByName("card").children.length;if(!(o<2)){var n=this.focusing?a.cardSetting.dealerFocus.value[o].x:a.cardSetting.Dealer.inner.value[o].x,r=this.focusing?a.cardSetting.dealerFocus.value[o].y:a.cardSetting.Dealer.inner.value[o].y;cc.tween(e).to(.25,{x:n,y:r},i.getEaseObject(i.Easing.sineOut)).start()}},e.prototype.effectOfTurnLastCard=function(t,e){var o=this;void 0===e&&(e=!1);var n=this.root.$row0.card.children,r=n[n.length-1],a=r.scaleX,c=i.getCardSprite(t);cc.tween(r).to(.075,{scaleX:0,skewY:15}).call(function(){r.getComponent(cc.Sprite).spriteFrame=c,r.skewY=-15,r.name=t+""}).to(.075,{scaleX:a,skewY:0}).call(function(){o.showValue(!0,e)}).start()},e.prototype.getCardCount=function(){var t=0;return this.root.$row0.card.children.forEach(function(e){"52"!==e.name&&t++}),t},e.prototype.testEffectOfMoveCard=function(t,e,o){this.node.parent.getComponent("FreeBetBJTable").effectOfMoveCard(t,e,o)},e.prototype.testAddCardToSeatRow=function(){this.testEffectOfMoveCard("Dealer","row0",Math.floor(52*Math.random()))},e.prototype.testTurnCardToSeatRow=function(){this.effectOfTurnLastCard(10)},e.prototype.testDealerFocus=function(){this.focus()},e.prototype.testDealerBlur=function(){this.blur()},r([u(cc.SpriteFrame)],e.prototype,"valueTypes",void 0),r([u(cc.SpriteFrame)],e.prototype,"valueStatus",void 0),e=r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/FreeBetBJContent":"FreeBetBJContent","../lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],Delete:[function(t,e,o){"use strict";cc._RF.push(e,"76ed12XmjxAiYspJmNgNh1i","Delete");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/CocosUtils"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.active=!0,e.onClick=null,e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.onDeleteClick=function(){"function"==typeof this.onClick&&this.onClick()},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],FreeBetBJContent:[function(t,e,o){"use strict";cc._RF.push(e,"3df6c/rYHxK94fPCFha8/Cs","FreeBetBJContent"),Object.defineProperty(o,"__esModule",{value:!0});var n,r=t("./CocosUtils"),i=cc.Sprite.SizeMode,a=t("./FreeBetBJTableInfo");o.globalConstant={tableId:"test_table"},o.prefabs={Alert:null,Popup:null,FreeBetBJTAble:null,Chip:null},o.music={bg:null},o.atlas={cards:null,chips:null},function(t){t[t.zIndex_MIN=0]="zIndex_MIN",t[t.zIndex_1=1]="zIndex_1",t[t.zIndex_2=2]="zIndex_2",t[t.zIndex_3=3]="zIndex_3",t[t.zIndex_4=4]="zIndex_4",t[t.zIndex_5=5]="zIndex_5",t[t.zIndex_6=6]="zIndex_6",t[t.zIndex_7=7]="zIndex_7",t[t.zIndex_8=8]="zIndex_8",t[t.zIndex_MAX=9]="zIndex_MAX"}(n=o.zOrder||(o.zOrder={})),o.getCurrentSceneNode=function(){return cc.director.getScene().getChildByName("Canvas")},o.fixVisible=function(t){var e=t.getComponent(cc.Canvas),o=cc.view.getViewportRect().height/cc.view.getViewportRect().width;o>1.4?(e.fitHeight=!1,e.fitWidth=!0):o<1?(e.fitHeight=!0,e.fitWidth=!0):(e.fitHeight=!0,e.fitWidth=!1),r.default.log("width: "+cc.view.getViewportRect().width+",height: "+cc.view.getViewportRect().height),r.default.log("ratio:"+o)},o.getAlert=function(t){void 0===t&&(t=null);var e=cc.find("Alert"),i=null;return e?i=e.getComponent("Alert"):((e=cc.instantiate(o.prefabs.Alert)).zIndex=n.zIndex_MAX,i=e.getComponent("Alert"),cc.game.addPersistRootNode(e),i.init(),null!==t&&t(),r.default.log("Alert initial finished.")),i},o.getPopup=function(t){void 0===t&&(t=null);var e=cc.find("Popup"),i=null;return e?i=e.getComponent("Popup"):((e=cc.instantiate(o.prefabs.Popup)).zIndex=n.zIndex_MAX,i=e.getComponent("Popup"),cc.game.addPersistRootNode(e),i.init(),i.initKeyBoard(),null!==t&&t(),r.default.log("Popup initial finished.")),i},o.getXYUntilNode=function(t,e,n){return void 0===n&&(n={x:0,y:0}),t===e?n:(n.x+=t.x,n.y+=t.y,o.getXYUntilNode(t.parent,e,n))},o.getFormatNumberString=function(t,e){if(void 0===e&&(e=!1),t<=0)return"";for(var o=""+t,n="",r=0,i=o.length-1;i>=0;i--,r++)3===r&&(n=","+n,r=0),n=o[i]+n;return e?"+"+n:n},o.getCardsString=function(t){var e="";return t.forEach(function(t){e+=o.getCardString(t),e+=" "}),e},o.getCardString=function(t){var e="";if(52===t)e+="\u3020";else{var o=Math.floor(t%13)+1;if(o<=10&&o>=2)e+=o;else switch(o){case 1:e+="A";break;case 11:e+="J";break;case 12:e+="Q";break;case 13:e+="K"}switch(Math.floor(t/13)){case 0:e+="\u2660";break;case 1:e+="\u2665";break;case 2:e+="\u2666";break;case 3:e+="\u2663"}}return e},o.getCardSpriteNode=function(t,e,n){void 0===e&&(e=96.5),void 0===n&&(n=140);var r=new cc.Node,a=r.addComponent(cc.Sprite);r.name=t+"",a.sizeMode=i.CUSTOM;var c=null;return o.atlas.cards.getSpriteFrames().forEach(function(e){c=parseInt(e.name)===t?e:c}),a.spriteFrame=c,r.width=e,r.height=n,r},o.getCardSpriteNodes=function(t,e,n){void 0===e&&(e=96.5),void 0===n&&(n=140);var r=[];return t.forEach(function(t){r.push(o.getCardSpriteNode(t,e,n))}),r},o.getCardSprite=function(t){var e=null;return o.atlas.cards.getSpriteFrames().forEach(function(o){e=parseInt(o.name)===t?o:e}),e},o.getChipSprite=function(t){var e=null;return o.atlas.chips.getSpriteFrames().forEach(function(o){e=parseInt(o.name)===t?o:e}),e},o.getChipPrefabNode=function(t){var e=cc.instantiate(o.prefabs.Chip),n=e.getComponent("Chip");return n.init(),n.setChipSprite(o.getChipSprite(t)),n.setValue(Math.round(t*a.tableSetting.betUnit)),e},o.getEaseObject=function(t){return{easing:t}},function(t){t.linear="linear",t.fade="fade",t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.quadOutIn="quadOutIn",t.cubicIn="cubicIn",t.cubicOut="cubicOut",t.cubicInOut="cubicInOut",t.cubicOutIn="cubicOutIn",t.quartIn="quartIn",t.quartOut="quartOut",t.quartInOut="quartInOut",t.quartOutIn="quartOutIn",t.quintIn="quintIn",t.quintOut="quintOut",t.quintInOut="quintInOut",t.quintOutIn="quintOutIn",t.sineIn="sineIn",t.sineOut="sineOut",t.sineInOut="sineInOut",t.sineOutIn="sineOutIn",t.expoIn="expoIn",t.expoOut="expoOut",t.expoInOut="expoInOut",t.expoOutIn="expoOutIn",t.circIn="circIn",t.circOut="circOut",t.circInOut="circInOut",t.circOutIn="circOutIn",t.elasticIn="elasticIn",t.elasticOut="elasticOut",t.elasticInOut="elasticInOut",t.elasticOutIn="elasticOutIn",t.backIn="backIn",t.backOut="backOut",t.backInOut="backInOut",t.backOutIn="backOutIn",t.bounceIn="bounceIn",t.bounceOut="bounceOut",t.bounceInOut="bounceInOut",t.bounceOutIn="bounceOutIn"}(o.Easing||(o.Easing={})),cc._RF.pop()},{"./CocosUtils":"CocosUtils","./FreeBetBJTableInfo":"FreeBetBJTableInfo"}],FreeBetBJSetting:[function(t,e,o){"use strict";cc._RF.push(e,"5b58fen42FH3ruq2kdho0z1","FreeBetBJSetting"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./CocosUtils"),r=function(){function t(t,e){this.languages=["EN","CN"],this._language=t,this._music=e}return Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"music",{get:function(){return this._music},set:function(t){this._music=t},enumerable:!0,configurable:!0}),t.prototype.changeLanguage=function(){var t=this,e=-1;this.languages.forEach(function(o,n,r){o===t.language&&(e=n+1>=r.length?0:n+1)}),-1!=e?this.language=this.languages[e]:n.default.warn("change language error.")},t.prototype.triggerLanguage=function(t){var e=this;t.children.forEach(function(t){if(cc.js.getClassByName(t.name)){var o=t.getComponent(t.name);"function"==typeof o.language&&o.language()}e.triggerLanguage(t)})},t}();o.default=r,o.freeBetBJSetting=new r("EN",!1),cc._RF.pop()},{"./CocosUtils":"CocosUtils"}],FreeBetBJTableInfo:[function(t,e,o){"use strict";cc._RF.push(e,"244b1GZaCpFyqrm9sMYk2FX","FreeBetBJTableInfo"),Object.defineProperty(o,"__esModule",{value:!0}),o.gamerInfo={gamerId:"test009",balance:10001},o.tableSetting={tableID:"",betUnit:0,minBet:0,maxBet:0},o.cardSetting={focus:{show:[{x:0,y:0,angle:2,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:26,y:3,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:53,y:5,angle:-1,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:79,y:6,angle:-2,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:104,y:5,angle:-4,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:129,y:2,angle:-6,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:155,y:-2,angle:-7,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:182,y:-6,angle:-8,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:207,y:-12,angle:-10,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:232,y:-19,angle:-12,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4}],value:[{x:0,y:0},{x:64,y:79},{x:64,y:79},{x:95,y:85},{x:118,y:85},{x:137,y:84},{x:165,y:77},{x:190,y:70},{x:214,y:65},{x:240,y:59},{x:260,y:48}]},A:{initial:[{x:0,y:0},{x:15,y:60},{x:30,y:120},{x:45,y:180}],inner:{show:[{x:0,y:0,angle:14,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:16,y:6,angle:11,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:34,y:10,angle:10,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:52,y:12,angle:8,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:70,y:13,angle:6,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:88,y:13,angle:4,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:106,y:12,angle:2,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:125,y:10,angle:0,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:142,y:8,angle:-2,skewX:-10,skewY:0,scaleX:1,scaleY:1},{x:158,y:5,angle:-5,skewX:-10,skewY:0,scaleX:1,scaleY:1}],value:[{x:0,y:0},{x:34,y:57},{x:34,y:57},{x:49,y:63},{x:56,y:65},{x:78,y:69},{x:90,y:69},{x:111,y:71},{x:122,y:68},{x:138,y:68},{x:153,y:60}]},outer:{show:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:-4,y:0},{x:-8,y:0},{x:-12,y:0},{x:-16,y:0},{x:-20,y:0},{x:-24,y:0},{x:-28,y:0},{x:-32,y:0}]}},B:{initial:[{x:0,y:-60},{x:0,y:0},{x:0,y:60},{x:0,y:120}],inner:{show:[{x:0,y:0,angle:2,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:19,y:1,angle:0,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:39,y:2,angle:-1,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:59,y:2,angle:-2,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:79,y:2,angle:-3,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:98,y:-1,angle:-5,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:117,y:-4,angle:-7,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:137,y:-7,angle:-8,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:156,y:-11,angle:-10,skewX:-2,skewY:-2,scaleX:1,scaleY:.9},{x:175,y:-16,angle:-12,skewX:-2,skewY:-2,scaleX:1,scaleY:.9}],value:[{x:0,y:0},{x:55,y:45},{x:55,y:45},{x:64,y:49},{x:75,y:50},{x:87,y:50},{x:98,y:45},{x:110,y:40},{x:122,y:39},{x:134,y:35},{x:146,y:30}]},outer:{show:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:-8,y:0},{x:-16,y:0},{x:-24,y:0},{x:-32,y:0},{x:-40,y:0},{x:-48,y:0},{x:-56,y:0},{x:-64,y:0}]}},C:{initial:[{x:0,y:0},{x:-15,y:60},{x:-30,y:120},{x:-45,y:180}],inner:{show:[{x:0,y:0,angle:-8,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:21,y:-3,angle:-10,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:42,y:-7,angle:-12,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:63,y:-12,angle:-13,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:83,y:-18,angle:-14,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:102,y:-24,angle:-15,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:120,y:-32,angle:-16,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:138,y:-40,angle:-18,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:155,y:-50,angle:-20,skewX:12,skewY:-5,scaleX:1,scaleY:1},{x:172,y:-60,angle:-22,skewX:12,skewY:-5,scaleX:1,scaleY:1}],value:[{x:0,y:0},{x:65,y:41},{x:65,y:41},{x:84,y:45},{x:97,y:47},{x:111,y:45},{x:120,y:41},{x:130,y:36},{x:142,y:32},{x:150,y:28},{x:161,y:18}]},outer:{show:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:-8,y:6},{x:-16,y:12},{x:-24,y:18},{x:-32,y:24},{x:-40,y:30},{x:-48,y:36},{x:-56,y:42},{x:-64,y:48}]}},dealerFocus:{show:[{x:0,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:28,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:56,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:84,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:112,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:140,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:168,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:196,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:224,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4},{x:252,y:0,angle:0,skewX:0,skewY:0,scaleX:1.4,scaleY:1.4}],value:[{x:0,y:0},{x:64,y:79},{x:64,y:79},{x:82,y:79},{x:100,y:79},{x:118,y:79},{x:136,y:79},{x:154,y:79},{x:172,y:79},{x:190,y:79},{x:208,y:79}]},Dealer:{initial:[{x:0,y:0}],inner:{show:[{x:0,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:20,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:40,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:60,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:80,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:100,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:120,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:140,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:160,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1},{x:180,y:0,angle:0,skewX:0,skewY:0,scaleX:1,scaleY:1}],value:[{x:0,y:0},{x:0,y:0},{x:40,y:55},{x:50,y:55},{x:60,y:55},{x:70,y:55},{x:80,y:55},{x:90,y:55},{x:100,y:55},{x:110,y:55},{x:120,y:55}]},outer:{show:[{x:0,y:0},{x:-10,y:0},{x:-20,y:0},{x:-30,y:0},{x:-40,y:0},{x:-50,y:0},{x:-60,y:0},{x:-70,y:0},{x:-80,y:0},{x:-90,y:0},{x:-100,y:0}]}}},function(t){t[t.WIN=0]="WIN",t[t.LOSE=1]="LOSE",t[t.PUSH=2]="PUSH",t[t.BUSTED=3]="BUSTED",t[t.BLACKJACK=4]="BLACKJACK",t[t.FREEBETPUSH=5]="FREEBETPUSH",t[t.NONE=6]="NONE"}(o.ValueType||(o.ValueType={})),function(t){t.BET="bet",t.CARD="card"}(o.GameAction||(o.GameAction={})),function(t){t.MAXBET="maxBet",t.HIT="hit",t.DEAL="deal",t.STAND="stand",t.FREESPLIT="freeSplit",t.FREEDOUBLE="freeDouble",t.DOUBLE="double",t.SPLIT="split",t.NEWGAME="newGame",t.REBET="reBet"}(o.GameButton||(o.GameButton={})),cc._RF.pop()},{}],FreeBetBJTable:[function(t,e,o){"use strict";cc._RF.push(e,"a8ee2ivNm9BqLmYuGWT4EdN","FreeBetBJTable");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/CocosUtils"),a=t("../lib/FreeBetBJTableInfo"),c=t("../lib/FreeBetBJContent"),s=cc.tween,l=t("../lib/FreeBetBJ"),u=cc._decorator,p=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Chips=null,e.Menu=null,e.BetValue=null,e.FreeChip=null,e.bet={realTimeUnitA:0,realTimeUnitB:0,realTimeUnitC:0,unitA:0,unitB:0,unitC:0},e.moveChips=[],e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.initClickEvent=function(){var t=this;this.root.bet.children.forEach(function(e){e.on(cc.Node.EventType.TOUCH_START,t.onBetClick,t)})},e.prototype.onLoad=function(){this.init(),this.initClickEvent()},e.prototype.start=function(){var t=this,e=new URL(location.href),o=cc.sys.localStorage.getItem("pid");if(console.log(e.searchParams.get("pid")),console.log(o),null===e.searchParams.get("pid")&&null===o)this.root.toolTips.active=!0;else{var n=null===e.searchParams.get("pid")?o:e.searchParams.get("pid");cc.sys.localStorage.setItem("pid",n),a.gamerInfo.gamerId=n,this.hideUrl();var r=cc.instantiate(this.Menu);r.getComponent("Menu").init(),r.zIndex=c.zOrder.zIndex_MAX,this.node.addChild(r),this.updateBetLimitLabel(),l.freeBetBJ.getGame().catch(function(t){i.default.error(t)}).then(function(e){e&&("no_game"===e.status?t.effectOfChangeAction(a.GameAction.BET):"ongoing"===e.status&&(console.warn(e),console.warn(e.seats),t.getEventScript().noEffectServerEvent(e)))})}},e.prototype.onBetZoneClick=function(t){var e=this.getChips();if(e){var o=e.getComponent("Chips"),n=o.getFocusChipUnit(),r=this.getBetUnit(t.target);r!==a.tableSetting.maxBet&&(r=r+n>=a.tableSetting.maxBet?a.tableSetting.maxBet:r+n,this.setBetRealTimeUnit(t.target,r),this.effectOfMoveChip(t.target,o.focusChip))}},e.prototype.onBetClick=function(){},e.prototype.onCleanClick=function(){this.bet.realTimeUnitA=this.bet.realTimeUnitB=this.bet.realTimeUnitC=0,this.bet.unitA=this.bet.unitB=this.bet.unitC=0,this.removeAllMoveChips(),this.updateBetValueLabel()},e.prototype.onBetValueClearClick=function(t){var e=t.target.parent.parent.name;t.target.parent.getNumberOfRunningActions()>0||(this.bet["unit"+e]=0,this.bet["realTimeUnit"+e]=0,this.updateBetValueLabel())},e.prototype.getChips=function(){return this.node.getChildByName("Chips")},e.prototype.getBetUnit=function(t){switch(t.name){case"A":return this.bet.realTimeUnitA;case"B":return this.bet.realTimeUnitB;case"C":return this.bet.realTimeUnitC}},e.prototype.setBetRealTimeUnit=function(t,e){switch(t.name){case"A":this.bet.realTimeUnitA=e;break;case"B":this.bet.realTimeUnitB=e;break;case"C":this.bet.realTimeUnitC=e}},e.prototype.addBetUnit=function(t,e){var o=e.getComponent("Chip").unit;switch(t.name){case"A":this.bet.unitA+=o,this.bet.unitA>a.tableSetting.maxBet&&(this.bet.unitA=a.tableSetting.maxBet);break;case"B":this.bet.unitB+=o,this.bet.unitB>a.tableSetting.maxBet&&(this.bet.unitB=a.tableSetting.maxBet);break;case"C":this.bet.unitC+=o,this.bet.unitC>a.tableSetting.maxBet&&(this.bet.unitC=a.tableSetting.maxBet)}},e.prototype.setBetValue=function(t,e){this.root.$bet["$"+t].$BetValue["#bet"].label.string=c.getFormatNumberString(e)},e.prototype.getCardBoxCard=function(){return this.root.$cardBox.card},e.prototype.getDealerScript=function(){return this.root.Dealer.getComponent("Dealer")},e.prototype.getCardsScript=function(){return this.root.Cards.getComponent("Cards")},e.prototype.getChipsScript=function(){return this.node.getChildByName("Chips").getComponent("Chips")},e.prototype.getButtonsScript=function(){return this.root.Buttons.getComponent("Buttons")},e.prototype.getEventScript=function(){return this.node.getComponent("FreeBetEventHandler")},e.prototype.updateBetButtonStatus=function(){this.getButtonsScript().enableButtonClick(a.GameButton.DEAL,this.bet.realTimeUnitA>=a.tableSetting.minBet||this.bet.realTimeUnitB>=a.tableSetting.minBet||this.bet.realTimeUnitC>=a.tableSetting.minBet)},e.prototype.updateBetValueLabel=function(){var t=this;(this.root.$bet.$A.zone.destroyAllChildren(),this.root.$bet.$B.zone.destroyAllChildren(),this.root.$bet.$C.zone.destroyAllChildren(),this.bet.unitA>0)?(this.getChipsScript().getChipNodes(this.bet.unitA).forEach(function(e){e.removeComponent(cc.BlockInputEvents),e.removeComponent(cc.Button),t.root.$bet.$A.zone.addChild(e)}),this.showBetValue("A",!0),this.setBetValue("A",this.bet.unitA*a.tableSetting.betUnit)):this.showBetValue("A",!1);this.bet.unitB>0?(this.getChipsScript().getChipNodes(this.bet.unitB).forEach(function(e){e.removeComponent(cc.BlockInputEvents),e.removeComponent(cc.Button),t.root.$bet.$B.zone.addChild(e)}),this.showBetValue("B",!0),this.setBetValue("B",this.bet.unitB*a.tableSetting.betUnit)):this.showBetValue("B",!1);this.bet.unitC>0?(this.getChipsScript().getChipNodes(this.bet.unitC).forEach(function(e){e.removeComponent(cc.BlockInputEvents),e.removeComponent(cc.Button),t.root.$bet.$C.zone.addChild(e)}),this.showBetValue("C",!0),this.setBetValue("C",this.bet.unitC*a.tableSetting.betUnit)):this.showBetValue("C",!1);this.updateBetButtonStatus()},e.prototype.updateBetLimitLabel=function(){this.root.$bet.$tips.$maxBet["#value"].label.string=a.tableSetting.betUnit*a.tableSetting.maxBet+"",this.root.$bet.$tips.$minBet["#value"].label.string=a.tableSetting.betUnit*a.tableSetting.minBet+""},e.prototype.addFreeChipToSeat=function(t,e){void 0===e&&(e=!1);var o=this.root.$bet["$"+t].$free.zone;e?o.destroyAllChildren():o.addChild(cc.instantiate(this.FreeChip))},e.prototype.effectOfMoveChip=function(t,e){var o=this,n=cc.instantiate(e);n.removeComponent(cc.Button),n.removeComponent(cc.BlockInputEvents),n.getChildByName("bg").color=cc.Color.WHITE;var r=c.getXYUntilNode(e,this.node),i=c.getXYUntilNode(t,this.node);n.x=r.x,n.y=r.y,this.node.addChild(n),this.addChipToMoveChips(n),cc.tween(n).to(.2,{x:i.x,y:i.y}).call(function(){o.addBetUnit(t,e),o.removeChipFromMoveChips(n),o.updateBetValueLabel()}).start()},e.prototype.effectOfDealerSendChip=function(t,e,o){void 0===o&&(o=null);var n=this.root.chipBox,r=this.root.$bet[t],i=this.root.$bet["$"+t].zone,a=cc.instantiate(i),l=c.getXYUntilNode(n,this.node),u=c.getXYUntilNode(r,this.node);a.x=l.x,a.y=l.y,this.node.addChild(a),s(a).delay(e).to(.2,{x:u.x,y:u.y},c.getEaseObject(c.Easing.sineOut)).call(function(){null!==o&&o()}).call(function(){a.destroy()}).start()},e.prototype.effectOfDealerSendFreeChip=function(t,e){var o=this;void 0===e&&(e=null);var n=this.root.chipBox,r=c.getXYUntilNode(n,this.node),i=this.root.$bet["$"+t].$free.zone,a=c.getXYUntilNode(i,this.node),s=cc.instantiate(this.FreeChip);s.x=r.x,s.y=r.y,this.node.addChild(s),cc.tween(s).to(.25,{x:a.x,y:a.y},c.getEaseObject(c.Easing.sineOut)).call(function(){o.addFreeChipToSeat(t),e&&e(),s.destroy()}).start()},e.prototype.effectOfMoveCard=function(t,e,o,n,r,i,s){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===s&&(s=!1);var l="Dealer"===t,u=cc.instantiate(this.root.$cardBox.card),p=c.getXYUntilNode(this.root.$cardBox.card,this.node);u.active=!0,u.x=p.x,u.y=p.y,this.node.addChild(u);var f=this.root.Cards.getComponent("Cards"),h=this.root.Dealer.getComponent("Dealer"),d=l?h.addCardToSeatRow(o):f.addCardToSeatRow(o,t,e,i);d.active=!1;var y=c.getXYUntilNode(d,this.node);cc.tween(u).to(.075,{x:(y.x+p.x)/2,y:(y.y+p.y)/2,angle:(d.angle+u.angle)/2,skewX:45,skewY:45,scaleX:(d.scaleX+u.scaleX)/2,scaleY:(d.scaleY+u.scaleY)/2}).call(function(){u.getComponent(cc.Sprite).spriteFrame=d.getComponent(cc.Sprite).spriteFrame}).to(.075,{x:y.x,y:y.y,angle:d.angle,skewX:d.skewX,skewY:d.skewY,scaleX:d.scaleX,scaleY:d.scaleY}).call(function(){d.active=!0,l?h.updateRowPosition():f.updateRowPosition(t,e),l?h.showValue(!0,n):f.showValue(t,e,!0,n),l?h.updateValuePosition():f.updateValuePosition(t,i),r&&(l?h.setValueStatus(a.ValueType.BUSTED):f.setValueStatus(t,e,a.ValueType.BUSTED)),l&&s&&h.setValueStatus(a.ValueType.FREEBETPUSH),u.destroy()}).start()},e.prototype.effectOfReceiveAllCards=function(t){var e=this,o=this.root.$Dealer.$row0.card;o.children.forEach(function(t){e.effectOfReceiveCard(t)}),o.destroyAllChildren(),this.getDealerScript().initSeatRow(),this.root.Cards.children.forEach(function(t){t.children.forEach(function(t){var o=t.getChildByName("card");o.children.forEach(function(t){e.effectOfReceiveCard(t)}),o.destroyAllChildren()})}),this.getCardsScript().initSeatRow(),this.getButtonsScript().actionIndex=0,this.addFreeChipToSeat("A",!0),this.addFreeChipToSeat("B",!0),this.addFreeChipToSeat("C",!0),s(this.node).delay(.3).call(function(){if(t){var o=[];o.push(e.bet.realTimeUnitA*a.tableSetting.betUnit),o.push(e.bet.realTimeUnitB*a.tableSetting.betUnit),o.push(e.bet.realTimeUnitC*a.tableSetting.betUnit),l.freeBetBJ.startNewGame(o).catch(function(t){i.default.error(t)}).then(function(t){t&&e.node.getComponent("FreeBetEventHandler").effectServerEvent(t)})}else e.effectOfChangeAction(a.GameAction.BET)}).start()},e.prototype.effectOfReceiveCard=function(t){var e=c.getXYUntilNode(t,this.node),o=cc.instantiate(t);o.x=e.x,o.y=e.y;var n=this.root.$cardBackBox.card,r=c.getXYUntilNode(n,this.node);this.node.addChild(o),cc.tween(o).to(.125,{x:(r.x+e.x)/2,y:(r.y+e.y)/2,angle:(n.angle+o.angle)/2,skewX:45,skewY:45,scaleX:(n.scaleX+o.scaleX)/2,scaleY:(n.scaleY+o.scaleY)/2}).call(function(){o.getComponent(cc.Sprite).spriteFrame=n.getComponent(cc.Sprite).spriteFrame}).to(.125,{x:r.x,y:r.y,angle:n.angle,skewX:n.skewX,skewY:n.skewY,scaleX:n.scaleX,scaleY:n.scaleY}).call(function(){o.destroy()}).start()},e.prototype.effectOfSlideDownShow=function(t){var e=t.y;t.active=!0,cc.tween(t).by(.25,{y:-t.height},c.getEaseObject(c.Easing.sineOut)).call(function(){t.y=e-t.height}).start()},e.prototype.effectOfSlideDownHide=function(t,e){void 0===e&&(e=null);var o=t.y;cc.tween(t).by(.25,{y:-t.height},c.getEaseObject(c.Easing.sineOut)).call(function(){t.y=o-t.height,t.active=!1,e&&e()}).start()},e.prototype.effectOfSlideUpShow=function(t,e){void 0===e&&(e=null);var o=t.y;t.active=!0,cc.tween(t).by(.25,{y:t.height},c.getEaseObject(c.Easing.sineOut)).call(function(){t.y=o+t.height}).start()},e.prototype.effectOfSlideUpHide=function(t){var e=t.y;cc.tween(t).by(.25,{y:t.height},c.getEaseObject(c.Easing.sineOut)).call(function(){t.y=e+t.height,t.active=!1}).start()},e.prototype.effectOfChangeAction=function(t){var e=this;if(t===a.GameAction.BET){var o=this.root.bg,n=this.root.bet;cc.tween(o).to(.25,{y:100}).call(function(){e.createChips(),e.updateBetValueLabel()}).start(),cc.tween(n).to(.25,{y:100}).start(),this.showCardBox(!1),this.showCardBackBox(!1),this.showChipBox(!1),this.getButtonsScript().changeButtons(t)}else if(t===a.GameAction.CARD){o=this.root.bg,n=this.root.bet;cc.tween(o).to(.25,{y:0}).call(function(){e.showCardBox(!0),e.showCardBackBox(!0),e.showChipBox(!0)}).start(),cc.tween(n).to(.25,{y:0}).start(),this.destroyChips(),this.getButtonsScript().changeButtons(t),this.showBetValue("A",!1),this.showBetValue("B",!1),this.showBetValue("C",!1)}},e.prototype.effectOfBetValue=function(t,e){var o=this.root.$bet[t],n=c.getXYUntilNode(o,this.node.parent),r=cc.instantiate(this.BetValue);r.getComponent("BetValue").setBetValue(e),r.x=n.x,r.y=n.y-120,r.scaleX=r.scaleY=.1,this.node.parent.addChild(r),cc.tween(r).to(.2,{scaleX:1,scaleY:1},c.getEaseObject(c.Easing.backOut)).delay(1.5).to(.2,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineOut)).call(function(){r.destroy()}).start()},e.prototype.addChipToMoveChips=function(t){this.moveChips.push(t)},e.prototype.removeChipFromMoveChips=function(t){for(var e=-1,o=0;this.moveChips.length;o++)if(this.moveChips[o]===t){t.destroy(),e=o;break}this.moveChips.splice(e,1)},e.prototype.removeAllMoveChips=function(){this.moveChips.forEach(function(t){t.stopAllActions(),t.destroy()}),this.moveChips.length=0},e.prototype.createChips=function(){var t=cc.instantiate(this.Chips),e=t.getComponent("Chips");e.table=this,e.setChips(a.tableSetting.betUnit),this.node.addChild(t)},e.prototype.destroyChips=function(){var t=this.node.getChildByName("Chips");this.effectOfSlideDownHide(t,function(){t.destroy()})},e.prototype.showBetTips=function(t){},e.prototype.showBetValue=function(t,e){var o=this.root.$bet["$"+t].BetValue;o.getNumberOfRunningActions()>0&&o.stopAllActions(),e?!1===o.active&&(console.log("2222"),o.active=!0,cc.tween(o).to(.25,{scaleX:1,scaleY:1},c.getEaseObject(c.Easing.backOut)).start()):!0===o.active&&cc.tween(o).to(.15,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineOut)).call(function(){o.active=!1}).start()},e.prototype.showCardBox=function(t){var e=this.root.cardBox;t?this.effectOfSlideDownShow(e):this.effectOfSlideUpHide(e)},e.prototype.showCardBackBox=function(t){var e=this.root.cardBackBox;t?this.effectOfSlideDownShow(e):this.effectOfSlideUpHide(e)},e.prototype.showChipBox=function(t){var e=this.root.chipBox;t?this.effectOfSlideDownShow(e):this.effectOfSlideUpHide(e)},e.prototype.hideUrl=function(){var t=window.location.href.split("?")[0];history.pushState({},"",t)},e.prototype.testChangeBetAction=function(){this.effectOfChangeAction(a.GameAction.BET)},e.prototype.testChangeCardAction=function(){this.effectOfChangeAction(a.GameAction.CARD)},e.prototype.testEffectOfDealerSendChip=function(){this.getCardsScript().effectOfChipValue("A",[3e3,12345,54321,2008])},e.prototype.testEffectOfDealerSendFreeChip=function(){this.effectOfDealerSendFreeChip("A")},r([f(cc.Prefab)],e.prototype,"Chips",void 0),r([f(cc.Prefab)],e.prototype,"Menu",void 0),r([f(cc.Prefab)],e.prototype,"BetValue",void 0),r([f(cc.Prefab)],e.prototype,"FreeChip",void 0),e=r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/FreeBetBJ":"FreeBetBJ","../lib/FreeBetBJContent":"FreeBetBJContent","../lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],FreeBetBJText:[function(t,e,o){"use strict";cc._RF.push(e,"3f70fbfPYdAl5+EUzYrNRN+","FreeBetBJText"),Object.defineProperty(o,"__esModule",{value:!0});o.freeBetBJText={EN:{Pop:{Yes:"YES",No:"NO",Ok:"OK"}},CN:{Pop:{Yes:"\u662f",No:"\u5426",Ok:"\u597d"}}},cc._RF.pop()},{}],FreeBetBJ:[function(t,e,o){"use strict";cc._RF.push(e,"d64d7J7vndJZa5DK31GCjhK","FreeBetBJ");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function c(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){t.done?r(t.value):new o(function(e){e(t.value)}).then(a,c)}s((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{o=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./FreeBetBJContent"),a=t("./FreeBetBJTableInfo");o.freeBetBjUtils={promiseInjector:function(t){var e=this;return function(o){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.injectPromise.apply(e,[o.bind(t)].concat(n))}},injectPromise:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return new Promise(function(o,n){t.apply(void 0,e.concat([function(t,e){t?n(t):o(e)}]))})}};var c=function(){function t(t,e){void 0===e&&(e=null),this.injectPromise=o.freeBetBjUtils.promiseInjector(this),this.tableID=t,setTimeout(function(){e&&e(null)},100)}return t.prototype.sendRequest=function(t,e,o,i){return void 0===i&&(i=!1),n(this,void 0,void 0,function(){var n,a,c;return r(this,function(r){if(!i)return[2,this.injectPromise(this.sendRequest,t,e,o)];try{n=new XMLHttpRequest,a="https://clover.kimicat.com/fblackjack/"+t,n.open(o,a),"POST"===o&&n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=JSON.parse(this.responseText);void 0!==t.error?i(t.error,null):i(null,t)}else i(this.statusText,null)},c=JSON.stringify(e),"GET"===o?n.send():n.send(c)}catch(t){i(t,null)}return[2]})})},t.prototype.getGameStatus=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={tableID:this.tableID,playerID:t},[2,this.sendRequest("get_game",o,e)]})})},t.prototype.joinTable=function(t,e,o,i,a,c){return void 0===c&&(c=!1),n(this,void 0,void 0,function(){var n;return r(this,function(r){return n={tableID:this.tableID,playerID:e,seatID:t,mainBet:o,sideBet:i,fortuneBet:a},[2,this.sendRequest("request_seat",n,c)]})})},t.prototype.leaveTable=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={tableID:this.tableID,playerID:t},[2,this.sendRequest("leave_seat",o,e)]})})},t.prototype.placeBet=function(t,e,o,i,a){return void 0===a&&(a=!1),n(this,void 0,void 0,function(){var n;return r(this,function(r){return n={tableID:this.tableID,playerID:t,mainBet:e,sideBet:o,fortuneBet:i},[2,this.sendRequest("place_bet",n,a)]})})},t.prototype.getBalance=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={tableID:this.tableID,playerID:t},[2,this.sendRequest("get_balance",o,e)]})})},t.prototype.checkAlive=function(){return n(this,void 0,void 0,function(){return r(this,function(t){return[2,this.sendRequest("","","GET")]})})},t.prototype.getTableStatus=function(){return n(this,void 0,void 0,function(){return r(this,function(t){return[2,this.sendRequest("get_table/"+this.tableID,"","GET")]})})},t.prototype.getGame=function(){return n(this,void 0,void 0,function(){return r(this,function(t){return[2,this.sendRequest("get_game/"+this.tableID+"/"+a.gamerInfo.gamerId,"","GET")]})})},t.prototype.startNewGame=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={bets:t},[2,this.sendRequest("start_game/"+this.tableID+"/"+a.gamerInfo.gamerId,o,"POST",e)]})})},t.prototype.hit=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={},[2,this.sendRequest("action/hit/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.stand=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={},[2,this.sendRequest("action/stand/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.split=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={},[2,this.sendRequest("action/split/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.freeSplit=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={},[2,this.sendRequest("action/free_split/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.double=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={},[2,this.sendRequest("action/double/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t.prototype.freeDouble=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return r(this,function(n){return o={},[2,this.sendRequest("action/free_double/"+this.tableID+"/"+a.gamerInfo.gamerId+"/"+t,o,"POST",e)]})})},t}();o.FreeBetBJ=c,o.freeBetBJ=new c(i.globalConstant.tableId),cc._RF.pop()},{"./FreeBetBJContent":"FreeBetBJContent","./FreeBetBJTableInfo":"FreeBetBJTableInfo"}],FreeBetEventHandler:[function(t,e,o){"use strict";cc._RF.push(e,"2b9adK3O+ZL8Yq5SSxT1llb","FreeBetEventHandler");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./lib/FreeBetBJTableInfo"),a=cc.tween,c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.table=null,e}return n(e,t),e.prototype.start=function(){this.table=this.node.getComponent("FreeBetBJTable"),console.log(this.getCardValue([9,10,0]))},e.prototype.effectServerEvent=function(t){var e=this,o=this.table,n=o.getCardsScript(),r=o.getDealerScript(),i=o.getButtonsScript(),a=cc.tween(this.node),c=!1;n.getRowCount("A")+n.getRowCount("B")+n.getRowCount("C")===0&&(console.log("--- \u65b0\u904a\u6232 ---"),c=!0,t.seats.forEach(function(t){var n=e.getSeatByServerSeatIndex(t.seatIndex);a.call(function(){console.log("--- \u986f\u793a\u4e0b\u6ce8\u984d ---"),o.effectOfBetValue(n,t.betUnit)});var r=t.rows[0].cards[0];a.call(function(){console.log("--- seat\u767c\u7b2c\u4e00\u5f35\u724c ---"),o.effectOfMoveCard(n,"row0",r,t.rows[0].values.blackjack)}).delay(.15)}),a.call(function(){console.log("--- dealer\u767c\u7b2c\u4e00\u5f35\u724c ---"),o.effectOfMoveCard("Dealer","row0",t.dealerCards[0],!1)}).delay(.15),t.seats.forEach(function(t){var r=e.getSeatByServerSeatIndex(t.seatIndex),i=t.rows[0].cards[1];a.call(function(){console.log("--- seat\u767c\u7b2c\u4e8c\u5f35\u724c ---"),console.log("seat:",r),console.log("card:",i),o.effectOfMoveCard(r,"row0",i,t.rows[0].values.blackjack),console.log("--- \u8a2d\u5b9a\u724c\u503c ---"),n.setValue(r,"row0",{hard:t.rows[0].values.hard,soft:t.rows[0].values.soft})}).delay(.15)}),a.call(function(){console.log("--- dealer\u767c\u724c\u80cc ---"),o.effectOfMoveCard("Dealer","row0",52,!1)}).delay(.15));var s="",l=0,u=null;if(t.seats.forEach(function(t){var o=e.getSeatByServerSeatIndex(t.seatIndex),r=t.rows.length,i=n.getSeatRowCount(o);r>1&&r>i&&(s=o,u=r)}),""!==s){l=2;var p=n.focusing.seat,f=n.focusing.row,h="row"+(u-1);a.call(function(){n.effectOfSplitCard(p,f,h)}).delay(.5)}var d="";-1!==t.focus.seat&&(d=this.getSeatByServerSeatIndex(t.seats[t.focus.seat].seatIndex));var y="";-1!==t.focus.row&&(y="row"+t.focus.row);var g=n.focusing.seat,v=n.focusing.row;if(""===g&&""===v)-1!==t.focus.seat&&-1!==t.focus.seat&&a.call(function(){console.log("--- \u9996\u805a\u7126 ---"),n.focus(d,y)}).delay(.25);else{for(var b=function(){var e=g,r=v;console.log("--- focus not equals ---"),console.log("\u76ee\u6a19seat:",d,",\u76ee\u6a19row:",y),console.log("\u7576\u524dseat:",e,",\u7576\u524drow:",r),console.log("------------------------");for(var i=t.seats[C.getServerSeatsIndexBySeat(e,t.seats)].rows[C.getServerRowByRow(r)],s=function(t){a.call(function(){console.log("--- focus not equals \u66f4\u65b0\u724c\u8207value --- ","\u7576\u524dseat:",g,",\u7576\u524drow:",v),o.effectOfMoveCard(e,r,i.cards[t],i.values.blackjack,t===i.cards.length-1&&"busted"===i.status,!0),n.setValue(e,r,{hard:i.values.hard,soft:i.values.soft})}).delay(.25)},u=c?2:l-- >0?1:n.getCardCount(e,r);u<i.cards.length;u++)s(u);var p=C.getNextFocusingByFocusing({seat:e,row:r},t.seats);if(e===p.seat)a.call(function(){n.changeFocusOnSameSeat(e,r,p.row)}).delay(.5);else{u=C.getServerSeatsIndexBySeat(p.seat,t.seats);var f=C.getServerRowByRow(p.row),h=-1!==u&&-1!==f&&t.seats[u].rows[f].values.blackjack;a.call(function(){n.blur(e)}).delay(.25),""===p.seat||h||a.call(function(){n.focus(p.seat,p.row)}).delay(.25)}n.focusing.seat=g=p.seat,n.focusing.row=v=p.row},C=this;g!==d||v!==y;)b();if(console.log("--- focus equals ---"),console.log("\u76ee\u6a19seat:",d,",\u76ee\u6a19row:",y),console.log("\u7576\u524dseat:",g,",\u7576\u524drow:",v),console.log("------"),""!==g&&""!==v)for(var B=t.seats[this.getServerSeatsIndexBySeat(n.focusing.seat,t.seats)].rows[this.getServerRowByRow(n.focusing.row)],w=function(t){a.call(function(){console.log("--- focus equals \u66f4\u65b0\u724c\u8207value --- ","\u7576\u524dseat:",g,",\u7576\u524drow:",v),o.effectOfMoveCard(g,v,B.cards[t],!1,!1,!0),n.setValue(g,v,{hard:B.values.hard,soft:B.values.soft})}).delay(.25)},m=c?2:l-- >0?1:n.getCardCount(g,v);m<B.cards.length;m++)w(m)}if("concluded"===t.status){a.call(function(){r.focus()}).delay(.5);var O=t.dealerCards,x=t.dealerValues,S=function(t){var e=O.slice(0,t+1),n=_.getCardValue(e);1===t?a.call(function(){r.setValue({hard:n.hard,soft:n.soft}),r.effectOfTurnLastCard(O[t],x.blackjack)}).delay(.5):a.call(function(){console.log("--- dealer \u66f4\u65b0\u724c\u8207value --- "),r.setValue({hard:n.hard,soft:n.soft}),o.effectOfMoveCard("Dealer","row0",O[t],!1,t===O.length-1&&x.hard>22,!0,t===O.length-1&&22===n.hard)}).delay(.25)},_=this;for(m=r.getCardCount();m<O.length;m++)S(m);a.call(function(){r.blur()}).delay(.5),t.seats.forEach(function(t){var o=e.getSeatByServerSeatIndex(t.seatIndex),r=[];t.rows.forEach(function(t,i){var c="row"+i,s=e.getValueTypeByServerResult(t.result),l=t.returns;"win"===t.result&&l>0&&r.push(l),a.call(function(){n.setValueStatus(o,c,s)})}),r.length>0&&a.call(function(){n.effectOfChipValue(o,r)}),a.delay(.25)})}if("concluded"===t.status)a.call(function(){i.disableAllCardButtons(),i.showEndButtons(!0)});else{m=t.focus.seat;var E=t.focus.row,I=t.seats[m].rows[E].actions,k=Object.keys(I);a.call(function(){k.forEach(function(t){var o=e.getGameButtonByServerAction(t);i.enableButtonClick(o,I[t]),i.showButton(o,I[t])})})}a.start()},e.prototype.noEffectServerEvent=function(t){var e=this,o=this.table,n=o.getCardsScript(),r=o.getDealerScript(),c=o.getButtonsScript();c.actionIndex=t.actionIndex;var s=cc.instantiate(o.Chips),l=s.getComponent("Chips"),u=t.focus;t.seats.forEach(function(t,r){var a=e.getSeatByServerSeatIndex(t.seatIndex),c=t.betUnit,s=c/i.tableSetting.betUnit;o.bet["unit"+a]=s,o.bet["realTimeUnit"+a]=s,o.effectOfBetValue(a,c),l.getChipNodes(s).forEach(function(t){t.removeComponent(cc.BlockInputEvents),t.removeComponent(cc.Button),o.root.$bet["$"+a].zone.addChild(t)}),t.rows.forEach(function(t,e){t.cards.forEach(function(t,n){r===u.seat&&e>u.row?n<1&&o.getCardsScript().addCardToSeatRow(t,a,"row"+e,!1):o.getCardsScript().addCardToSeatRow(t,a,"row"+e,!1)}),r===u.seat&&e>u.row||n.setValue(a,"row"+e,{hard:t.values.hard,soft:t.values.soft});for(var i=t.freeBet;i>0;)o.addFreeChipToSeat(a),i-=c}),n.updateValuePosition(a,!1,!1),t.rows.forEach(function(t,e){n.showValue(a,"row"+e,!0,t.values.blackjack),"busted"===t.status&&n.setValueStatus(a,"row"+e,i.ValueType.BUSTED)})}),r.addCardToSeatRow(t.dealerCards[0]),r.addCardToSeatRow(52);var p=this.getSeatByServerSeatIndex(t.seats[u.seat].seatIndex);n.focus(p,"row"+u.row);var f=n.root["$"+p].row0,h=n.root["$"+p]["row"+u.row],d=f.zIndex;f.zIndex=h.zIndex,h.zIndex=d;var y=f.x;f.x=h.x,h.x=y;var g=f.y;f.y=h.y,h.y=g,s.destroy(),a(this.node).delay(1).call(function(){var o=t.seats[u.seat].rows[u.row].actions;Object.keys(o).forEach(function(t){var n=e.getGameButtonByServerAction(t);c.enableButtonClick(n,o[t]),c.showButton(n,o[t])})}).start()},e.prototype.getSeatByServerSeatIndex=function(t){switch(t){case 0:return"A";case 1:return"B";case 2:return"C";default:return""}},e.prototype.getServerSeatIndexBySeat=function(t){switch(t){case"A":return 0;case"B":return 1;case"C":return 2;default:return-1}},e.prototype.getSeatByServerFocus=function(t,e){return this.getSeatByServerSeatIndex(e[t].seatIndex)},e.prototype.getServerRowByRow=function(t){switch(t){case"row0":case"row1":case"row2":case"row3":return parseInt(t.charAt(t.length-1));default:return-1}},e.prototype.getServerSeatsIndexBySeat=function(t,e){var o=this,n=-1;return e.forEach(function(e,r){t===o.getSeatByServerSeatIndex(e.seatIndex)&&(n=r)}),n},e.prototype.getCardValue=function(t){for(var e=0,o=!1,n=!1,r=0;r<t.length;r++){var i=t[r]%13;i>=1&&i<=8?e+=i+1:i>=9?(e+=10,n=!0):0==i&&(e+=1,o=!0)}return{hard:e,soft:o?e+10:0,blackjack:11==e&&o&&n}},e.prototype.getNextFocusingByFocusing=function(t,e){var o=this,n={seat:"",row:""},r=[],i=[];e.forEach(function(t){var e=o.getSeatByServerSeatIndex(t.seatIndex);r.push(e),i.push(t.rows.length)});for(var a=this.getServerRowByRow(t.row),c=0;c<r.length;c++)if(r[c]===t.seat){if(a+1===i[c]){c+1<r.length&&(n.seat=r[c+1],n.row="row0");break}n.seat=t.seat,n.row="row"+(a+1);break}return n},e.prototype.getValueTypeByServerResult=function(t){switch(t){case"win":return i.ValueType.WIN;case"lose":return i.ValueType.LOSE;case"push":return i.ValueType.PUSH;case"none":return i.ValueType.NONE}},e.prototype.getGameButtonByServerAction=function(t){switch(t){case"hit":return i.GameButton.HIT;case"stand":return i.GameButton.STAND;case"split":return i.GameButton.SPLIT;case"double":return i.GameButton.DOUBLE;case"free_split":return i.GameButton.FREESPLIT;case"free_double":return i.GameButton.FREEDOUBLE}},e=r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"d3501naviZCM6ps+Mfpidi6","Game");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./lib/FreeBetBJContent"),a=t("./lib/CocosUtils"),c=t("./lib/FreeBetBJ"),s=t("./lib/FreeBetBJTableInfo"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){var t=this;c.freeBetBJ.checkAlive().catch(function(e){a.default.error(e),t.setToolTipsMessage(e)}).then(function(e){e&&(a.default.log(e),t.setToolTipsMessage("Preparing Table..."),c.freeBetBJ.getTableStatus().catch(function(e){a.default.error(e),t.setToolTipsMessage(e)}).then(function(e){if(e){a.default.log(e),s.tableSetting.tableID=e.tableID,s.tableSetting.betUnit=e.betUnit,s.tableSetting.maxBet=e.maxBet,s.tableSetting.minBet=e.minBet;var o=cc.instantiate(i.prefabs.FreeBetBJTAble);t.root.ui.addChild(o)}}))})},e.prototype.setToolTipsMessage=function(t){this.root.$ui.$toolTips["#tip"].label.string=t},e.prototype.showToolTipsMessage=function(t){this.root.$ui.toolTips.active=t},e=r([u],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./lib/CocosUtils":"CocosUtils","./lib/FreeBetBJ":"FreeBetBJ","./lib/FreeBetBJContent":"FreeBetBJContent","./lib/FreeBetBJTableInfo":"FreeBetBJTableInfo"}],I18N:[function(t,e,o){"use strict";cc._RF.push(e,"f63babv6RdHEY85ueX6/DLh","I18N"),cc._RF.pop()},{}],Input:[function(t,e,o){"use strict";cc._RF.push(e,"72bb692mCBJ7YTqmDg1iYHz","Input");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/CocosUtils"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nonActiveColor=cc.Color.WHITE,e.activeColor=new cc.Color(255,65,65),e.text="",e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.isEmpty=function(){return 0===this.text.length},e.prototype.setText=function(t){this.text=t.charAt(0),this.root["#title"].label.string=t},e.prototype.setActive=function(t){this.node.color=t?this.activeColor:this.nonActiveColor},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],Key:[function(t,e,o){"use strict";cc._RF.push(e,"ecfc3dGUahD15tx06LO/RIM","Key");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/CocosUtils"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.onClick=null,e.text="",e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.onKeyClick=function(){"function"==typeof this.onClick&&this.onClick(this.text)},e.prototype.setText=function(t){this.text=t,this.root["#title"].label.string=t},e=r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"7155dPJP8VJ14fPbIbdq2wk","Loading");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./lib/CocosUtils"),a=t("./lib/FreeBetBJContent"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressCount=6,e.progressNow=0,e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.onLoad=function(){a.fixVisible(this.node),this.init()},e.prototype.start=function(){this.preLoadResources()},e.prototype.preLoadResources=function(){var t=this;cc.loader.loadRes("prefab/Alert",cc.Prefab,this.progressing.bind(this),function(e,o){e?i.default.error(e):(a.prefabs.Alert=o,a.getAlert(function(){t.addProgress()}))}),cc.loader.loadRes("prefab/Popup",cc.Prefab,this.progressing.bind(this),function(e,o){e?i.default.error(e):(a.prefabs.Popup=o,a.getPopup(function(){t.addProgress()}))}),cc.loader.loadRes("atlas/cards",cc.SpriteAtlas,this.progressing.bind(this),function(e,o){e?i.default.error(e):(a.atlas.cards=o,t.addProgress())}),cc.loader.loadRes("atlas/chips",cc.SpriteAtlas,this.progressing.bind(this),function(e,o){e?i.default.error(e):(a.atlas.chips=o,t.addProgress())}),cc.loader.loadRes("prefab/Chip",cc.Prefab,this.progressing.bind(this),function(e,o){e?i.default.error(e):(a.prefabs.Chip=o,t.addProgress())}),cc.loader.loadRes("prefab/FreeBetBJTable",cc.Prefab,this.progressing.bind(this),function(e,o){e?i.default.error(e):(a.prefabs.FreeBetBJTAble=o,t.addProgress())})},e.prototype.preLoadScene=function(){cc.director.preloadScene("Game",function(){i.default.log("preload Game scene finished.")})},e.prototype.addProgress=function(){this.progressNow++,this.root.$ui.progressBar.getComponent(cc.ProgressBar).progress=this.progressNow/this.progressCount,this.progressNow===this.progressCount&&cc.director.loadScene("Game")},e.prototype.progressing=function(t,e){this.root.$ui.detailProgressBar.getComponent(cc.ProgressBar).progress=(t/e).toFixed(2)-0},e=r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./lib/CocosUtils":"CocosUtils","./lib/FreeBetBJContent":"FreeBetBJContent"}],MenuItem:[function(t,e,o){"use strict";cc._RF.push(e,"92d6cTm5FZB9IhRJVTFqIsH","MenuItem");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.start=function(){},r([c(cc.Label)],e.prototype,"label",void 0),r([c],e.prototype,"text",void 0),e=r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],Menu:[function(t,e,o){"use strict";cc._RF.push(e,"6085fL6bIhH1KxmOgXRSFKR","Menu");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/CocosUtils"),a=t("../../lib/FreeBetBJContent"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.MenuItem=null,e.showing=!1,e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.initMenuItems=function(){var t=this;this.menuItems=[{title:"1",startP:{x:0,y:0},endP:{x:0,y:-110},onClick:function(t){}},{title:"2",startP:{x:0,y:0},endP:{x:0,y:-220},onClick:function(t){}},{title:"3",startP:{x:0,y:0},endP:{x:0,y:-330},onClick:function(t){}},{title:"4",startP:{x:0,y:0},endP:{x:0,y:-440},onClick:function(t){}}],this.menuItems.forEach(function(e){var o=cc.instantiate(t.MenuItem);o.x=o.y=0,t.root.menuItems.addChild(o)})},e.prototype.language=function(){},e.prototype.start=function(){this.initMenuItems()},e.prototype.onMenuClick=function(){var t=this;if(this.showing)console.log("showing");else{this.showing=!0;var e=this.root.menuItems.children,o=this.root.menuItems.active;o||(this.root.menuItems.active=!0),this.allCallback={count:this.menuItems.length,callback:function(e){o&&(t.root.menuItems.active=!1)}},e.forEach(function(e,n){var r=o?t.menuItems[n].startP.x:t.menuItems[n].endP.x,i=o?t.menuItems[n].startP.y:t.menuItems[n].endP.y;cc.tween(e).to(o?.2:.25,{x:r,y:i},o?a.getEaseObject(a.Easing.sineOut):a.getEaseObject(a.Easing.backOut)).call(function(){t.allCallback.count--,0===t.allCallback.count&&(t.allCallback.callback(),t.showing=!1)}).start()})}},r([l(cc.Prefab)],e.prototype,"MenuItem",void 0),e=r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/FreeBetBJContent":"FreeBetBJContent"}],Popup:[function(t,e,o){"use strict";cc._RF.push(e,"86f72bwmcdBLJll1xk2snsB","Popup");var n=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,o,a):r(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../lib/CocosUtils"),a=t("../../lib/FreeBetBJText"),c=t("../../lib/FreeBetBJSetting"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Input=null,e.Key=null,e.Cap=null,e.Delete=null,e.hasInput=!1,e.yesCallback=null,e.isPoping=!1,e}return n(e,t),e.prototype.init=function(){this.root=i.default.tree(this.node,{})},e.prototype.start=function(){this.language()},e.prototype.language=function(){var t=c.freeBetBJSetting.language;this.root.$pop.$buttons.$yes["#title"].label.string=a.freeBetBJText[t].Pop.Yes,this.root.$pop.$buttons.$no["#title"].label.string=a.freeBetBJText[t].Pop.No,this.root.$pop.$buttons.$ok["#title"].label.string=a.freeBetBJText[t].Pop.Ok},e.prototype.initKeyBoard=function(){var t=this;["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].forEach(function(e){var o=cc.instantiate(t.Key),n=o.getComponent("Key");n.init(),n.setText(e),n.onClick=function(e){t.onKeyboardClick(e)},t.addKey(o)});var e=cc.instantiate(this.Delete),o=e.getComponent("Delete");o.init(),o.onClick=function(){t.onDeleteClick()},this.addKey(e);var n=cc.instantiate(this.Cap),r=n.getComponent("Cap");r.init(),r.onClick=function(e){t.onCapClick(e)},this.addKey(n)},e.prototype.showMessage=function(t){this.root.$pop["#message"].label.string=t,this.showInput(!1),this.showOk(!0),this.showYes(!1),this.showNo(!1),this.showInput(!1),this.showKeyboard(!1),this.node.active=!0,this.popIn()},e.prototype.showOption=function(t,e,o,n){void 0===n&&(n=0),this.root.$pop["#message"].label.string=t,this.hasInput=o,this.yesCallback=e,this.showOk(!1),this.showYes(!0),this.showNo(!0),this.showInput(o),this.showKeyboard(o),this.node.active=!0;for(var r=0;r<n;r++)this.addInput();o&&this.updateInputStatus(),this.popIn()},e.prototype.onOkClick=function(){this.isPoping||this.popOut()},e.prototype.onNoClick=function(){this.isPoping||this.popOut()},e.prototype.onYesClick=function(){this.isPoping||(this.hasInput?this.yesCallback(this.getInputString()):this.yesCallback(),this.popOut())},e.prototype.onBgClick=function(){},e.prototype.getInputString=function(){var t="";return this.root.$pop.inputs.children.forEach(function(e){t+=e.getComponent("Input").text}),t},e.prototype.showOk=function(t){this.root.$pop.$buttons.ok.active=t},e.prototype.showYes=function(t){this.root.$pop.$buttons.yes.active=t},e.prototype.showNo=function(t){this.root.$pop.$buttons.no.active=t},e.prototype.showInput=function(t){this.root.$pop.inputs.active=t},e.prototype.popIn=function(){var t=this;this.language(),this.isPoping=!0;var e=cc.scaleTo(.25,1,1).easing(cc.easeBackOut()),o=this.root.pop;o.scaleX=o.scaleY=.2,o.runAction(cc.sequence(e,cc.callFunc(function(){t.isPoping=!1})))},e.prototype.popOut=function(){var t=this;this.isPoping=!0;var e=cc.scaleTo(.25,.2,.2).easing(cc.easeBackIn()),o=this.root.pop;o.scaleX=o.scaleY=1,o.runAction(cc.sequence(e,cc.callFunc(function(){t.removeInputs(),t.isPoping=!1,t.node.active=!1})))},e.prototype.removeInputs=function(){this.root.$pop.inputs.removeAllChildren(!0)},e.prototype.addInput=function(){var t=cc.instantiate(this.Input);t.getComponent("Input").init(),this.root.$pop.inputs.addChild(t)},e.prototype.getFirstEmptyInput=function(){var t=null;return this.root.$pop.inputs.children.forEach(function(e){var o=e.getComponent("Input");null===t&&o.isEmpty()&&(t=e)}),t},e.prototype.getLastInput=function(){var t=this.root.$pop.inputs.children;return t[t.length-1]},e.prototype.updateInputStatus=function(){this.root.$pop.inputs.children.forEach(function(t){t.getComponent("Input").setActive(!1)});var t=this.getFirstEmptyInput();null===t&&(t=this.getLastInput()),t.getComponent("Input").setActive(!0)},e.prototype.addKey=function(t){this.root.keyboard.addChild(t)},e.prototype.getKeys=function(){return this.root.keyboard.children},e.prototype.showKeyboard=function(t){this.root.keyboard.active=t},e.prototype.onKeyboardClick=function(t){var e=this.getFirstEmptyInput();null===e&&(e=this.getLastInput()),e.getComponent("Input").setText(t),this.updateInputStatus()},e.prototype.onCapClick=function(t){this.getKeys().forEach(function(e){var o=e.getComponent("Key");if(null!==o){var n=o.root["#title"].label;t?o.setText(n.string.toUpperCase()):o.setText(n.string.toLowerCase())}})},e.prototype.onDeleteClick=function(){var t=this.getLastNonEmptyInput();null!==t&&(t.getComponent("Input").setText(""),this.updateInputStatus())},e.prototype.getLastNonEmptyInput=function(){var t=null;return this.root.$pop.inputs.children.forEach(function(e){""!==e.getComponent("Input").text&&(t=e)}),t},r([u(cc.Prefab)],e.prototype,"Input",void 0),r([u(cc.Prefab)],e.prototype,"Key",void 0),r([u(cc.Prefab)],e.prototype,"Cap",void 0),r([u(cc.Prefab)],e.prototype,"Delete",void 0),e=r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/FreeBetBJSetting":"FreeBetBJSetting","../../lib/FreeBetBJText":"FreeBetBJText"}],Tree:[function(t,e,o){"use strict";cc._RF.push(e,"13872Bu/GlPvYXBTDFPl67A","Tree"),cc._RF.pop()},{}]},{},["FreeBetEventHandler","Game","Loading","Alias","I18N","Tree","Audio","CocosUtils","FreeBetBJ","FreeBetBJContent","FreeBetBJSetting","FreeBetBJTableInfo","FreeBetBJText","Alert","BetValue","BlackJack","Buttons","Cards","Chip","Chips","Dealer","FreeBetBJTable","Menu","MenuItem","Cap","Delete","Input","Key","Popup"]);