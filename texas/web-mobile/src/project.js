window.__require=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return i(e[r][1][t]||t)},u,u.exports,t,e,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Audio:[function(t,e,n){"use strict";cc._RF.push(e,"082fcfP85NJOZqX4211TwIn","Audio"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./TexasSetting"),i=t("./TexasContent"),a=function(){function t(){this.effectVolume=.7,this.musicVolume=.5,cc.audioEngine.setMusicVolume(this.musicVolume),cc.audioEngine.setEffectsVolume(this.effectVolume)}return t.prototype.setMusicVolume=function(t){o.texasSetting.music=t,t?this.playMusic(i.music.bg):this.stopMusic()},t.prototype.setEffectVolume=function(t){o.texasSetting.sound=t,t||this.stopEffect()},t.prototype.playMusic=function(t){o.texasSetting.music&&cc.audioEngine.playMusic(t,!0)},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.pauseMusic=function(){cc.audioEngine.isMusicPlaying()&&cc.audioEngine.pauseMusic()},t.prototype.resumeMusic=function(){o.texasSetting.music&&!cc.audioEngine.isMusicPlaying()&&cc.audioEngine.resumeMusic()},t.prototype.playEffect=function(t){o.texasSetting.sound&&cc.audioEngine.playEffect(t,!1)},t.prototype.stopEffect=function(){cc.audioEngine.stopAllEffects()},t}();n.default=a,n.audio=new a,cc._RF.pop()},{"./TexasContent":"TexasContent","./TexasSetting":"TexasSetting"}],Balance:[function(t,e,n){"use strict";cc._RF.push(e,"b6c8eRvMqlD7pxVpcGgAADP","Balance");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/TexasSetting"),s=t("../lib/TexasText"),c=t("../lib/TexasTableInfo"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.balance=null,e.balanceCN=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.language()},e.prototype.language=function(){var t=r.texasSetting.language;"EN"===t?(this.root["#balance"].sprite.spriteFrame=this.balance,this.root["#point"].label.string=s.texasText.EN.Balance.Point):"CN"===t&&(this.root["#balance"].sprite.spriteFrame=this.balanceCN,this.root["#point"].label.string=s.texasText.CN.Balance.Point)},e.prototype.setMoney=function(t){this.root["#money"].label.string=t+""},e.prototype.updateMoney=function(){this.setMoney(c.gamerInfo.balance/100)},i([p(cc.SpriteFrame)],e.prototype,"balance",void 0),i([p(cc.SpriteFrame)],e.prototype,"balanceCN",void 0),e=i([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/TexasSetting":"TexasSetting","../lib/TexasTableInfo":"TexasTableInfo","../lib/TexasText":"TexasText"}],Bet:[function(t,e,n){"use strict";cc._RF.push(e,"7eae1gBD/ZHYrb61Jqj90sa","Bet");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/TexasTableInfo"),r=t("../lib/CocosUtils"),s=t("../lib/TexasContent"),c=t("../lib/Audio"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.betData={bet:{trips:0,ante:0,blind:0,play:0},rebet:{trips:0,ante:0,blind:0,play:0},track:[{trips:0,ante:0,blind:0,play:0}]},e.betLimitData={topMax:0,mainMax:0,mainMin:0},e}return o(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.table=this.node.parent.getComponent("TexasTable"),this.enableButtonStatus(a.GameButton.BET_ANTE,!0),this.enableButtonStatus(a.GameButton.BET_BLIND,!0),this.enableButtonStatus(a.GameButton.BET_TRIPS,!1)},e.prototype.language=function(){},e.prototype.enableButtonStatus=function(t,e){var n=null;switch(t){case a.GameButton.BET_ANTE:n=this.root.$main["#ante"].button;break;case a.GameButton.BET_BLIND:n=this.root.$main["#blind"].button;break;case a.GameButton.BET_TRIPS:n=this.root.$top["#trips"].button}n.interactable=e,this.effectOfEnableClick(t,e)},e.prototype.disableAllButtons=function(){this.enableButtonStatus(a.GameButton.BET_ANTE,!1),this.enableButtonStatus(a.GameButton.BET_BLIND,!1),this.enableButtonStatus(a.GameButton.BET_TRIPS,!1)},e.prototype.getButtonsEnableStatus=function(){return{ante:this.root.$main["#ante"].button.interactable,blind:this.root.$main["#ante"].button.interactable,trips:this.root.$main["#ante"].button.interactable}},e.prototype.setButtonsEnableStatus=function(t){this.enableButtonStatus(a.GameButton.BET_ANTE,t.ante),this.enableButtonStatus(a.GameButton.BET_BLIND,t.blind),this.enableButtonStatus(a.GameButton.BET_TRIPS,t.trips)},e.prototype.effectOfEnableClick=function(t,e){var n=null;switch(t){case a.GameButton.BET_ANTE:n=this.root.$main.$ante.$bg.effect;break;case a.GameButton.BET_BLIND:n=this.root.$main.$blind.$bg.effect;break;case a.GameButton.BET_TRIPS:n=this.root.$top.$trips.$bg.effect}!0===e&&!1===n.active?(n.active=!0,cc.tween(n).repeatForever(cc.tween(n).to(a.effectDuration.BET.BUTTON_ROUND,{angle:-360}).call(function(){n.angle=0})).start()):!1===e&&!0===n.active&&(n.stopAllActions(),n.active=!1,n.angle=0)},e.prototype.effectOfBounceChip=function(t){if(t){var e=t.y;cc.tween(t).to(a.effectDuration.BET.CHIP_BOUNCE_UP,{y:e+7},s.getEaseObject(s.Easing.sineOut)).delay(a.effectDuration.BET.CHIP_BOUNCE_DELAY).to(a.effectDuration.BET.CHIP_BOUNCE_DOWN,{y:e},s.getEaseObject(s.Easing.sineIn)).call(function(){t.y=e}).start()}},e.prototype.effectOfShowBetValue=function(t){var e=null;switch(t){case a.GameButton.BET_BLIND:(e=this.root.$main.$blind["#value"].label).string=this.betData.bet.blind+"";break;case a.GameButton.BET_TRIPS:(e=this.root.$top.$trips["#value"].label).string=this.betData.bet.trips+"";break;case a.GameButton.BET_ANTE:(e=this.root.$main.$ante["#value"].label).string=this.betData.bet.ante+"";break;case a.GameButton.BET_PLAY:(e=this.root.$bottom.$play["#value"].label).string=this.betData.bet.play+""}e.node.stopAllActions(),"0"===e.string?e.node.active=!1:(e.node.active=!0,cc.tween(e.node).delay(a.effectDuration.BET.VALUE_SHOWING_DELAY).call(function(){e.node.active=!1}).start())},e.prototype.getPositionYOfChip=function(t){var e=null;switch(t){case a.GameButton.BET_ANTE:e=this.root.$main.$ante.$bg.layout;break;case a.GameButton.BET_BLIND:e=this.root.$main.$blind.$bg.layout;break;case a.GameButton.BET_TRIPS:e=this.root.$top.$trips.$bg.layout;break;case a.GameButton.BET_PLAY:e=this.root.$bottom.$play.$bg.layout}return 3*e.children.length-2},e.prototype.addChipToButton=function(t,e,n){var o=!0;switch(t){case a.GameButton.BET_ANTE:case a.GameButton.BET_BLIND:this.betData.bet.ante===this.betLimitData.mainMax?o=!1:this.betData.bet.ante+e>this.betLimitData.mainMax?this.betData.bet.ante=this.betData.bet.blind=this.betLimitData.mainMax:(this.betData.bet.ante+=e,this.betData.bet.blind+=e);break;case a.GameButton.BET_TRIPS:this.betData.bet.trips===this.betLimitData.topMax?o=!1:this.betData.bet.trips+e>this.betLimitData.topMax?this.betData.bet.trips=this.betLimitData.topMax:this.betData.bet.trips+=e;break;case a.GameButton.BET_PLAY:this.betData.bet.play+=e}o&&(c.audio.playEffect(s.music.chip),this.updateBetChipStatus(t,n),t===a.GameButton.BET_ANTE||t===a.GameButton.BET_BLIND?(this.effectOfShowBetValue(a.GameButton.BET_ANTE),this.effectOfShowBetValue(a.GameButton.BET_BLIND)):this.effectOfShowBetValue(t));var i=this.betData.track[this.betData.track.length-1],r=this.betData.bet;r.trips===i.trips&&r.blind===i.blind||this.betData.track.push(Object.assign({},this.betData.bet))},e.prototype.clearBetData=function(){this.betData.bet.trips=0,this.betData.bet.blind=0,this.betData.bet.ante=0,this.betData.bet.play=0,this.betData.track.length=1},e.prototype.updateLimitValue=function(){this.betLimitData.topMax=a.tableSetting.topMax,this.betLimitData.mainMax=a.tableSetting.mainMax,this.betLimitData.mainMin=a.tableSetting.mainMin,this.root.$top.$limit["#maxValue"].label.string=this.betLimitData.topMax+"",this.root.$main.$limit["#maxValue"].label.string=this.betLimitData.mainMax+"",this.root.$main.$limit["#minValue"].label.string=this.betLimitData.mainMin+""},e.prototype.updateBetChipStatus=function(t,e){this.enableButtonStatus(a.GameButton.BET_TRIPS,this.betData.bet.blind>0&&this.table.action===a.GameAction.BET);var n=this.table.getChipsScript().chipMultiple.slice();n.sort(function(t,e){return e-t});var o=this.root.$main.$blind.$bg.layout,i=this.root.$main.$ante.$bg.layout,r=this.root.$top.$trips.$bg.layout,l=this.root.$bottom.$play.$bg.layout;if(t===a.GameButton.BET_BLIND||t===a.GameButton.BET_ANTE){o.destroyAllChildren(),o.removeAllChildren(!0),i.destroyAllChildren(),i.removeAllChildren(!0);for(var u=this.betData.bet.blind;u>0;)for(var p=0;p<n.length;p++)for(;u>=n[p];){u-=n[p];var f=s.getChipNode(n[p],.5),h=s.getChipNode(n[p],.5);f.y=h.y=this.getPositionYOfChip(t),o.addChild(f),i.addChild(h)}if(e){var d=this.root.$main.$blind.$bg.layout.children,b=d[d.length-1],g=this.root.$main.$ante.$bg.layout.children,y=g[g.length-1];this.effectOfBounceChip(b),this.effectOfBounceChip(y)}}if(t===a.GameButton.BET_TRIPS){r.destroyAllChildren(),r.removeAllChildren(!0);for(var T=this.betData.bet.trips;T>0;)for(p=0;p<n.length;p++)for(;T>=n[p];){T-=n[p],(f=s.getChipNode(n[p],.5)).y=this.getPositionYOfChip(t),r.addChild(f)}if(e){var C=this.root.$top.$trips.$bg.layout.children,_=C[C.length-1];this.effectOfBounceChip(_)}}if(t===a.GameButton.BET_PLAY){l.destroyAllChildren(),l.removeAllChildren(!0);for(var E=this.betData.bet.play;E>0;)for(p=0;p<n.length;p++)for(;E>=n[p];){E-=n[p],(f=s.getChipNode(n[p],.5)).y=this.getPositionYOfChip(t),l.addChild(f)}if(e){c.audio.playEffect(s.music.chip);var m=this.root.$bottom.$play.$bg.layout.children,O=m[m.length-1];this.effectOfBounceChip(O)}}},e.prototype.onAnteClick=function(){var t=this.table.getChipsScript();if(t){var e=t.getFocusChipUnit();null!==e&&(this.addChipToButton(a.GameButton.BET_ANTE,e,!0),this.table.getButtonScript().updateButtonStatus())}},e.prototype.onBlindClick=function(){var t=this.table.getChipsScript();if(t){var e=t.getFocusChipUnit();null!==e&&(this.addChipToButton(a.GameButton.BET_BLIND,e,!0),this.table.getButtonScript().updateButtonStatus())}},e.prototype.onTripsClick=function(){var t=this.table.getChipsScript();if(t){var e=t.getFocusChipUnit();null!==e&&(this.addChipToButton(a.GameButton.BET_TRIPS,e,!0),this.table.getButtonScript().updateButtonStatus())}},e.prototype.testEffectOfAddChip=function(){this.addChipToButton(a.GameButton.BET_TRIPS,4,!0),this.addChipToButton(a.GameButton.BET_BLIND,13,!0),this.addChipToButton(a.GameButton.BET_PLAY,7,!0)},e.prototype.testSetLimitValue=function(){this.updateLimitValue()},e=i([u],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/TexasContent":"TexasContent","../lib/TexasTableInfo":"TexasTableInfo"}],BlindPayTable:[function(t,e,n){"use strict";cc._RF.push(e,"250b281hcFJzLIc+Ux1Q04Z","BlindPayTable");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/TexasTableInfo"),s=t("../lib/TexasSetting"),c=t("../lib/TexasText"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=s.texasSetting.language;this.root.$table["#royalFlush"].label.string=c.texasText[t].BlindPayTable.RoyalFlush,this.root.$table["#straightFlush"].label.string=c.texasText[t].BlindPayTable.StraightFlush,this.root.$table["#fourOfAKind"].label.string=c.texasText[t].BlindPayTable.FourOfAKind,this.root.$table["#fullHouse"].label.string=c.texasText[t].BlindPayTable.FullHouse,this.root.$table["#flush"].label.string=c.texasText[t].BlindPayTable.Flush,this.root.$table["#straight"].label.string=c.texasText[t].BlindPayTable.Straight,this.root.$table["#allOther"].label.string=c.texasText[t].BlindPayTable.AllOther,this.root.$table.$allOther["#pay"].label.string=c.texasText[t].BlindPayTable.AllOtherPay},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.highLightPayTableType=function(t){var e=new cc.Color(0,248,255),n=this.root.$EN[t];n.color=e,n.getChildByName("pay").color=e},e.prototype.resetPayTableType=function(){var t=function(e){e.children.forEach(function(e){e.getComponent(cc.Label)&&(e.color=cc.Color.WHITE),t(e)})};t(this.node)},e.prototype.testRandomHighLightType=function(){var t=[r.BlindPayType.FLUSH,r.BlindPayType.FOUR_OF_A_KIND,r.BlindPayType.FULL_HOUSE,r.BlindPayType.ROYAL_FLUSH,r.BlindPayType.STRAIGHT,r.BlindPayType.STRAIGHT_FLUSH],e=t[Math.floor(Math.random()*t.length)];this.highLightPayTableType(e)},e.prototype.testResetType=function(){this.resetPayTableType()},e=i([u],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/TexasSetting":"TexasSetting","../lib/TexasTableInfo":"TexasTableInfo","../lib/TexasText":"TexasText"}],Button:[function(t,e,n){"use strict";cc._RF.push(e,"1f13dT7t35PU7YKVuaR20og","Button");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/TexasTableInfo"),s=t("../lib/TexasContent"),c=t("../lib/Texas"),l=t("../lib/Audio"),u=t("../lib/TexasSetting"),p=cc._decorator,f=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Recharge=null,e.betEN=[],e.betCN=[],e.cardEN=[],e.cardCN=[],e.actionIndex=0,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=u.texasSetting.language;if("EN"===t){(s=this.root.$bet["#clear"].button).normalSprite=this.betEN[0],s.disabledSprite=this.betEN[1];var e=this.root.$bet.$clear["#Background"].sprite;s.interactable?e.spriteFrame=this.betEN[0]:e.spriteFrame=this.betEN[1],(c=this.root.$bet["#deal"].button).normalSprite=this.betEN[2],c.disabledSprite=this.betEN[3];var n=this.root.$bet.$deal["#Background"].sprite;c.interactable?n.spriteFrame=this.betEN[2]:n.spriteFrame=this.betEN[3],(l=this.root.$bet["#rebet"].button).normalSprite=this.betEN[4],l.disabledSprite=this.betEN[5];var o=this.root.$bet.$rebet["#Background"].sprite;l.interactable?o.spriteFrame=this.betEN[4]:o.spriteFrame=this.betEN[5],(p=this.root.$bet["#undo"].button).normalSprite=this.betEN[6],p.disabledSprite=this.betEN[7];var i=this.root.$bet.$undo["#Background"].sprite;p.interactable?i.spriteFrame=this.betEN[6]:i.spriteFrame=this.betEN[7],(f=this.root.$card["#check"].button).normalSprite=this.cardEN[0],f.disabledSprite=this.cardEN[1];var a=this.root.$card.$check["#Background"].sprite;f.interactable?a.spriteFrame=this.cardEN[0]:a.spriteFrame=this.cardEN[1],(h=this.root.$card["#fold"].button).normalSprite=this.cardEN[2],h.disabledSprite=this.cardEN[3];var r=this.root.$card.$fold["#Background"].sprite;h.interactable?r.spriteFrame=this.cardEN[2]:r.spriteFrame=this.cardEN[3]}else if("CN"===t){var s;(s=this.root.$bet["#clear"].button).normalSprite=this.betCN[0],s.disabledSprite=this.betCN[1];var c;e=this.root.$bet.$clear["#Background"].sprite;s.interactable?e.spriteFrame=this.betCN[0]:e.spriteFrame=this.betCN[1],(c=this.root.$bet["#deal"].button).normalSprite=this.betCN[2],c.disabledSprite=this.betCN[3];var l;n=this.root.$bet.$deal["#Background"].sprite;c.interactable?n.spriteFrame=this.betCN[2]:n.spriteFrame=this.betCN[3],(l=this.root.$bet["#rebet"].button).normalSprite=this.betCN[4],l.disabledSprite=this.betCN[5];var p;o=this.root.$bet.$rebet["#Background"].sprite;l.interactable?o.spriteFrame=this.betCN[4]:o.spriteFrame=this.betCN[5],(p=this.root.$bet["#undo"].button).normalSprite=this.betCN[6],p.disabledSprite=this.betCN[7];var f;i=this.root.$bet.$undo["#Background"].sprite;p.interactable?i.spriteFrame=this.betCN[6]:i.spriteFrame=this.betCN[7],(f=this.root.$card["#check"].button).normalSprite=this.cardCN[0],f.disabledSprite=this.cardCN[1];var h;a=this.root.$card.$check["#Background"].sprite;f.interactable?a.spriteFrame=this.cardCN[0]:a.spriteFrame=this.cardCN[1],(h=this.root.$card["#fold"].button).normalSprite=this.cardCN[2],h.disabledSprite=this.cardCN[3];r=this.root.$card.$fold["#Background"].sprite;h.interactable?r.spriteFrame=this.cardCN[2]:r.spriteFrame=this.cardCN[3]}},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.table=this.node.parent.getComponent("TexasTable")},e.prototype.onDealClick=function(t){var e=this,n=t.target;if(!(n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.BET,!1);this.table.getBetScript().getButtonsEnableStatus();this.table.getBetScript().disableAllButtons(),this.table.destroyChips(),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var o=this.table.getBetScript().betData.bet,i=(o.trips,o.ante,o.play,o.blind,r.tableSetting.betUnit,{ante:o.ante*r.tableSetting.betUnit,blind:o.blind*r.tableSetting.betUnit,trips:o.trips*r.tableSetting.betUnit});c.texas.startNewGame(i).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&(e.table.effectOfChangeAction(r.GameAction.CARD),e.table.getEventScript().effectOfNewGameEvent(t))})}},e.prototype.onUndoClick=function(t){var e=t.target;if(!(e.getNumberOfRunningActions()>0||e.parent.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),cc.tween(e).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var n=this.table.getBetScript();n.betData.track.pop();var o,i,a=n.betData.bet,c=n.betData.track[n.betData.track.length-1];o=a.blind!==c.blind,i=a.trips!==c.trips,n.betData.bet=Object.assign({},n.betData.track[n.betData.track.length-1]),this.updateButtonStatus(),n.updateBetChipStatus(r.GameButton.BET_TRIPS,i),n.updateBetChipStatus(r.GameButton.BET_BLIND,o),i&&n.effectOfShowBetValue(r.GameButton.BET_TRIPS),o&&(n.effectOfShowBetValue(r.GameButton.BET_BLIND),n.effectOfShowBetValue(r.GameButton.BET_ANTE))}},e.prototype.onClearClick=function(t){var e=t.target;if(!(e.getNumberOfRunningActions()>0||e.parent.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),cc.tween(e).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var n=this.table.getBetScript();n.clearBetData(),this.updateButtonStatus(),n.updateBetChipStatus(r.GameButton.BET_TRIPS,!1),n.updateBetChipStatus(r.GameButton.BET_BLIND,!1),n.effectOfShowBetValue(r.GameButton.BET_BLIND),n.effectOfShowBetValue(r.GameButton.BET_ANTE),n.effectOfShowBetValue(r.GameButton.BET_TRIPS)}},e.prototype.onReBetClick=function(t){var e=t.target;if(!(e.getNumberOfRunningActions()>0||e.parent.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),cc.tween(e).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var n=this.table.getBetScript();n.betData.bet=Object.assign({},n.betData.rebet),n.betData.track.push(Object.assign({},n.betData.rebet)),n.updateBetChipStatus(r.GameButton.BET_BLIND,!0),n.updateBetChipStatus(r.GameButton.BET_TRIPS,!0),n.effectOfShowBetValue(r.GameButton.BET_TRIPS),n.effectOfShowBetValue(r.GameButton.BET_BLIND),n.effectOfShowBetValue(r.GameButton.BET_ANTE),this.updateButtonStatus()}},e.prototype.on4XClick=function(t){var e=this,n=t.target;if(!(n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start();this.table.getBetScript().betData.bet.ante,r.tableSetting.betUnit;c.texas.raise4X(this.actionIndex).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&e.table.getEventScript().effectOfRaise4X3X2XEvent(t)})}},e.prototype.on3XClick=function(t){var e=this,n=t.target;if(!(n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start();this.table.getBetScript().betData.bet.ante,r.tableSetting.betUnit;c.texas.raise3X(this.actionIndex).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&e.table.getEventScript().effectOfRaise4X3X2XEvent(t)})}},e.prototype.on2XClick=function(t){var e=this,n=t.target;if(!(n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start();this.table.getBetScript().betData.bet.ante,r.tableSetting.betUnit;c.texas.raise2X(this.actionIndex).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&e.table.getEventScript().effectOfRaise4X3X2XEvent(t)})}},e.prototype.on1XClick=function(t){var e=this,n=t.target;if(!(n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0)){l.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start();this.table.getBetScript().betData.bet.ante,r.tableSetting.betUnit;c.texas.raise1X(this.actionIndex).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&e.table.getEventScript().effectOf1XEvent(t)})}},e.prototype.onCheckClick=function(t){var e=this,n=t.target;n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0||(l.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start(),c.texas.check(this.actionIndex).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&e.table.getEventScript().effectOfCheckEvent(t)}))},e.prototype.onFoldClick=function(t){var e=this,n=t.target;n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0||(l.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start(),c.texas.fold(this.actionIndex).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&e.table.getEventScript().effectOf1XEvent(t)}))},e.prototype.enableButtonClick=function(t,e){var n=null;switch(t){case r.GameButton.BUTTON_BET_CLEAR:case r.GameButton.BUTTON_BET_DEAL:case r.GameButton.BUTTON_BET_REBET:case r.GameButton.BUTTON_BET_UNDO:n=this.root.$bet["#"+t].button;break;case r.GameButton.BUTTON_CARD_1X:case r.GameButton.BUTTON_CARD_2X:case r.GameButton.BUTTON_CARD_3X:case r.GameButton.BUTTON_CARD_4X:case r.GameButton.BUTTON_CARD_CHECK:case r.GameButton.BUTTON_CARD_FOLD:n=this.root.$card["#"+t].button}n.interactable=e},e.prototype.updateButtonStatus=function(){var t=this.table.getBetScript();this.enableButtonClick(r.GameButton.BUTTON_BET_UNDO,t.betData.track.length>1),this.enableButtonClick(r.GameButton.BUTTON_BET_CLEAR,t.betData.bet.ante>0),this.enableButtonClick(r.GameButton.BUTTON_BET_REBET,t.betData.rebet.ante>0&&1===t.betData.track.length),this.enableButtonClick(r.GameButton.BUTTON_BET_DEAL,t.betData.bet.ante>=t.betLimitData.mainMin&&t.betData.bet.blind>=t.betLimitData.mainMin&&t.betData.bet.ante<=t.betLimitData.mainMax&&t.betData.bet.blind<=t.betLimitData.mainMax&&t.betData.bet.trips<=t.betLimitData.topMax)},e.prototype.effectOfChangeAction=function(t){var e=this,n=this.root.bet,o=this.root.card;if(!(this.node.getNumberOfRunningActions()>0)){var i=cc.tween(this.node);if(t===r.GameAction.BET){if((n=this.root.bet).active)return;var a=this.root.card;if(a.active){var s=cc.tween(a);s.call(function(){a.active=!1}),i.call(function(){s.start()})}i.call(function(){n.scaleX=n.scaleY=.2,n.angle=-180,n.active=!0});var c=cc.tween(n);c.to(r.effectDuration.BUTTON.BET_SHOW,{scaleX:1,scaleY:1,angle:0}).call(function(){n.scaleX=n.scaleY=1,n.angle=0}),i.call(function(){c.start(),e.updateButtonStatus()}).delay(r.effectDuration.BUTTON.BET_SHOW).start()}else if(t===r.GameAction.CARD){if((o=this.root.card).active)return;var l=this.root.bet;if(l.active){var u=cc.tween(l);u.to(r.effectDuration.BUTTON.BET_HIDE,{scaleX:.2,scaleY:.2,angle:-180}).call(function(){l.angle=0,l.active=!1}),i.call(function(){u.start()}).delay(r.effectDuration.BUTTON.BET_HIDE)}i.call(function(){o.active=!0}),i.call(function(){}).start()}}},e.prototype.showButton=function(t,e){this.effectOfShowButton(t,e)},e.prototype.effectOfShowButton=function(t,e){var n=this.getButtonNodeByGameButton(t);n.stopAllActions(),!1===e?cc.tween(n).to(.2,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineOut)).call(function(){n.active=!1}).start():!0===e&&(n.scaleX=n.scaleY=.1,n.active=!0,cc.tween(n).to(.2,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.backOut)).start())},e.prototype.getButtonNodeByGameButton=function(t){return this.root.$card[t]},e.prototype.popRecharge=function(){var t=cc.instantiate(this.Recharge);t.zIndex=s.zOrder.zIndex_MAX,this.table.node.addChild(t)},e.prototype.disableAllButtons=function(t,e){switch(void 0===e&&(e=!0),t){case r.GameAction.CARD:e&&this.showButton(r.GameButton.BUTTON_CARD_1X,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_1X,!1),e&&this.showButton(r.GameButton.BUTTON_CARD_2X,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_2X,!1),e&&this.showButton(r.GameButton.BUTTON_CARD_CHECK,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_CHECK,!1),e&&this.showButton(r.GameButton.BUTTON_CARD_3X,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_3X,!1),e&&this.showButton(r.GameButton.BUTTON_CARD_4X,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_4X,!1),e&&this.showButton(r.GameButton.BUTTON_CARD_FOLD,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_FOLD,!1);break;case r.GameAction.BET:e&&this.showButton(r.GameButton.BUTTON_BET_DEAL,!1),this.enableButtonClick(r.GameButton.BUTTON_BET_DEAL,!1),e&&this.showButton(r.GameButton.BUTTON_BET_REBET,!1),this.enableButtonClick(r.GameButton.BUTTON_BET_REBET,!1),e&&this.showButton(r.GameButton.BUTTON_BET_UNDO,!1),this.enableButtonClick(r.GameButton.BUTTON_BET_UNDO,!1),e&&this.showButton(r.GameButton.BUTTON_BET_CLEAR,!1),this.enableButtonClick(r.GameButton.BUTTON_BET_CLEAR,!1)}},e.prototype.testButtonActionBet=function(){this.effectOfChangeAction(r.GameAction.BET)},e.prototype.testButtonActionCard=function(){this.effectOfChangeAction(r.GameAction.CARD)},e.prototype.testPopCharge=function(){this.popRecharge()},e.prototype.testShowButton=function(){var t=this;this.showButton(r.GameButton.BUTTON_CARD_4X,!0),cc.tween(this.node).delay(.1).call(function(){t.showButton(r.GameButton.BUTTON_CARD_4X,!1)}).start()},i([h(cc.Prefab)],e.prototype,"Recharge",void 0),i([h(cc.SpriteFrame)],e.prototype,"betEN",void 0),i([h(cc.SpriteFrame)],e.prototype,"betCN",void 0),i([h(cc.SpriteFrame)],e.prototype,"cardEN",void 0),i([h(cc.SpriteFrame)],e.prototype,"cardCN",void 0),e=i([f],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/Texas":"Texas","../lib/TexasContent":"TexasContent","../lib/TexasSetting":"TexasSetting","../lib/TexasTableInfo":"TexasTableInfo"}],CardPool:[function(t,e,n){"use strict";cc._RF.push(e,"fe858J2WQFI3LebQSsDZnfu","CardPool");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/TexasTableInfo"),s=t("../lib/TexasContent"),c=t("../lib/Audio"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cards=[52,52,52,52,52],e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.showCard=function(t,e){this.root["card_"+(t+1)].active=e},e.prototype.setCardSprite=function(t,e){this.cards[t]=e,this.root["#card_"+(t+1)].sprite.spriteFrame=s.getCardSprite(e)},e.prototype.effectOfTurnCard=function(t,e,n){var o=this;void 0===n&&(n=null),c.audio.playEffect(s.music.turnCard);var i=this.root["card_"+(t+1)];cc.tween(i).to(r.effectDuration.DEALER.TURN_CARD,{y:15,eulerAngles:cc.v3(-10,90,-10)}).call(function(){o.setCardSprite(t,e),i.eulerAngles=cc.v3(10,270,10)}).to(r.effectDuration.DEALER.TURN_CARD,{y:0,eulerAngles:cc.v3(0,0,0)}).delay(r.effectDuration.DEALER.AFTER_TURN_CARD_DELAY).call(function(){n&&n()}).start()},e.prototype.effectOfRaiseCard=function(t,e){void 0===e&&(e=null);var n=this.root["card_"+(t+1)];cc.tween(n).to(r.effectDuration.DEALER.RAISE_CARD,{y:15},s.getEaseObject(s.Easing.backIn)).delay(r.effectDuration.DEALER.AFTER_RAISE_CARD_DELAY).call(function(){e&&e()}).start()},e.prototype.effectOfLowerCard=function(t,e){void 0===e&&(e=null);var n=this.root["card_"+(t+1)];cc.tween(n).to(r.effectDuration.DEALER.RAISE_CARD,{y:0},s.getEaseObject(s.Easing.backIn)).delay(r.effectDuration.DEALER.AFTER_RAISE_CARD_DELAY).call(function(){e&&e()}).start()},e.prototype.getCurrentIndex=function(){for(var t=this.node.children,e=0;e<t.length;e++)if(!1===t[e].active)return e;return t.length},e.prototype.getCardNodeByIndex=function(t){return this.node.getChildByName("card_"+(t+1))},e.prototype.resetToInit=function(){this.setCardSprite(0,52),this.setCardSprite(1,52),this.setCardSprite(2,52),this.setCardSprite(3,52),this.setCardSprite(4,52),this.showCard(0,!1),this.showCard(1,!1),this.showCard(2,!1),this.showCard(3,!1),this.showCard(4,!1),this.root.card_1.y=0,this.root.card_2.y=0,this.root.card_3.y=0,this.root.card_4.y=0,this.root.card_5.y=0},e.prototype.testEffectOfTurnCard=function(){this.effectOfTurnCard(0,3)},e=i([u],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/TexasContent":"TexasContent","../lib/TexasTableInfo":"TexasTableInfo"}],CardString:[function(t,e,n){"use strict";cc._RF.push(e,"1071ehZqCxEEogJ5k1dKnpo","CardString");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/TexasContent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.setCardValue=function(t){this.root["#cardValue"].label.string=r.getCardString(t)},e=i([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/TexasContent":"TexasContent"}],Card:[function(t,e,n){"use strict";cc._RF.push(e,"0d9cdZ77+hGpI7ll6wwDb+u","Card");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/TexasTableInfo"),s=t("../lib/Audio"),c=t("../lib/TexasContent"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.dealerJs=this.node.getChildByName("Dealer").getComponent("Dealer"),this.playerJs=this.node.getChildByName("Player").getComponent("Player"),this.cardPoolJs=this.node.getChildByName("CardPool").getComponent("CardPool"),this.table=this.node.parent.getComponent("TexasTable")},e.prototype.effectOfBestCard=function(t,e,n){var o=this;if(void 0===n&&(n=null),s.audio.playEffect(c.music.card),this.cardPoolJs.cards.forEach(function(t,i,a){e.includes(t)?o.cardPoolJs.effectOfRaiseCard(i,i===a.length-1?n:null):o.cardPoolJs.effectOfLowerCard(i,i===a.length-1?n:null)}),t===r.BestCardTarget.DEALER)this.dealerJs.cards.forEach(function(t,n){e.includes(t)&&o.dealerJs.effectOfRaiseCard(n)});else if(t===r.BestCardTarget.PLAYER){this.playerJs.cards.forEach(function(t,n){e.includes(t)&&o.playerJs.effectOfRaiseCard(n)})}},e.prototype.testEffectOfBestCard=function(){var t=this;this.dealerJs.setCardSprite(0,1),this.dealerJs.setCardSprite(1,2),this.dealerJs.showCard(0,!0),this.dealerJs.showCard(1,!0),this.playerJs.setCardSprite(0,3),this.playerJs.setCardSprite(1,4),this.playerJs.showCard(0,!0),this.playerJs.showCard(1,!0),this.cardPoolJs.setCardSprite(0,5),this.cardPoolJs.setCardSprite(1,6),this.cardPoolJs.setCardSprite(2,7),this.cardPoolJs.setCardSprite(3,8),this.cardPoolJs.setCardSprite(4,9),this.cardPoolJs.showCard(0,!0),this.cardPoolJs.showCard(1,!0),this.cardPoolJs.showCard(2,!0),this.cardPoolJs.showCard(3,!0),this.cardPoolJs.showCard(4,!0),this.effectOfBestCard(r.BestCardTarget.DEALER,[1,5,7,8,9],function(){t.dealerJs.setPanel("Two Pairs",[10,15,20,25,30]),t.dealerJs.effectOfShowPanel(function(){t.effectOfBestCard(r.BestCardTarget.PLAYER,[3,4,6,7,8],function(){t.playerJs.setPanel("Straight",[3,4,6,7,8]),t.playerJs.effectOfShowPanel(function(){t.table.testResultPopNoWin()})})})})},e.prototype.resetToInit=function(){this.playerJs.resetToInit(),this.dealerJs.resetToInit(),this.cardPoolJs.resetToInit()},e=i([u],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/TexasContent":"TexasContent","../lib/TexasTableInfo":"TexasTableInfo"}],Chips:[function(t,e,n){"use strict";cc._RF.push(e,"2e391NL1DtGjplRraP5BDSs","Chips");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/TexasContent"),s=t("../../lib/TexasTableInfo"),c=t("../../lib/Audio"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Chip=null,e.table=null,e.status=s.ChipsStatus.DESTROY,e.chipMultiple=[1,2,5,10],e.blurColor=cc.Color.WHITE,e.focusChip=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.start=function(){this.table=this.node.parent.getComponent("TexasTable"),this.setChips(),this.node.active=!1},e.prototype.setChips=function(){var t=this;this.chipMultiple.forEach(function(e,n){var o=e,i=r.getChipPrefabNode(e),a=i.getComponent("Chip");a.setValue(o),a.setUnit(e),i.on(cc.Node.EventType.TOUCH_START,t.onChipClick,t),t.node.addChild(i)})},e.prototype.onChipClick=function(t){var e=this;t.target!==this.focusChip&&(c.audio.playEffect(r.music.press),this.node.children.forEach(function(n){t.target===n?e.focus(n):e.blur(n)}))},e.prototype.focus=function(t){this.focusChip=t,t.scale=1.2,t.y=15},e.prototype.blur=function(t){t.getChildByName("bg").color=this.blurColor,t.scale=1,t.y=0},e.prototype.getFocusChipUnit=function(){return null===this.focusChip?(a.default.warn("no focus chip."),null):this.focusChip.getComponent("Chip").unit},e.prototype.getChipNodes=function(t){for(var e=this.chipMultiple.slice().sort(function(t,e){return e-t}),n=[];t>0;)for(var o=0;o<e.length;o++)for(;t>=e[o];)n.push(r.getChipPrefabNode(e[o])),t-=e[o];return n},e.prototype.effectOfSlideUpShow=function(t,e){void 0===e&&(e=null);var n=t.y;t.active=!0,cc.tween(t).to(s.effectDuration.BASIC.SLIDE_UP,{y:n+t.height},r.getEaseObject(r.Easing.sineOut)).call(function(){t.y=n+t.height,e&&e()}).start()},e.prototype.effectOfSlideDownHide=function(t,e){void 0===e&&(e=null);var n=t.y;cc.tween(t).to(s.effectDuration.BASIC.SLIDE_DOWN,{y:n-t.height},r.getEaseObject(r.Easing.sineOut)).call(function(){t.y=n-t.height,t.active=!1,e&&e()}).start()},e.prototype.showSelf=function(){this.status!==s.ChipsStatus.CREATE&&(this.status=s.ChipsStatus.CREATE,this.focus(this.node.children[0]),this.effectOfSlideUpShow(this.node))},e.prototype.destroySelf=function(){var t=this;this.status!==s.ChipsStatus.DESTROY&&(this.status=s.ChipsStatus.DESTROY,this.node.children.forEach(function(e){t.blur(e)}),this.effectOfSlideDownHide(this.node,function(){t.node.active=!1}))},i([p(cc.Prefab)],e.prototype,"Chip",void 0),e=i([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/TexasContent":"TexasContent","../../lib/TexasTableInfo":"TexasTableInfo"}],Chip:[function(t,e,n){"use strict";cc._RF.push(e,"7bdeeZfyVtGgarnnhV2dC39","Chip");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=cc._decorator,s=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=0,e.unit=0,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.start=function(){},e.prototype.setValue=function(t){this.value=t,this.root.$bg["#label"].label.string=t+""},e.prototype.setUnit=function(t){this.unit=t},e.prototype.setChipSprite=function(t){this.root["#bg"].sprite.spriteFrame=t},e=i([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils"}],CocosUtils:[function(t,e,n){"use strict";cc._RF.push(e,"8e3eecLoINA6LHcJ92mwLJR","CocosUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=(o.ccclass,o.property,function(){function t(){}return t.tree=function(t,e){var n=this;return t.children.forEach(function(t){e[t.name]=t;var o=t.getComponent(cc.Label);o&&(e["#"+t.name]={},e["#"+t.name].label=o);var i=t.getComponent(cc.Sprite);i&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].sprite=i);var a=t.getComponent(cc.Layout);a&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].layout=a);var r=t.getComponent(cc.Button);r&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].button=r);var s=t.getComponent(cc.ProgressBar);s&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].progressBar=s);var c=t.getComponent(cc.EditBox);c&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].editBox=c),t.childrenCount>0&&(e["$"+t.name]={},n.tree(t,e["$"+t.name]))}),e},t.tree2=function(t,e){var n=this;e[t.name]=t;var o=t.getComponent(cc.Label);o&&(e["#"+t.name]={},e["#"+t.name].label=o);var i=t.getComponent(cc.Sprite);i&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].sprite=i);var a=t.getComponent(cc.Layout);return a&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].layout=a),t.childrenCount>0&&(e["$"+t.name]={},t.children.forEach(function(o){n.tree2(o,e["$"+t.name])})),e},t.log=function(t){this.debugMode&&console.log(t)},t.warn=function(t){this.debugMode&&console.warn(t)},t.error=function(t){this.debugMode&&console.error(t)},t.debugMode=!0,t}());n.default=i,cc._RF.pop()},{}],Dealer:[function(t,e,n){"use strict";cc._RF.push(e,"ebf9fAGnStG1oVDD5tkjcVN","Dealer");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/TexasContent"),s=t("../lib/TexasTableInfo"),c=t("../lib/TexasSetting"),l=t("../lib/TexasText"),u=t("../lib/Audio"),p=cc._decorator,f=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CardString=null,e.cards=[52,52],e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.reset=function(){var t=this.root.$pool.$card_1.card,e=this.root.$pool.$card_2.card,n=this.root.$pool.$card_1["#card"].sprite,o=this.root.$pool.$card_2["#card"].sprite;n.spriteFrame=o.spriteFrame=r.getCardSprite(52),t.active=e.active=!1},e.prototype.showCard=function(t,e){this.root.$pool["$card_"+(t+1)].card.active=e},e.prototype.setCardSprite=function(t,e){this.cards[t]=e,this.root.$pool["$card_"+(t+1)]["#card"].sprite.spriteFrame=r.getCardSprite(e)},e.prototype.effectOfTurnCard=function(t,e,n){var o=this;void 0===n&&(n=null),u.audio.playEffect(r.music.turnCard);var i=this.root.$pool["$card_"+(t+1)].card;cc.tween(i).to(s.effectDuration.DEALER.TURN_CARD,{y:15,eulerAngles:cc.v3(-10,90,-10)}).call(function(){o.setCardSprite(t,e),i.eulerAngles=cc.v3(10,270,10)}).to(s.effectDuration.DEALER.TURN_CARD,{y:0,eulerAngles:cc.v3(0,0,0)}).delay(s.effectDuration.DEALER.AFTER_TURN_CARD_DELAY).call(function(){n&&n()}).start()},e.prototype.effectOfRaiseCard=function(t,e){void 0===e&&(e=null);var n=this.root.$pool["$card_"+(t+1)].card;cc.tween(n).to(s.effectDuration.DEALER.RAISE_CARD,{y:15},r.getEaseObject(r.Easing.backIn)).delay(s.effectDuration.DEALER.AFTER_RAISE_CARD_DELAY).call(function(){e&&e()}).start()},e.prototype.effectOfShowPanel=function(t){void 0===t&&(t=null),u.audio.playEffect(r.music.showType);var e=this.root.panel;e.opacity=0,e.active=!0,cc.tween(e).to(s.effectDuration.DEALER.SHOW_PANEL,{opacity:255},r.getEaseObject(r.Easing.sineOut)).delay(s.effectDuration.DEALER.AFTER_SHOW_PANEL_DELAY).call(function(){t&&t()}).start()},e.prototype.setPanel=function(t,e){var n=this;this.root.$panel["#type"].label.string=t,e.forEach(function(t){var e=cc.instantiate(n.CardString),o=e.getComponent("CardString");o.init(),o.setCardValue(t),n.root.$panel.cards.addChild(e)})},e.prototype.effectOfShowWinnerPanel=function(t){void 0===t&&(t=null),u.audio.playEffect(r.music.showWinner);var e=this.root.winnerPanel;e.opacity=0,e.active=!0,cc.tween(e).to(s.effectDuration.DEALER.SHOW_TRIPS_PANEL,{opacity:255},r.getEaseObject(r.Easing.sineOut)).delay(2*s.effectDuration.DEALER.AFTER_SHOW_TRIPS_PANEL_DELAY).call(function(){t&&t()}).start()},e.prototype.setWinnerPanel=function(t){var e=c.texasSetting.language,n=this.root.$winnerPanel["#winner"].label;switch(t){case s.GameWinner.DEALER:n.string=l.texasText[e].Winner.Dealer;break;case s.GameWinner.DRAW:n.string=l.texasText[e].Winner.Draw;break;case s.GameWinner.PLAYER:n.string=l.texasText[e].Winner.Player}},e.prototype.resetToInit=function(){this.setCardSprite(0,52),this.setCardSprite(1,52),this.showCard(0,!1),this.showCard(1,!1),this.root.$pool.$card_1.card.y=0,this.root.$pool.$card_2.card.y=0,this.root.$panel["#type"].label.string="",this.root.$panel.cards.destroyAllChildren(),this.root.panel.active=!1,this.root.$winnerPanel["#winner"].label.string="",this.root.winnerPanel.active=!1},e.prototype.testDealerEffect=function(){var t=this;this.showCard(1,!0),this.showCard(2,!0),this.effectOfTurnCard(1,10,function(){t.effectOfTurnCard(2,20,function(){t.effectOfRaiseCard(1,function(){t.setPanel("Four of a Kind",[9,10,11,12,13]),t.effectOfShowPanel()})})})},i([h(cc.Prefab)],e.prototype,"CardString",void 0),e=i([f],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/TexasContent":"TexasContent","../lib/TexasSetting":"TexasSetting","../lib/TexasTableInfo":"TexasTableInfo","../lib/TexasText":"TexasText"}],Gaming:[function(t,e,n){"use strict";cc._RF.push(e,"28f83Mc4PpNSbhjmG/yt3Hr","Gaming");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./lib/CocosUtils"),r=t("./lib/TexasContent"),s=t("./lib/TexasTableInfo"),c=t("./lib/Texas"),l=t("./lib/Audio"),u=cc._decorator,p=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){cc.game.setFrameRate(60),r.fixVisible(this.node),this.init()},e.prototype.start=function(){var t=this;l.audio.playMusic(r.music.bg),c.texas.checkAlive().catch(function(e){a.default.error(e),t.setToolTipsMessage(e)}).then(function(e){e&&(t.setToolTipsMessage("Preparing Table..."),c.texas.getTableStatus().catch(function(e){a.default.error(e),t.setToolTipsMessage(e)}).then(function(e){if(e){a.default.log(e),s.tableSetting.tableID=e.tableID,s.tableSetting.betUnit=e.betUnit,s.tableSetting.mainMax=e.maxBet,s.tableSetting.mainMin=e.minBet,s.tableSetting.topMax=e.maxBet;var n=cc.instantiate(r.prefabs.TexasTable);t.root.ui.addChild(n)}}))})},e.prototype.language=function(){},e.prototype.setToolTipsMessage=function(t){this.root.$ui.$toolTips["#tip"].label.string=t},e.prototype.showToolTipsMessage=function(t){this.root.$ui.toolTips.active=t},e=i([p],e)}(cc.Component));n.default=f,cc._RF.pop()},{"./lib/Audio":"Audio","./lib/CocosUtils":"CocosUtils","./lib/Texas":"Texas","./lib/TexasContent":"TexasContent","./lib/TexasTableInfo":"TexasTableInfo"}],I18N:[function(t,e,n){"use strict";cc._RF.push(e,"7ef2bUeTTNIgZ9F2QQF/+NA","I18N"),cc._RF.pop()},{}],Loading:[function(t,e,n){"use strict";cc._RF.push(e,"107b7TjJNlFrZ1mtNsfGY9j","Loading");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./lib/CocosUtils"),r=t("./lib/TexasContent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressCount=5,e.progressNow=0,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){cc.game.setFrameRate(60),r.fixVisible(this.node),this.init()},e.prototype.start=function(){this.preLoadResources()},e.prototype.preLoadResources=function(){var t=this;cc.loader.loadRes("atlas/cards",cc.SpriteAtlas,this.progressing.bind(this),function(e,n){e?a.default.error(e):(r.atlas.cards=n,t.addProgress())}),cc.loader.loadRes("atlas/chips",cc.SpriteAtlas,this.progressing.bind(this),function(e,n){e?a.default.error(e):(r.atlas.chips=n,t.addProgress())}),cc.loader.loadRes("prefab/Chip",cc.Prefab,this.progressing.bind(this),function(e,n){e?a.default.error(e):(r.prefabs.Chip=n,t.addProgress())}),cc.loader.loadRes("prefab/TexasTable",cc.Prefab,this.progressing.bind(this),function(e,n){e?a.default.error(e):(r.prefabs.TexasTable=n,t.addProgress())}),cc.loader.loadResDir("music",cc.AudioClip,function(e,n,o){t.root.$ui.detailProgressBar.getComponent(cc.ProgressBar).progress=(e/n).toFixed(2)-0},function(e,n){e?a.default.error(e):n.forEach(function(t){r.music[t.name]=t}),t.addProgress()})},e.prototype.preLoadScene=function(){cc.director.preloadScene("Gaming",function(){a.default.log("preload Game scene finished.")})},e.prototype.addProgress=function(){this.progressNow++,this.root.$ui.progressBar.getComponent(cc.ProgressBar).progress=this.progressNow/this.progressCount,this.progressNow===this.progressCount&&cc.director.preloadScene("Gaming",null,function(){cc.director.loadScene("Gaming")})},e.prototype.progressing=function(t,e){this.root.$ui.detailProgressBar.getComponent(cc.ProgressBar).progress=(t/e).toFixed(2)-0},e.prototype.effectOfLoading=function(t){void 0===t&&(t=!1);var e=this.root.$ui.$logo[1],n=this.root.$ui.$logo[2];t?(e.stopAllActions(),n.stopAllActions(),e.angle=n.angle=0):(cc.tween(e).repeatForever(cc.tween(e).to(10,{angle:360}).call(function(){e.angle=0})).start(),cc.tween(n).repeatForever(cc.tween(n).to(10,{angle:-360}).call(function(){n.angle=0})).start())},e=i([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./lib/CocosUtils":"CocosUtils","./lib/TexasContent":"TexasContent"}],Menu:[function(t,e,n){"use strict";cc._RF.push(e,"6085fL6bIhH1KxmOgXRSFKR","Menu");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/TexasContent"),s=t("../../lib/Audio"),c=cc.tween,l=t("../../lib/TexasSetting"),u=t("../../lib/TexasText"),p=cc._decorator,f=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menuBtn=null,e.cancelBtn=null,e.Setting=null,e.show=!1,e.table=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=l.texasSetting.language;"EN"===t?(this.root.$content.$setting.$Background["#Label"].label.string=u.texasText.EN.Menu.Setting,this.root.$content.$gameRule.$Background["#Label"].label.string=u.texasText.EN.Menu.GameRule):"CN"===t&&(this.root.$content.$setting.$Background["#Label"].label.string=u.texasText.CN.Menu.Setting,this.root.$content.$gameRule.$Background["#Label"].label.string=u.texasText.CN.Menu.GameRule)},e.prototype.start=function(){this.language()},e.prototype.onMenuClick=function(){var t=this.root.content;if(!(t.getNumberOfRunningActions()>0))if(s.audio.playEffect(r.music.press),t.active)this.root["#bg"].sprite.spriteFrame=this.menuBtn,t.active=!0,t.children.forEach(function(t,e){c(t).to(.1,{y:0},r.getEaseObject(r.Easing.sineOut)).start()}),c(t).delay(.1).call(function(){t.active=!1}).start();else{this.root["#bg"].sprite.spriteFrame=this.cancelBtn;t.active=!0,t.children.forEach(function(t,e){c(t).to(.2,{y:100+70*e},r.getEaseObject(r.Easing.backOut)).start()}),c(t).delay(.25).start()}},e.prototype.onSettingClick=function(t){var e=cc.instantiate(this.Setting);e.zIndex=r.zOrder.zIndex_MAX,this.table.node.addChild(e)},e.prototype.onGameRuleClick=function(t){t.target.getNumberOfRunningActions()>0||(s.audio.playEffect(r.music.press),"EN"===l.texasSetting.language?window.open(r.globalConstant.gameRuleUrl):"CN"===l.texasSetting.language&&window.open(r.globalConstant.gameRuleUrlCN))},i([h(cc.SpriteFrame)],e.prototype,"menuBtn",void 0),i([h(cc.SpriteFrame)],e.prototype,"cancelBtn",void 0),i([h(cc.Prefab)],e.prototype,"Setting",void 0),e=i([f],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/TexasContent":"TexasContent","../../lib/TexasSetting":"TexasSetting","../../lib/TexasText":"TexasText"}],Player:[function(t,e,n){"use strict";cc._RF.push(e,"d7e9fg1dZlNXbSUcbr6IJQA","Player");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/TexasContent"),s=t("../lib/TexasTableInfo"),c=t("../lib/Audio"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.CardString=null,e.cards=[52,52],e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.reset=function(){var t=this.root.$pool.$card_1.card,e=this.root.$pool.$card_2.card,n=this.root.$pool.$card_1["#card"].sprite,o=this.root.$pool.$card_2["#card"].sprite;n.spriteFrame=o.spriteFrame=r.getCardSprite(52),t.active=e.active=!1},e.prototype.showCard=function(t,e){this.root.$pool["$card_"+(t+1)].card.active=e},e.prototype.setCardSprite=function(t,e){this.cards[t]=e,this.root.$pool["$card_"+(t+1)]["#card"].sprite.spriteFrame=r.getCardSprite(e)},e.prototype.effectOfTurnCard=function(t,e,n){var o=this;void 0===n&&(n=null),c.audio.playEffect(r.music.turnCard);var i=this.root.$pool["$card_"+(t+1)].card;cc.tween(i).to(s.effectDuration.DEALER.TURN_CARD,{y:15,eulerAngles:cc.v3(-10,90,-10)}).call(function(){o.setCardSprite(t,e),i.eulerAngles=cc.v3(10,270,10)}).to(s.effectDuration.DEALER.TURN_CARD,{y:0,eulerAngles:cc.v3(0,0,0)}).delay(s.effectDuration.DEALER.AFTER_TURN_CARD_DELAY).call(function(){n&&n()}).start()},e.prototype.effectOfRaiseCard=function(t,e){void 0===e&&(e=null);var n=this.root.$pool["$card_"+(t+1)].card;cc.tween(n).to(s.effectDuration.DEALER.RAISE_CARD,{y:15},r.getEaseObject(r.Easing.backIn)).delay(s.effectDuration.DEALER.AFTER_RAISE_CARD_DELAY).call(function(){e&&e()}).start()},e.prototype.effectOfShowPanel=function(t){void 0===t&&(t=null),c.audio.playEffect(r.music.showType);var e=this.root.panel;e.opacity=0,e.active=!0,cc.tween(e).to(s.effectDuration.DEALER.SHOW_PANEL,{opacity:255},r.getEaseObject(r.Easing.sineOut)).delay(s.effectDuration.DEALER.AFTER_SHOW_PANEL_DELAY).call(function(){t&&t()}).start()},e.prototype.effectOfShowTripsPanel=function(t){void 0===t&&(t=null);var e=this.root.tripsPanel;e.opacity=0,e.active=!0,cc.tween(e).to(s.effectDuration.DEALER.SHOW_TRIPS_PANEL,{opacity:255},r.getEaseObject(r.Easing.sineOut)).delay(s.effectDuration.DEALER.AFTER_SHOW_TRIPS_PANEL_DELAY).call(function(){t&&t()}).start()},e.prototype.setPanel=function(t,e){var n=this;this.root.$panel["#type"].label.string=t,e.forEach(function(t){var e=cc.instantiate(n.CardString),o=e.getComponent("CardString");o.init(),o.setCardValue(t),n.root.$panel.cards.addChild(e)})},e.prototype.setTripsPanel=function(t,e){this.root.$tripsPanel["#type"].label.string=t,this.root.$tripsPanel.$trips["#value"].label.string=e+""},e.prototype.showWins=function(t){var e=this.root.$panel.wins,n=this.root.$panel.noWins;e.active=t,n.active=!t},e.prototype.setWins=function(t,e,n){var o=this.root.$panel.$wins.$ante["#value"].label,i=this.root.$panel.$wins.$blind["#value"].label,a=this.root.$panel.$wins.$play["#value"].label;o.string=t+"",i.string=e+"",a.string=n+""},e.prototype.resetToInit=function(){this.setCardSprite(0,52),this.setCardSprite(1,52),this.showCard(0,!1),this.showCard(1,!1),this.root.$pool.$card_1.card.y=0,this.root.$pool.$card_2.card.y=0,this.root.$panel["#type"].label.string="",this.root.$panel.cards.destroyAllChildren(),this.root.panel.active=!1,this.setWins(0,0,0),this.showWins(!0),this.setTripsPanel("",0),this.root.tripsPanel.active=!1},e.prototype.testPlayerEffect=function(){var t=this;this.showCard(0,!0),this.showCard(1,!0),this.effectOfTurnCard(0,10,function(){t.effectOfTurnCard(1,20,function(){t.setTripsPanel("TWO PAIRS",200),t.effectOfShowTripsPanel(function(){t.effectOfRaiseCard(1,function(){t.setPanel("Four of a Kind",[9,10,11,12,13]),t.effectOfShowPanel()})})})})},i([p(cc.Prefab)],e.prototype,"CardString",void 0),e=i([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/TexasContent":"TexasContent","../lib/TexasTableInfo":"TexasTableInfo"}],Recharge:[function(t,e,n){"use strict";cc._RF.push(e,"1a753hRjUxHUrYcIkNFbmDZ","Recharge");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/TexasSetting"),s=t("../../lib/TexasContent"),c=cc._decorator,l=c.ccclass,u=c.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.titleCN=null,e.msg=null,e.msgCN=null,e.buy=null,e.buyCN=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=r.texasSetting.language;"EN"===t?(this.root.$content["#title"].sprite.spriteFrame=this.title,this.root.$content["#msg"].sprite.spriteFrame=this.msg,this.root.$content["#buy"].button.normalSprite=this.buy,this.root.$content.$buy["#Background"].sprite.spriteFrame=this.buy):"CN"===t&&(this.root.$content["#title"].sprite.spriteFrame=this.titleCN,this.root.$content["#msg"].sprite.spriteFrame=this.msgCN,this.root.$content["#buy"].button.normalSprite=this.buyCN,this.root.$content.$buy["#Background"].sprite.spriteFrame=this.buyCN)},e.prototype.start=function(){this.init(),this.language(),this.effectOfShow()},e.prototype.effectOfShow=function(){var t=this.root.content;t.scaleX=t.scaleY=.1,t.active=!0,cc.tween(t).to(.25,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.backOut)).start()},e.prototype.onCloseClick=function(){this.node.destroy()},e.prototype.onBuyClick=function(t){t.target.getNumberOfRunningActions()>0||window.open(s.globalConstant.buyUrl)},i([u(cc.SpriteFrame)],e.prototype,"title",void 0),i([u(cc.SpriteFrame)],e.prototype,"titleCN",void 0),i([u(cc.SpriteFrame)],e.prototype,"msg",void 0),i([u(cc.SpriteFrame)],e.prototype,"msgCN",void 0),i([u(cc.SpriteFrame)],e.prototype,"buy",void 0),i([u(cc.SpriteFrame)],e.prototype,"buyCN",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/TexasContent":"TexasContent","../../lib/TexasSetting":"TexasSetting"}],ResultPop:[function(t,e,n){"use strict";cc._RF.push(e,"1aa0ewDiSdMfrGZZq1le1tZ","ResultPop");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/TexasSetting"),s=t("../../lib/TexasText"),c=t("../../lib/TexasTableInfo"),l=t("../../lib/TexasContent"),u=t("../../lib/Audio"),p=cc._decorator,f=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Coin=null,e.coinData=[],e.valueData={start:0,end:0,frame:120,cur:0,update:1},e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=r.texasSetting.language;this.root.$content["#title"].label.string=s.texasText[t].Pop.Title,this.root.$content.$continue["#label"].label.string=s.texasText[t].Pop.Press},e.prototype.start=function(){this.init(),this.table=this.node.parent.getComponent("TexasTable"),this.language()},e.prototype.getEffectPosition=function(t,e,n){return{x:t*n,y:e*n-5*n*n}},e.prototype.update=function(t){this.handleUpdateCoin(),this.handleValueUpdate()},e.prototype.handleUpdateCoin=function(){var t=this,e=this.coinData;if(e.length>0&&e.forEach(function(e){e.time+=.1;var n=t.getEffectPosition(e.vx,e.vy,e.time);e.coin.x=n.x,e.y=e.coin.y=n.y,e.coin.angle+=e.va}),e.length>0)for(var n=0;n<e.length;n++){var o=e[n];o.y<-350&&(o.coin.destroy(),e.splice(n,1),n=0,this.effectCoin(1))}},e.prototype.handleValueUpdate=function(){var t=this.valueData;if(t.start<t.end){if(t.cur<t.update)return void t.cur++;t.cur=0;var e=t.end/t.frame;t.start+=e,t.start>t.end&&(t.start=t.end),this.root.$content["#value"].label.string=t.start.toFixed(2)}},e.prototype.effectCoin=function(t){for(var e=0;e<t;e++){var n=cc.instantiate(this.Coin);this.root.effect.addChild(n),this.coinData.push({time:0,vx:50*Math.random()-25,vy:50*Math.random()+10,va:8*Math.random()-4,y:0,coin:n})}},e.prototype.showTitle=function(t){this.root.$content.title.active=t},e.prototype.showDecorate=function(t){this.root.$content.$decorate.win.active=t,this.root.$content.$decorate.lose.active=!t},e.prototype.effectOfShowContinue=function(){var t=this.root.$content.continue,e=this.root.$content.$continue.label;t.active=!0,cc.tween(e).repeatForever(cc.tween().to(c.effectDuration.RESULT_POP.CONTINUE_SCALE,{scaleX:1.1,scaleY:1.1}).to(c.effectDuration.RESULT_POP.CONTINUE_SCALE,{scaleX:1,scaleY:1})).start()},e.prototype.effectOfShowPop=function(t,e){var n=this,o=r.texasSetting.language;if(this.root.$content.$continue["#label"].label.string=s.texasText[o].Pop.Press,this.root.$content["#title"].label.string=s.texasText[o].Pop.Title,t>0&&(this.root.$content["#value"].label.string="0.00"),t>0){this.showDecorate(!0);var i=this.root.content;i.scaleX=i.scaleY=.4,i.active=!0,cc.tween(i).to(c.effectDuration.RESULT_POP.SHOW,{scaleX:1,scaleY:1},l.getEaseObject(l.Easing.sineIn)).call(function(){r.texasSetting.sound&&(u.audio.pauseMusic(),u.audio.playEffect(l.music.resultPopWin)),n.effectCoin(e);var o=n.root.$content.title,i=cc.tween(o);o.opacity=0,o.active=!0,i.call(function(){n.effectOfShowContinue()}).delay(c.effectDuration.RESULT_POP.BEFORE_FADE_OUT_TITLE_DELAY).to(c.effectDuration.RESULT_POP.FADE_OUT_TITLE,{opacity:255}).call(function(){var e=n.root.$content.value,o=cc.tween(e);e.opacity=0,e.active=!0,o.delay(c.effectDuration.RESULT_POP.BEFORE_FADE_OUT_VALUE_DELAY).to(c.effectDuration.RESULT_POP.FADE_OUT_VALUE,{opacity:255}).call(function(){n.valueData.end=t}).delay(c.effectDuration.RESULT_POP.BEFORE_CONTINUE_SHOW_DELAY_WIN).start()}).start()}).start()}else{var a=this.root.$content.$continue.label;a.y=0;var p=this.root.$content.$continue.bg;p.y=a.y-12,p.active=!0,this.effectOfShowContinue()}},e.prototype.onContinueClick=function(){u.audio.stopEffect(),u.audio.resumeMusic(),this.table.getCardScript().resetToInit();var t=this.table.getBetScript(),e=c.serverInfo.data.bets;t.betData.rebet.ante=e.ante/c.tableSetting.betUnit,t.betData.rebet.blind=e.blind/c.tableSetting.betUnit,t.betData.rebet.trips=e.trips/c.tableSetting.betUnit,t.clearBetData(),t.updateBetChipStatus(c.GameButton.BET_ANTE,!1),t.updateBetChipStatus(c.GameButton.BET_BLIND,!1),t.updateBetChipStatus(c.GameButton.BET_PLAY,!1),t.updateBetChipStatus(c.GameButton.BET_TRIPS,!1),t.enableButtonStatus(c.GameButton.BET_ANTE,!0),t.enableButtonStatus(c.GameButton.BET_BLIND,!0),c.serverInfo.data=null,this.table.effectOfChangeAction(c.GameAction.BET),this.node.destroy()},i([h(cc.Prefab)],e.prototype,"Coin",void 0),e=i([f],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/TexasContent":"TexasContent","../../lib/TexasSetting":"TexasSetting","../../lib/TexasTableInfo":"TexasTableInfo","../../lib/TexasText":"TexasText"}],Setting:[function(t,e,n){"use strict";cc._RF.push(e,"a3c10k1U7tAlL+lfDLa7NDj","Setting");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/TexasSetting"),r=t("../../lib/TexasText"),s=t("../../lib/CocosUtils"),c=t("../../lib/TexasContent"),l=t("../../lib/Audio"),u=cc._decorator,p=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.on=null,e.off=null,e.onCN=null,e.offCN=null,e.title=null,e.titleCN=null,e.music=null,e.musicCN=null,e.sound=null,e.soundCN=null,e.lang=null,e.langCN=null,e.fillRect=null,e.musicON=!0,e.soundON=!0,e.i18n="EN",e}return o(e,t),e.prototype.init=function(){this.root=s.default.tree(this.node,{})},e.prototype.language=function(){var t=a.texasSetting.language;"EN"===t?(this.root.$content["#title"].sprite.spriteFrame=this.title,this.root.$content["#sound"].sprite.spriteFrame=this.sound,this.soundON?(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.on,this.root.$content.$sound["#switch"].button.normalSprite=this.on):(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.off,this.root.$content.$sound["#switch"].button.normalSprite=this.off),this.root.$content["#music"].sprite.spriteFrame=this.music,this.musicON?(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.on,this.root.$content.$music["#switch"].button.normalSprite=this.on):(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.off,this.root.$content.$music["#switch"].button.normalSprite=this.off),this.root.$content["#language"].sprite.spriteFrame=this.lang,this.root.$content.$language.$switch.$EN.$Background["#Label"].label.string=r.texasText.EN.Setting.EN,this.root.$content.$language.$switch.$CN.$Background["#Label"].label.string=r.texasText.EN.Setting.CN,this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=this.fillRect,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=null):"CN"===t&&(this.root.$content["#title"].sprite.spriteFrame=this.titleCN,this.root.$content["#sound"].sprite.spriteFrame=this.soundCN,this.soundON?(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.onCN,this.root.$content.$sound["#switch"].button.normalSprite=this.onCN):(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.offCN,this.root.$content.$sound["#switch"].button.normalSprite=this.offCN),this.root.$content["#music"].sprite.spriteFrame=this.musicCN,this.musicON?(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.onCN,this.root.$content.$music["#switch"].button.normalSprite=this.onCN):(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.offCN,this.root.$content.$music["#switch"].button.normalSprite=this.offCN),this.root.$content["#language"].sprite.spriteFrame=this.langCN,this.root.$content.$language.$switch.$EN.$Background["#Label"].label.string=r.texasText.CN.Setting.EN,this.root.$content.$language.$switch.$CN.$Background["#Label"].label.string=r.texasText.CN.Setting.CN,this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=null,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=this.fillRect)},e.prototype.start=function(){this.init(),this.musicON=a.texasSetting.music,this.soundON=a.texasSetting.sound,this.language(),this.effectOfShow()},e.prototype.onCloseClick=function(){l.audio.playEffect(c.music.press),this.node.destroy()},e.prototype.effectOfShow=function(){var t=this.root.content;t.scaleX=t.scaleY=.1,t.active=!0,cc.tween(t).to(.25,{scaleX:1,scaleY:1},c.getEaseObject(c.Easing.backOut)).start()},e.prototype.onSoundClick=function(){l.audio.playEffect(c.music.press),this.soundON=!this.soundON,l.audio.setEffectVolume(this.soundON),this.language()},e.prototype.onMusicClick=function(){l.audio.playEffect(c.music.press),this.musicON=!this.musicON,l.audio.setMusicVolume(this.musicON),this.language()},e.prototype.onCNClick=function(){"CN"!==a.texasSetting.language&&(l.audio.playEffect(c.music.press),a.texasSetting.changeLanguage("CN"),this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=null,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=this.fillRect)},e.prototype.onENClick=function(){"EN"!==a.texasSetting.language&&(l.audio.playEffect(c.music.press),a.texasSetting.changeLanguage("EN"),this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=this.fillRect,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=null)},i([f(cc.SpriteFrame)],e.prototype,"on",void 0),i([f(cc.SpriteFrame)],e.prototype,"off",void 0),i([f(cc.SpriteFrame)],e.prototype,"onCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"offCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"title",void 0),i([f(cc.SpriteFrame)],e.prototype,"titleCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"music",void 0),i([f(cc.SpriteFrame)],e.prototype,"musicCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"sound",void 0),i([f(cc.SpriteFrame)],e.prototype,"soundCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"lang",void 0),i([f(cc.SpriteFrame)],e.prototype,"langCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"fillRect",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/TexasContent":"TexasContent","../../lib/TexasSetting":"TexasSetting","../../lib/TexasText":"TexasText"}],TexasContent:[function(t,e,n){"use strict";cc._RF.push(e,"ff952S9RaZLurv3ywd0Rs6S","TexasContent"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./CocosUtils"),i=cc.Sprite.SizeMode;n.globalConstant={tableId:"test_table",buyUrl:"https://lucknetwork.org/account/credit",gameRuleUrl:"https://lucknetwork.zendesk.com/hc/en-us/articles/360048872273-Super-Texas-Hold-em-",gameRuleUrlCN:"https://lucknetwork.zendesk.com/hc/en-us/articles/360048872493-%E8%B6%85%E7%BA%A7%E5%BE%B7%E5%B7%9E%E6%89%91%E5%85%8B"},n.prefabs={Chip:null,TexasTable:null},n.music={bg:null,card:null,chip:null,press:null,bj:null,split:null,resultPopWin:null,showType:null,showWinner:null,turnCard:null},n.atlas={cards:null,chips:null},function(t){t[t.zIndex_MIN=0]="zIndex_MIN",t[t.zIndex_1=1]="zIndex_1",t[t.zIndex_2=2]="zIndex_2",t[t.zIndex_3=3]="zIndex_3",t[t.zIndex_4=4]="zIndex_4",t[t.zIndex_5=5]="zIndex_5",t[t.zIndex_6=6]="zIndex_6",t[t.zIndex_7=7]="zIndex_7",t[t.zIndex_8=8]="zIndex_8",t[t.zIndex_MAX=9]="zIndex_MAX"}(n.zOrder||(n.zOrder={})),n.getCurrentSceneNode=function(){return cc.director.getScene().getChildByName("Canvas")},n.fixVisible=function(t){var e=t.getComponent(cc.Canvas),n=cc.view.getViewportRect().height/cc.view.getViewportRect().width;n>1.4?(e.fitHeight=!1,e.fitWidth=!0):n<1?(e.fitHeight=!0,e.fitWidth=!0):(e.fitHeight=!0,e.fitWidth=!1),o.default.log("width: "+cc.view.getViewportRect().width+",height: "+cc.view.getViewportRect().height),o.default.log("ratio:"+n)},n.getXYUntilNode=function(t,e,o){return void 0===o&&(o={x:0,y:0}),t===e?o:(o.x+=t.x,o.y+=t.y,n.getXYUntilNode(t.parent,e,o))},n.getCardsString=function(t){var e="";return t.forEach(function(t){e+=n.getCardString(t),e+=" "}),e},n.getCardString=function(t){var e="",n=Math.floor(t%13)+1;if(n<=10&&n>=2)e+=n;else switch(n){case 1:e+="A";break;case 11:e+="J";break;case 12:e+="Q";break;case 13:e+="K"}return e},n.getCardSpriteNode=function(t,e,o){void 0===e&&(e=96.5),void 0===o&&(o=140);var a=new cc.Node,r=a.addComponent(cc.Sprite);a.name=t+"",r.sizeMode=i.CUSTOM;var s=null;return n.atlas.cards.getSpriteFrames().forEach(function(e){s=parseInt(e.name)===t?e:s}),r.spriteFrame=s,a.width=e,a.height=o,a},n.getCardSpriteNodes=function(t,e,o){void 0===e&&(e=96.5),void 0===o&&(o=140);var i=[];return t.forEach(function(t){i.push(n.getCardSpriteNode(t,e,o))}),i},n.getCardSprite=function(t){var e=null;return n.atlas.cards.getSpriteFrames().forEach(function(n){e=parseInt(n.name)===t?n:e}),e},n.getChipSprite=function(t){var e=null;return n.atlas.chips.getSpriteFrames().forEach(function(n){e=parseInt(n.name)===t?n:e}),e},n.getChipNode=function(t,e,o,i){void 0===e&&(e=1),void 0===o&&(o=88),void 0===i&&(i=92.5);var a=cc.instantiate(n.prefabs.Chip),r=a.getComponent("Chip");return r.init(),r.setChipSprite(n.getChipSprite(t)),r.setValue(t),a.width=o,a.height=i,a.scaleX=a.scaleY=e,a.removeComponent(cc.Button),a.removeComponent(cc.BlockInputEvents),a},n.getChipPrefabNode=function(t){var e=cc.instantiate(n.prefabs.Chip),o=e.getComponent("Chip");return o.init(),o.setChipSprite(n.getChipSprite(t)),o.setValue(t),e},n.getEaseObject=function(t){return{easing:t}},function(t){t.linear="linear",t.fade="fade",t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.quadOutIn="quadOutIn",t.cubicIn="cubicIn",t.cubicOut="cubicOut",t.cubicInOut="cubicInOut",t.cubicOutIn="cubicOutIn",t.quartIn="quartIn",t.quartOut="quartOut",t.quartInOut="quartInOut",t.quartOutIn="quartOutIn",t.quintIn="quintIn",t.quintOut="quintOut",t.quintInOut="quintInOut",t.quintOutIn="quintOutIn",t.sineIn="sineIn",t.sineOut="sineOut",t.sineInOut="sineInOut",t.sineOutIn="sineOutIn",t.expoIn="expoIn",t.expoOut="expoOut",t.expoInOut="expoInOut",t.expoOutIn="expoOutIn",t.circIn="circIn",t.circOut="circOut",t.circInOut="circInOut",t.circOutIn="circOutIn",t.elasticIn="elasticIn",t.elasticOut="elasticOut",t.elasticInOut="elasticInOut",t.elasticOutIn="elasticOutIn",t.backIn="backIn",t.backOut="backOut",t.backInOut="backInOut",t.backOutIn="backOutIn",t.bounceIn="bounceIn",t.bounceOut="bounceOut",t.bounceInOut="bounceInOut",t.bounceOutIn="bounceOutIn"}(n.Easing||(n.Easing={})),cc._RF.pop()},{"./CocosUtils":"CocosUtils"}],TexasEventHandler:[function(t,e,n){"use strict";cc._RF.push(e,"fcb28ltdOlDKoLPZsqAAd7z","TexasEventHandler");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TexasTableInfo"),r=t("./TexasSetting"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){this.table=this.node.getComponent("TexasTable")},e.prototype.effectOfRaise4X3X2XEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table,o=n.getBetScript(),i=n.getCardScript(),r=i.playerJs,s=i.dealerJs,c=t.communityCards,l=t.dealerCards,u=t.dealerValue.bestHand,p=t.dealerValue.type,f=t.playerValue.bestHand,h=t.playerValue.type,d=t.bets.trips,b=t.returns.trips,g=t.returns.ante,y=t.returns.blind,T=t.bets.play,C=t.returns.play,_=t.totalReturn;o.betData.bet.play=T/a.tableSetting.betUnit,o.updateBetChipStatus(a.GameButton.BET_PLAY,!0),o.effectOfShowBetValue(a.GameButton.BET_PLAY),n.effectOfSendCardToCardPool(c,function(){s.effectOfTurnCard(0,l[0],function(){s.effectOfTurnCard(1,l[1],function(){i.effectOfBestCard(a.BestCardTarget.DEALER,u,function(){s.setPanel(e.getTypeStringByServerType(p),u),s.effectOfShowPanel(function(){i.effectOfBestCard(a.BestCardTarget.NONE,[],function(){i.effectOfBestCard(a.BestCardTarget.PLAYER,f,function(){d>0&&b>0&&(r.setTripsPanel(e.getTypeStringByServerType(h),b/a.tableSetting.betUnit),r.effectOfShowTripsPanel()),r.setPanel(e.getTypeStringByServerType(h),f),r.setWins(g/a.tableSetting.betUnit,y/a.tableSetting.betUnit,C/a.tableSetting.betUnit),r.effectOfShowPanel(function(){var t=null;T===C?t=a.GameWinner.DRAW:T>C?t=a.GameWinner.DEALER:T<C&&(t=a.GameWinner.PLAYER),s.setWinnerPanel(t),s.effectOfShowWinnerPanel(function(){e.table.createResultPop(_/a.tableSetting.betUnit,_>0?5:0)})})})})})})})})})},e.prototype.effectOf1XEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table,o=n.getBetScript(),i=n.getCardScript(),r=i.playerJs,s=i.dealerJs,c=t.dealerCards,l=t.dealerValue.bestHand,u=t.dealerValue.type,p=t.playerValue.bestHand,f=t.playerValue.type,h=t.bets.trips,d=t.returns.trips,b=t.returns.ante,g=t.returns.blind,y=t.bets.play,T=t.returns.play,C=t.totalReturn;o.betData.bet.play=y/a.tableSetting.betUnit,o.updateBetChipStatus(a.GameButton.BET_PLAY,!0),o.effectOfShowBetValue(a.GameButton.BET_PLAY),s.effectOfTurnCard(0,c[0],function(){s.effectOfTurnCard(1,c[1],function(){i.effectOfBestCard(a.BestCardTarget.DEALER,l,function(){s.setPanel(e.getTypeStringByServerType(u),l),s.effectOfShowPanel(function(){i.effectOfBestCard(a.BestCardTarget.NONE,[],function(){i.effectOfBestCard(a.BestCardTarget.PLAYER,p,function(){h>0&&d>0&&(r.setTripsPanel(e.getTypeStringByServerType(f),d/a.tableSetting.betUnit),r.effectOfShowTripsPanel()),r.setPanel(e.getTypeStringByServerType(f),p),r.setWins(b/a.tableSetting.betUnit,g/a.tableSetting.betUnit,T/a.tableSetting.betUnit),r.effectOfShowPanel(function(){var n=null;y===T?n=a.GameWinner.DRAW:y>T?n=a.GameWinner.DEALER:y<T&&(n=a.GameWinner.PLAYER);var o=t.logs.pop();t.logs.push(o),"fold"===o.action&&(n=a.GameWinner.DEALER),s.setWinnerPanel(n),s.effectOfShowWinnerPanel(function(){e.table.createResultPop(C/a.tableSetting.betUnit,C>0?5:0)})})})})})})})})},e.prototype.effectOfCheckEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table.getButtonScript();n.actionIndex=t.actionIndex;var o=t.communityCards;this.table.effectOfSendCardToCardPool(o,function(){var o=t.actions;Object.keys(o).forEach(function(t){var i=e.formatServerActionToGameButton(t);n.showButton(i,o[t]),n.enableButtonClick(i,o[t])})})},e.prototype.effectOfFoldEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table.getCardScript(),o=n.playerJs,i=n.dealerJs,r=t.playerValue.bestHand,s=t.playerValue.type,c=t.bets.trips,l=t.returns.trips,u=t.returns.ante,p=t.returns.blind,f=t.returns.play,h=t.totalReturn/a.tableSetting.betUnit;n.effectOfBestCard(a.BestCardTarget.PLAYER,r,function(){c>0&&l>0&&(o.setTripsPanel(e.getTypeStringByServerType(s),l/a.tableSetting.betUnit),o.effectOfShowTripsPanel()),o.setPanel(e.getTypeStringByServerType(s),r),o.setWins(u/a.tableSetting.betUnit,p/a.tableSetting.betUnit,f/a.tableSetting.betUnit),o.effectOfShowPanel(function(){i.setWinnerPanel(a.GameWinner.DEALER),i.effectOfShowWinnerPanel(function(){e.table.createResultPop(h,h>0?5:0)})})})},e.prototype.effectOfNewGameEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table,o=n.getCardScript().playerJs,i=n.getButtonScript();i.actionIndex=t.actionIndex;var r=t.playerCards;n.effectOfSendCardToDealerAndPlayer(function(){o.effectOfTurnCard(0,r[0],function(){o.effectOfTurnCard(1,r[1],function(){var n=t.actions;Object.keys(n).forEach(function(t){var o=e.formatServerActionToGameButton(t);i.showButton(o,n[t]),i.enableButtonClick(o,n[t])})})})})},e.prototype.noEffectOfServerEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table,o=n.getBetScript(),i=n.getButtonScript();i.actionIndex=t.actionIndex;var r=n.getCardScript(),s=r.playerJs,c=r.dealerJs,l=r.cardPoolJs,u=t.communityCards,p=t.playerCards,f=t.bets.trips,h=t.bets.play,d=t.bets.ante,b=t.bets.blind;c.showCard(0,!0),c.showCard(1,!0),s.setCardSprite(0,p[0]),s.setCardSprite(1,p[1]),s.showCard(0,!0),s.showCard(1,!0),u.forEach(function(t,e){l.setCardSprite(e,t),l.showCard(e,!0)}),o.betData.bet.trips=o.betData.rebet.trips=f/a.tableSetting.betUnit,o.betData.bet.play=h/a.tableSetting.betUnit,o.betData.bet.ante=o.betData.rebet.ante=d/a.tableSetting.betUnit,o.betData.bet.blind=o.betData.rebet.blind=b/a.tableSetting.betUnit,o.updateBetChipStatus(a.GameButton.BET_ANTE,!0),o.updateBetChipStatus(a.GameButton.BET_PLAY,!0),o.updateBetChipStatus(a.GameButton.BET_TRIPS,!0),o.updateBetChipStatus(a.GameButton.BET_BLIND,!0),o.disableAllButtons(),o.effectOfShowBetValue(a.GameButton.BET_ANTE),o.effectOfShowBetValue(a.GameButton.BET_PLAY),o.effectOfShowBetValue(a.GameButton.BET_TRIPS),o.effectOfShowBetValue(a.GameButton.BET_BLIND);var g=t.actions;Object.keys(g).forEach(function(t){var n=e.formatServerActionToGameButton(t);i.showButton(n,g[t]),i.enableButtonClick(n,g[t])})},e.prototype.formatServerActionToGameButton=function(t){switch(t){case"check":return a.GameButton.BUTTON_CARD_CHECK;case"raise4x":return a.GameButton.BUTTON_CARD_4X;case"raise3x":return a.GameButton.BUTTON_CARD_3X;case"raise2x":return a.GameButton.BUTTON_CARD_2X;case"raise1x":return a.GameButton.BUTTON_CARD_1X;case"fold":return a.GameButton.BUTTON_CARD_FOLD}},e.prototype.getTypeStringByServerType=function(t){var e=r.texasSetting.language;if("EN"===e)switch(t){case 1:return"High Card";case 2:return"One Pair";case 3:return"Two Pair";case 4:return"Three of a Kind";case 5:return"Straight";case 6:return"Flush";case 7:return"Full House";case 8:return"Four of a Kind";case 9:return"Straight Flush";case 10:return"Royal Flush"}else if("CN"===e)switch(t){case 1:return"\u5927\u724c";case 2:return"\u5bf9\u5b50";case 3:return"\u4e24\u5bf9";case 4:return"\u4e09\u6761";case 5:return"\u987a\u5b50";case 6:return"\u540c\u82b1";case 7:return"\u846b\u82a6";case 8:return"\u56db\u6761";case 9:return"\u540c\u82b1\u987a";case 10:return"\u7687\u5bb6\u540c\u82b1\u987a"}},e=i([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"./TexasSetting":"TexasSetting","./TexasTableInfo":"TexasTableInfo"}],TexasSetting:[function(t,e,n){"use strict";cc._RF.push(e,"fca10nTbW9Nh7QITZoPUNE4","TexasSetting"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./CocosUtils"),i=t("./TexasContent"),a=function(){function t(){this._language="EN",this._music=!0,this._sound=!0,this.languages=["EN","CN"]}return Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"music",{get:function(){return this._music},set:function(t){this._music=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sound",{get:function(){return this._sound},set:function(t){this._sound=t},enumerable:!0,configurable:!0}),t.prototype.autoChangeLanguage=function(){var t=this,e=-1;this.languages.forEach(function(n,o,i){n===t.language&&(e=o+1>=i.length?0:o+1)}),-1!=e?this.language=this.languages[e]:o.default.warn("change language error.")},t.prototype.changeLanguage=function(t){this.language=t,this.triggerLanguage(i.getCurrentSceneNode())},t.prototype.triggerLanguage=function(t){var e=this;t.children.forEach(function(t){if(cc.js.getClassByName(t.name)){var n=t.getComponent(t.name);n&&"function"==typeof n.language&&n.language()}e.triggerLanguage(t)})},t}();n.default=a,n.texasSetting=new a,cc._RF.pop()},{"./CocosUtils":"CocosUtils","./TexasContent":"TexasContent"}],TexasTableInfo:[function(t,e,n){"use strict";cc._RF.push(e,"8f524vnzsJPaZ589t/BEHUS","TexasTableInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.gamerInfo={gamerId:"5rFapA5b9FBgczB7-h49v4c5018mjtnbvu31tv9btan",balance:0},n.serverInfo={data:null},n.tableSetting={tableID:"",betUnit:0,topMax:0,mainMax:0,mainMin:0},n.effectDuration={TABLE:{SEND_CARD_DELAY:.2,SEND_CARD_FADE_OUT:.1,SEND_CARD:.4},BASIC:{SLIDE_UP:.25,SLIDE_DOWN:.25},BET:{BUTTON_ROUND:.4,CHIP_BOUNCE_UP:.1,CHIP_BOUNCE_DELAY:.05,CHIP_BOUNCE_DOWN:.1,VALUE_SHOWING_DELAY:1.5},BUTTON:{CARD_HIDE:.125,CARD_SHOW:.125,BET_SHOW:.125,BET_HIDE:.125},RESULT_POP:{CONTINUE_SCALE:.75,SHOW:.4,BEFORE_CONTINUE_SHOW_DELAY_WIN:3,BEFORE_CONTINUE_SHOW_DELAY_NO_WIN:1,BEFORE_FADE_OUT_TITLE_DELAY:.25,FADE_OUT_TITLE:.25,BEFORE_FADE_OUT_VALUE_DELAY:.25,FADE_OUT_VALUE:.25},DEALER:{TURN_CARD:.15,AFTER_TURN_CARD_DELAY:.25,RAISE_CARD:.75,AFTER_RAISE_CARD_DELAY:.25,SHOW_PANEL:1,AFTER_SHOW_PANEL_DELAY:.25,SHOW_TRIPS_PANEL:1,AFTER_SHOW_TRIPS_PANEL_DELAY:.25}},function(t){t.BET="bet",t.CARD="card"}(n.GameAction||(n.GameAction={})),function(t){t.BET_ANTE="ante",t.BET_BLIND="blind",t.BET_TRIPS="trips",t.BET_PLAY="play",t.BUTTON_BET_REBET="rebet",t.BUTTON_BET_CLEAR="clear",t.BUTTON_BET_DEAL="deal",t.BUTTON_BET_UNDO="undo",t.BUTTON_CARD_CHECK="check",t.BUTTON_CARD_1X="1x",t.BUTTON_CARD_2X="2x",t.BUTTON_CARD_3X="3x",t.BUTTON_CARD_4X="4x",t.BUTTON_CARD_FOLD="fold"}(n.GameButton||(n.GameButton={})),function(t){t.ROYAL_FLUSH="royalFlush",t.STRAIGHT_FLUSH="straightFlush",t.FOUR_OF_A_KIND="fourOfAKind",t.FULL_HOUSE="fullHouse",t.FLUSH="flush",t.STRAIGHT="straight"}(n.BlindPayType||(n.BlindPayType={})),function(t){t.ROYAL_FLUSH="royalFlush",t.STRAIGHT_FLUSH="straightFlush",t.FOUR_OF_A_KIND="fourOfAKind",t.FULL_HOUSE="fullHouse",t.FLUSH="flush",t.STRAIGHT="straight",t.THREE_OF_A_KIND="threeOfAKind"}(n.TripsPayType||(n.TripsPayType={})),function(t){t[t.DEALER=0]="DEALER",t[t.PLAYER=1]="PLAYER",t[t.NONE=2]="NONE"}(n.BestCardTarget||(n.BestCardTarget={})),function(t){t[t.DRAW=0]="DRAW",t[t.DEALER=1]="DEALER",t[t.PLAYER=2]="PLAYER"}(n.GameWinner||(n.GameWinner={})),function(t){t[t.CREATE=0]="CREATE",t[t.DESTROY=1]="DESTROY"}(n.ChipsStatus||(n.ChipsStatus={})),cc._RF.pop()},{}],TexasTable:[function(t,e,n){"use strict";cc._RF.push(e,"cdc8fsS76hKV6jZt5oMx6pZ","TexasTable");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/TexasTableInfo"),s=t("../lib/TexasContent"),c=t("../lib/Texas"),l=t("../lib/Audio"),u=cc._decorator,p=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Chips=null,e.ResultPop=null,e.Menu=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){var t=this,e=new URL(location.href),n=cc.sys.localStorage.getItem("pid");null===e.searchParams.get("pid")&&null===n&&(n=this.getRandomToken(20),a.default.log(n));var o=null===e.searchParams.get("pid")?n:e.searchParams.get("pid");a.default.log(o),cc.sys.localStorage.setItem("pid",o),r.gamerInfo.gamerId=o,this.hideUrl();var i=cc.instantiate(this.Menu),l=i.getComponent("Menu");l.init(),l.table=this,i.zIndex=s.zOrder.zIndex_8,this.node.addChild(i),this.getBetScript().updateLimitValue(),c.texas.getGame().catch(function(t){a.default.error(t)}).then(function(e){e&&("no_game"===e.status?t.effectOfChangeAction(r.GameAction.BET):"ongoing"===e.status&&(t.effectOfChangeAction(r.GameAction.CARD),t.getEventScript().noEffectOfServerEvent(e)))})},e.prototype.language=function(){},e.prototype.effectOfChangeAction=function(t){this.action!==t&&(t===r.GameAction.BET?(this.createChips(),this.getButtonScript().effectOfChangeAction(t)):t===r.GameAction.CARD&&(this.destroyChips(),this.getButtonScript().effectOfChangeAction(r.GameAction.CARD)),this.action=t)},e.prototype.effectOfSendCardToDealerAndPlayer=function(t){void 0===t&&(t=null);var e=this.getCardScript().playerJs,n=this.getCardScript().dealerJs,o=this.root.$cardBox.card,i=s.getXYUntilNode(o,this.node),a=[];a.push(this.root.$Card.$Player.$pool.$card_1.card),a.push(this.root.$Card.$Dealer.$pool.$card_1.card),a.push(this.root.$Card.$Player.$pool.$card_2.card),a.push(this.root.$Card.$Dealer.$pool.$card_2.card);for(var c=function(c){var p=cc.instantiate(o);p.active=!0,p.x=i.x,p.y=i.y,p.opacity=0;var f=a[c],h=s.getXYUntilNode(f,u.node);u.node.addChild(p);var d=cc.tween(p);d.delay(r.effectDuration.TABLE.SEND_CARD_DELAY*c).by(r.effectDuration.TABLE.SEND_CARD_FADE_OUT,{x:-20,y:-20,opacity:255}).call(function(){l.audio.playEffect(s.music.card)}).to(r.effectDuration.TABLE.SEND_CARD,{x:h.x,y:h.y,scaleX:f.scaleX,scaleY:f.scaleY,angle:f.angle}).call(function(){var t=Math.floor(c/2);c%2==0?e.showCard(t,!0):n.showCard(t,!0)}),c===a.length-1&&d.call(function(){t&&t()}),d.call(function(){p.destroy()}),d.start()},u=this,p=0;p<a.length;p++)c(p)},e.prototype.effectOfSendCardToCardPool=function(t,e){var n=this;void 0===e&&(e=null);for(var o=this.getCardScript().cardPoolJs.getCurrentIndex(),i=cc.tween(this.node),a=function(a){a!==o&&i.delay(r.effectDuration.TABLE.SEND_CARD_FADE_OUT+r.effectDuration.TABLE.SEND_CARD+r.effectDuration.DEALER.TURN_CARD+r.effectDuration.DEALER.TURN_CARD),i.call(function(){n.effectOfSendOneCardToCardPool(a,t[a],a===t.length-1?e:null)})},s=o;s<t.length;s++)a(s);i.start()},e.prototype.effectOfSendOneCardToCardPool=function(t,e,n){void 0===n&&(n=null);var o=this.getCardScript().cardPoolJs,i=o.getCardNodeByIndex(t),a=this.root.$cardBox.card,c=s.getXYUntilNode(a,this.node),u=s.getXYUntilNode(i,this.node),p=cc.instantiate(a);p.active=!0,p.x=c.x,p.y=c.y,p.opacity=0,this.node.addChild(p);var f=cc.tween(p);f.delay(r.effectDuration.TABLE.SEND_CARD_DELAY).by(r.effectDuration.TABLE.SEND_CARD_FADE_OUT,{x:-20,y:-20,opacity:255}).call(function(){l.audio.playEffect(s.music.card)}).to(r.effectDuration.TABLE.SEND_CARD,{x:u.x,y:u.y,scaleX:i.scaleX,scaleY:i.scaleY,angle:i.angle}).call(function(){o.showCard(t,!0),o.effectOfTurnCard(t,e,n)}),f.call(function(){p.destroy()}),f.start()},e.prototype.getChipsScript=function(){return this.node.getChildByName("Chips").getComponent("Chips")},e.prototype.getBetScript=function(){return this.node.getChildByName("Bet").getComponent("Bet")},e.prototype.getButtonScript=function(){return this.node.getChildByName("Button").getComponent("Button")},e.prototype.getCardScript=function(){return this.node.getChildByName("Card").getComponent("Card")},e.prototype.getBalanceScript=function(){return this.root.Balance.getComponent("Balance")},e.prototype.getEventScript=function(){return this.node.getComponent("TexasEventHandler")},e.prototype.showToolTip=function(t){this.root.toolTips.active=t},e.prototype.setTip=function(t){this.root.$toolTips.$tip["#label"].label.string=t},e.prototype.createChips=function(){this.getChipsScript().showSelf()},e.prototype.createResultPop=function(t,e){var n=cc.instantiate(this.ResultPop),o=n.getComponent("ResultPop");o.init(),this.node.addChild(n),o.effectOfShowPop(t,e)},e.prototype.destroyChips=function(){var t=this.node.getChildByName("Chips");t&&t.getComponent("Chips").destroySelf()},e.prototype.hideUrl=function(){var t=window.location.href.split("?")[0];history.pushState({},"",t)},e.prototype.getRandomToken=function(t){for(var e="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o=0;o<t;o++)e+=n.charAt(Math.floor(Math.random()*n.length));return e},e.prototype.testResultPopWin=function(){this.createResultPop(Math.floor(1500*Math.random())+250,5)},e.prototype.testResultPopNoWin=function(){this.createResultPop(0,0)},e.prototype.testEffectOfSendCard=function(){this.effectOfSendCardToDealerAndPlayer()},e.prototype.testEffectOfSendCardPool=function(){var t=this,e=this.getCardScript().playerJs;e.setCardSprite(0,20),e.setCardSprite(1,21),e.showCard(0,!0),e.showCard(1,!0);var n=this.getCardScript().dealerJs;n.showCard(0,!0),n.showCard(1,!0);var o=this.getCardScript();this.effectOfSendCardToCardPool([2,3,4,5,6],function(){n.effectOfTurnCard(0,7,function(){n.effectOfTurnCard(1,8,function(){o.effectOfBestCard(r.BestCardTarget.DEALER,[3,4,5,7,8],function(){n.setPanel("HIGH HAND",[3,4,5,7,8]),n.effectOfShowPanel(function(){o.effectOfBestCard(r.BestCardTarget.PLAYER,[20,2,4,5,6],function(){e.setPanel("PAIR",[20,2,4,5,6]),e.effectOfShowPanel(function(){t.createResultPop(299.99,5)})})})})})})})},e.prototype.testEffectOfSendOneCardPool=function(){this.effectOfSendOneCardToCardPool(0,2)},e.prototype.testChangeAction=function(){this.effectOfChangeAction(r.GameAction.CARD)},e.prototype.testChangeActionToBet=function(){this.effectOfChangeAction(r.GameAction.BET)},i([f(cc.Prefab)],e.prototype,"Chips",void 0),i([f(cc.Prefab)],e.prototype,"ResultPop",void 0),i([f(cc.Prefab)],e.prototype,"Menu",void 0),e=i([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/Texas":"Texas","../lib/TexasContent":"TexasContent","../lib/TexasTableInfo":"TexasTableInfo"}],TexasText:[function(t,e,n){"use strict";cc._RF.push(e,"3e6f3Xcb0xBWJ8VDI7nMqza","TexasText"),Object.defineProperty(n,"__esModule",{value:!0});n.texasText={EN:{Pop:{Title:"YOU HAVE WON :",Press:"Press to continue"},Balance:{Point:"Pts"},Message:{LoginError:"Platform token id error. Please sing up again."},Menu:{GameRule:"GAME RULE",Setting:"SETTINGS"},Setting:{EN:"EN",CN:"CN"},Winner:{Draw:"DRAW",Player:"PLAYER WINS",Dealer:"DEALER WINS"},TripsPayTable:{RoyalFlush:"Royal Flush",StraightFlush:"Straight Flush",FourOfAKind:"Four of a Kind",FullHouse:"Full House",Flush:"Flush",Straight:"Straight",ThreeOfAKind:"Three of a Kind"},BlindPayTable:{RoyalFlush:"Royal Flush",StraightFlush:"Straight Flush",FourOfAKind:"Four of a Kind",FullHouse:"Full House",Flush:"Flush",Straight:"Straight",ThreeOfAKind:"Three of a Kind",AllOther:"All Other",AllOtherPay:"Push"}},CN:{Pop:{Title:"\u4f60 \u8d62 \u4e86",Press:"\u6309\u6b64\u7ee7\u7eed"},Balance:{Point:"\u70b9"},Message:{LoginError:"\u7528\u6237\u8d44\u6599\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"},Menu:{GameRule:"\u6e38\u620f\u89c4\u5219",Setting:"\u8bbe\u5b9a"},Setting:{EN:"\u82f1",CN:"\u4e2d"},Winner:{Draw:"\u5e73\u5c40",Player:"\u73a9\u5bb6\u83b7\u80dc",Dealer:"\u5e84\u5bb6\u83b7\u80dc"},TripsPayTable:{RoyalFlush:"\u7687\u5bb6\u540c\u82b1\u987a",StraightFlush:"\u540c\u82b1\u987a",FourOfAKind:"\u56db\u6761",FullHouse:"\u846b\u82a6",Flush:"\u540c\u82b1",Straight:"\u987a\u5b50",ThreeOfAKind:"\u4e09\u6761"},BlindPayTable:{RoyalFlush:"\u7687\u5bb6\u540c\u82b1\u987a",StraightFlush:"\u540c\u82b1\u987a",FourOfAKind:"\u56db\u6761",FullHouse:"\u846b\u82a6",Flush:"\u540c\u82b1",Straight:"\u987a\u5b50",ThreeOfAKind:"\u4e09\u6761",AllOther:"\u5176\u4ed6",AllOtherPay:"\u5e73\u5c40"}}},cc._RF.pop()},{}],Texas:[function(t,e,n){"use strict";cc._RF.push(e,"3cfa62UE1lKDpoysjjio41Q","Texas");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{c(o.next(t))}catch(t){a(t)}}function s(t){try{c(o.throw(t))}catch(t){a(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(r,s)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./TexasContent"),r=t("./TexasTableInfo");n.texasUtils={promiseInjector:function(t){var e=this;return function(n){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e.injectPromise.apply(e,[n.bind(t)].concat(o))}},injectPromise:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Promise(function(n,o){t.apply(void 0,e.concat([function(t,e){null!==t?o(t):n(e)}]))})}};var s=function(){function t(t,e){void 0===e&&(e=null),this.injectPromise=n.texasUtils.promiseInjector(this),this.tableID=t,setTimeout(function(){e&&e(null)},100)}return t.prototype.sendRequest=function(t,e,n,a){return void 0===a&&(a=!1),o(this,void 0,void 0,function(){var o,r,s;return i(this,function(i){if(!a)return[2,this.injectPromise(this.sendRequest,t,e,n)];try{o=new XMLHttpRequest,r="https://clover.kimicat.com/uth//"+t,o.open(n,r),"POST"===n&&o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=JSON.parse(this.responseText);void 0!==t.error?a(t.error,null):a(null,t)}else a(this.statusText,null)},s=JSON.stringify(e),"GET"===n?o.send():o.send(s)}catch(t){a(t,null)}return[2]})})},t.prototype.checkAlive=function(){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("","","GET")]})})},t.prototype.getTableStatus=function(){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("get_table/"+this.tableID,"","GET")]})})},t.prototype.getGame=function(){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("get_game/"+this.tableID+"/"+r.gamerInfo.gamerId,"","GET")]})})},t.prototype.getBalance=function(){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("get_balance/money_table/"+r.gamerInfo.gamerId,"","GET")]})})},t.prototype.startNewGame=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){return n={bets:t},[2,this.sendRequest("start_game/"+this.tableID+"/"+r.gamerInfo.gamerId,n,"POST",e)]})})},t.prototype.raise4X=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){return n={},[2,this.sendRequest("action/raise4x/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t,n,"POST",e)]})})},t.prototype.raise3X=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){return n={},[2,this.sendRequest("action/raise3x/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t,n,"POST",e)]})})},t.prototype.raise2X=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){return n={},[2,this.sendRequest("action/raise2x/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t,n,"POST",e)]})})},t.prototype.raise1X=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){return n={},[2,this.sendRequest("action/raise1x/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t,n,"POST",e)]})})},t.prototype.check=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){return n={},[2,this.sendRequest("action/check/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t,n,"POST",e)]})})},t.prototype.fold=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){return n={},[2,this.sendRequest("action/fold/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t,n,"POST",e)]})})},t}();n.Texas=s,n.texas=new s(a.globalConstant.tableId),cc._RF.pop()},{"./TexasContent":"TexasContent","./TexasTableInfo":"TexasTableInfo"}],Tree:[function(t,e,n){"use strict";cc._RF.push(e,"c92f3CgfztFt6sdMqBp/0JM","Tree"),cc._RF.pop()},{}],TripsPayTable:[function(t,e,n){"use strict";cc._RF.push(e,"34ab7x9mbVMBo8pW+pSswGd","TripsPayTable");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/TexasTableInfo"),s=t("../lib/TexasSetting"),c=t("../lib/TexasText"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=s.texasSetting.language;this.root.$table["#royalFlush"].label.string=c.texasText[t].TripsPayTable.RoyalFlush,this.root.$table["#straightFlush"].label.string=c.texasText[t].TripsPayTable.StraightFlush,this.root.$table["#fourOfAKind"].label.string=c.texasText[t].TripsPayTable.FourOfAKind,this.root.$table["#fullHouse"].label.string=c.texasText[t].TripsPayTable.FullHouse,this.root.$table["#flush"].label.string=c.texasText[t].TripsPayTable.Flush,this.root.$table["#straight"].label.string=c.texasText[t].TripsPayTable.Straight,this.root.$table["#threeOfAKind"].label.string=c.texasText[t].TripsPayTable.ThreeOfAKind},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.highLightPayTableType=function(t){var e=new cc.Color(0,248,255),n=this.root.$EN[t];n.color=e,n.getChildByName("pay").color=e},e.prototype.resetPayTableType=function(){var t=function(e){e.children.forEach(function(e){e.getComponent(cc.Label)&&(e.color=cc.Color.WHITE),t(e)})};t(this.node)},e.prototype.testRandomHighLightType=function(){var t=[r.TripsPayType.FLUSH,r.TripsPayType.FOUR_OF_A_KIND,r.TripsPayType.FULL_HOUSE,r.TripsPayType.ROYAL_FLUSH,r.TripsPayType.STRAIGHT,r.TripsPayType.STRAIGHT_FLUSH,r.TripsPayType.THREE_OF_A_KIND],e=t[Math.floor(Math.random()*t.length)];this.highLightPayTableType(e)},e.prototype.testResetType=function(){this.resetPayTableType()},e=i([u],e)}(cc.Component));n.default=p,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/TexasSetting":"TexasSetting","../lib/TexasTableInfo":"TexasTableInfo","../lib/TexasText":"TexasText"}]},{},["Gaming","Loading","I18N","Tree","Audio","CocosUtils","Texas","TexasContent","TexasEventHandler","TexasSetting","TexasTableInfo","TexasText","Balance","Bet","BlindPayTable","Button","Card","CardPool","CardString","Chip","Chips","Dealer","Menu","Player","Recharge","ResultPop","Setting","TexasTable","TripsPayTable"]);