window.__require=function t(e,n,o){function i(r,s){if(!n[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!s&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){return i(e[r][1][t]||t)},l,l.exports,t,e,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Audio:[function(t,e,n){"use strict";cc._RF.push(e,"082fcfP85NJOZqX4211TwIn","Audio"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./HighCardFlushSetting"),i=t("./HighCardFlushContent"),a=function(){function t(){this.effectVolume=.7,this.musicVolume=.5,cc.audioEngine.setMusicVolume(this.musicVolume),cc.audioEngine.setEffectsVolume(this.effectVolume)}return t.prototype.setMusicVolume=function(t){o.highCardFlushSetting.music=t,t?this.playMusic(i.music.bg):this.stopMusic()},t.prototype.setEffectVolume=function(t){o.highCardFlushSetting.sound=t,t||this.stopEffect()},t.prototype.playMusic=function(t){o.highCardFlushSetting.music&&cc.audioEngine.playMusic(t,!0)},t.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},t.prototype.pauseMusic=function(){cc.audioEngine.isMusicPlaying()&&cc.audioEngine.pauseMusic()},t.prototype.resumeMusic=function(){o.highCardFlushSetting.music&&!cc.audioEngine.isMusicPlaying()&&cc.audioEngine.resumeMusic()},t.prototype.playEffect=function(t){o.highCardFlushSetting.sound&&cc.audioEngine.playEffect(t,!1)},t.prototype.stopEffect=function(){cc.audioEngine.stopAllEffects()},t}();n.default=a,n.audio=new a,cc._RF.pop()},{"./HighCardFlushContent":"HighCardFlushContent","./HighCardFlushSetting":"HighCardFlushSetting"}],Balance:[function(t,e,n){"use strict";cc._RF.push(e,"183fbJe4ORNH4ncCffEU2p2","Balance");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/HighCardFlushSetting"),s=t("../lib/HighCardFlushText"),c=t("../lib/HighCardFlushTableInfo"),u=t("../lib/HighCardFlushContent"),l=cc._decorator,h=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.balance=null,e.balanceCN=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.language()},e.prototype.language=function(){var t=r.highCardFlushSetting.language;"EN"===t?(this.root["#balance"].sprite.spriteFrame=this.balance,this.root["#point"].label.string=s.highCardFlushText.EN.Balance.Point):"CN"===t&&(this.root["#balance"].sprite.spriteFrame=this.balanceCN,this.root["#point"].label.string=s.highCardFlushText.CN.Balance.Point)},e.prototype.setMoney=function(t){this.root["#money"].label.string=t+""},e.prototype.updateMoney=function(){this.setMoney(u.globalConstant.isCreditVersion?c.gamerInfo.balance:c.gamerInfo.balance/100)},i([p(cc.SpriteFrame)],e.prototype,"balance",void 0),i([p(cc.SpriteFrame)],e.prototype,"balanceCN",void 0),e=i([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/HighCardFlushContent":"HighCardFlushContent","../lib/HighCardFlushSetting":"HighCardFlushSetting","../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo","../lib/HighCardFlushText":"HighCardFlushText"}],Bet:[function(t,e,n){"use strict";cc._RF.push(e,"41c64ESTPNIPK2Qil/T3Hoc","Bet");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/HighCardFlushTableInfo"),r=t("../lib/CocosUtils"),s=t("../lib/HighCardFlushContent"),c=t("../lib/Audio"),u=cc._decorator,l=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.betData={bet:{flush:0,straightFlush:0,ante:0,play:0},rebet:{flush:0,straightFlush:0,ante:0,play:0},track:[{flush:0,straightFlush:0,ante:0,play:0}]},e.betLimitData={flushBetMax:0,anteBetMax:0,anteBetMin:0,straightFlushMax:0},e}return o(e,t),e.prototype.init=function(){this.root=r.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.table=this.node.parent.getComponent("HighCardFlushTable"),this.updateLimitValue()},e.prototype.reset=function(){this.betData.rebet.flush=a.serverInfo.data.bets.flushBonus/a.tableSetting.betUnit,this.betData.rebet.straightFlush=a.serverInfo.data.bets.straightFlushBonus/a.tableSetting.betUnit,this.betData.rebet.ante=a.serverInfo.data.bets.ante/a.tableSetting.betUnit,this.clearBetData(),this.updateBetChipStatus(a.GameButton.BET_FLUSH,!1),this.updateBetChipStatus(a.GameButton.BET_STRAIGHT_FLUSH,!1),this.updateBetChipStatus(a.GameButton.BET_ANTE,!1),this.updateBetChipStatus(a.GameButton.BET_PLAY,!1),this.enableButtonStatus(a.GameButton.BET_FLUSH,!0),this.enableButtonStatus(a.GameButton.BET_STRAIGHT_FLUSH,!0),this.enableButtonStatus(a.GameButton.BET_ANTE,!0)},e.prototype.language=function(){},e.prototype.enableButtonStatus=function(t,e){var n=null;switch(t){case a.GameButton.BET_FLUSH:n=this.root["#flush"].button;break;case a.GameButton.BET_STRAIGHT_FLUSH:n=this.root["#straightFlush"].button;break;case a.GameButton.BET_ANTE:n=this.root["#ante"].button}n.interactable=e,this.effectOfEnableClick(t,e)},e.prototype.disableAllButtons=function(){this.enableButtonStatus(a.GameButton.BET_FLUSH,!1),this.enableButtonStatus(a.GameButton.BET_STRAIGHT_FLUSH,!1),this.enableButtonStatus(a.GameButton.BET_ANTE,!1)},e.prototype.getButtonsEnableStatus=function(){return{flush:this.root["#flush"].button.interactable,straightFlush:this.root["#straightFlush"].button.interactable,ante:this.root["#ante"].button.interactable}},e.prototype.setButtonsEnableStatus=function(t){this.enableButtonStatus(a.GameButton.BET_FLUSH,t.flush),this.enableButtonStatus(a.GameButton.BET_STRAIGHT_FLUSH,t.straightFlush),this.enableButtonStatus(a.GameButton.BET_ANTE,t.ante)},e.prototype.effectOfEnableClick=function(t,e){var n=null;switch(t){case a.GameButton.BET_FLUSH:n=this.root.$flush.$bg.effect;break;case a.GameButton.BET_STRAIGHT_FLUSH:n=this.root.$straightFlush.$bg.effect;break;case a.GameButton.BET_ANTE:n=this.root.$ante.$bg.effect}!0===e&&!1===n.active?(n.active=!0,cc.tween(n).repeatForever(cc.tween(n).to(a.effectDuration.BET.BUTTON_ROUND,{angle:-360}).call(function(){n.angle=0})).start()):!1===e&&!0===n.active&&(n.stopAllActions(),n.active=!1,n.angle=0)},e.prototype.effectOfBounceChip=function(t){if(t){var e=t.y;cc.tween(t).to(a.effectDuration.BET.CHIP_BOUNCE_UP,{y:e+7},s.getEaseObject(s.Easing.sineOut)).delay(a.effectDuration.BET.CHIP_BOUNCE_DELAY).to(a.effectDuration.BET.CHIP_BOUNCE_DOWN,{y:e},s.getEaseObject(s.Easing.sineIn)).call(function(){t.y=e}).start()}},e.prototype.effectOfShowBetValue=function(t){var e=null;switch(t){case a.GameButton.BET_FLUSH:(e=this.root.$flush["#value"].label).string=s.globalConstant.isCreditVersion?this.betData.bet.flush*a.tableSetting.betUnit+"":this.betData.bet.flush+"";break;case a.GameButton.BET_STRAIGHT_FLUSH:(e=this.root.$straightFlush["#value"].label).string=s.globalConstant.isCreditVersion?this.betData.bet.straightFlush*a.tableSetting.betUnit+"":this.betData.bet.straightFlush+"";break;case a.GameButton.BET_ANTE:(e=this.root.$ante["#value"].label).string=s.globalConstant.isCreditVersion?this.betData.bet.ante*a.tableSetting.betUnit+"":this.betData.bet.ante+"";break;case a.GameButton.BET_PLAY:(e=this.root.$play["#value"].label).string=s.globalConstant.isCreditVersion?this.betData.bet.play*a.tableSetting.betUnit+"":this.betData.bet.play+""}e.node.stopAllActions(),"0"===e.string?e.node.active=!1:(e.node.active=!0,cc.tween(e.node).delay(a.effectDuration.BET.VALUE_SHOWING_DELAY).call(function(){e.node.active=!1}).start())},e.prototype.getPositionYOfChip=function(t){var e=null;switch(t){case a.GameButton.BET_FLUSH:e=this.root.$flush.$bg.layout;break;case a.GameButton.BET_STRAIGHT_FLUSH:e=this.root.$straightFlush.$bg.layout;break;case a.GameButton.BET_ANTE:e=this.root.$ante.$bg.layout;break;case a.GameButton.BET_PLAY:e=this.root.$play.$bg.layout}return 3*e.children.length-2},e.prototype.addChipToButton=function(t,e,n){var o=!0;switch(t){case a.GameButton.BET_FLUSH:this.betData.bet.flush===this.betLimitData.flushBetMax?o=!1:this.betData.bet.flush+e>this.betLimitData.flushBetMax?this.betData.bet.flush=this.betLimitData.flushBetMax:this.betData.bet.flush+=e;break;case a.GameButton.BET_ANTE:this.betData.bet.ante===this.betLimitData.anteBetMax?o=!1:this.betData.bet.ante+e>this.betLimitData.anteBetMax?this.betData.bet.ante=this.betLimitData.anteBetMax:this.betData.bet.ante+=e;break;case a.GameButton.BET_STRAIGHT_FLUSH:this.betData.bet.straightFlush===this.betLimitData.straightFlushMax?o=!1:this.betData.bet.straightFlush+e>this.betLimitData.straightFlushMax?this.betData.bet.straightFlush=this.betLimitData.straightFlushMax:this.betData.bet.straightFlush+=e;break;case a.GameButton.BET_PLAY:this.betData.bet.play+=e}o&&(c.audio.playEffect(s.music.chip),this.updateBetChipStatus(t,n),this.effectOfShowBetValue(t));var i=this.betData.track[this.betData.track.length-1],r=this.betData.bet;r.ante===i.ante&&r.flush===i.flush&&r.straightFlush===i.straightFlush||this.betData.track.push(Object.assign({},this.betData.bet))},e.prototype.clearBetData=function(){this.betData.bet.flush=0,this.betData.bet.ante=0,this.betData.bet.straightFlush=0,this.betData.bet.play=0,this.betData.track.length=1},e.prototype.updateLimitValue=function(){this.betLimitData.flushBetMax=a.tableSetting.flushBetMax,this.betLimitData.anteBetMax=a.tableSetting.anteBetMax,this.betLimitData.anteBetMin=a.tableSetting.anteBetMin,this.betLimitData.straightFlushMax=a.tableSetting.straightFlushBetMax,this.root.$flush.$bg.$max["#value"].label.string=s.globalConstant.isCreditVersion?this.betLimitData.flushBetMax*a.tableSetting.betUnit+"":this.betLimitData.flushBetMax+"",this.root.$ante.$bg.$max["#value"].label.string=s.globalConstant.isCreditVersion?this.betLimitData.anteBetMax*a.tableSetting.betUnit+"":this.betLimitData.anteBetMax+"",this.root.$ante.$bg.$min["#value"].label.string=s.globalConstant.isCreditVersion?this.betLimitData.anteBetMin*a.tableSetting.betUnit+"":this.betLimitData.anteBetMin+"",this.root.$straightFlush.$bg.$max["#value"].label.string=s.globalConstant.isCreditVersion?this.betLimitData.straightFlushMax*a.tableSetting.betUnit+"":this.betLimitData.straightFlushMax+""},e.prototype.updateBetChipStatus=function(t,e){var n=this.table.getChipsScript().chipMultiple.slice();n.sort(function(t,e){return e-t});var o=0,i=null;switch(t){case a.GameButton.BET_FLUSH:o=this.betData.bet.flush,i=this.root.$flush.$bg.layout;break;case a.GameButton.BET_ANTE:o=this.betData.bet.ante,i=this.root.$ante.$bg.layout;break;case a.GameButton.BET_STRAIGHT_FLUSH:o=this.betData.bet.straightFlush,i=this.root.$straightFlush.$bg.layout;break;case a.GameButton.BET_PLAY:e&&c.audio.playEffect(s.music.chip),o=this.betData.bet.play,i=this.root.$play.$bg.layout}for(i.destroyAllChildren(),i.removeAllChildren(!0);o>0;)for(var r=0;r<n.length;r++)for(;o>=n[r];){o-=n[r];var u=s.getChipNode(n[r],.75);u.y=this.getPositionYOfChip(t),i.addChild(u)}if(e){var l=i.children,h=l[l.length-1];this.effectOfBounceChip(h)}},e.prototype.onFlushBetClick=function(){var t=this.table.getChipsScript();if(t){var e=t.getFocusChipUnit();null!==e&&(this.addChipToButton(a.GameButton.BET_FLUSH,e,!0),this.table.getButtonsScript().updateButtonStatus())}},e.prototype.onAnteBetClick=function(){var t=this.table.getChipsScript();if(t){var e=t.getFocusChipUnit();null!==e&&(this.addChipToButton(a.GameButton.BET_ANTE,e,!0),this.table.getButtonsScript().updateButtonStatus())}},e.prototype.onStraightFlushClick=function(){var t=this.table.getChipsScript();if(t){var e=t.getFocusChipUnit();null!==e&&(this.addChipToButton(a.GameButton.BET_STRAIGHT_FLUSH,e,!0),this.table.getButtonsScript().updateButtonStatus())}},e=i([l],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/HighCardFlushContent":"HighCardFlushContent","../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo"}],Buttons:[function(t,e,n){"use strict";cc._RF.push(e,"42f836RvedGw6sOPcNZDV34","Buttons");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/HighCardFlushTableInfo"),s=t("../lib/HighCardFlushContent"),c=t("../lib/HighCardFlush"),u=t("../lib/Audio"),l=t("../lib/HighCardFlushSetting"),h=cc._decorator,p=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Recharge=null,e.betEN=[],e.betCN=[],e.cardEN=[],e.cardCN=[],e.actionIndex=0,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=l.highCardFlushSetting.language;if("EN"===t){(r=this.root.$bet["#clear"].button).normalSprite=this.betEN[0],r.disabledSprite=this.betEN[1];var e=this.root.$bet.$clear["#Background"].sprite;r.interactable?e.spriteFrame=this.betEN[0]:e.spriteFrame=this.betEN[1],(s=this.root.$bet["#deal"].button).normalSprite=this.betEN[2],s.disabledSprite=this.betEN[3];var n=this.root.$bet.$deal["#Background"].sprite;s.interactable?n.spriteFrame=this.betEN[2]:n.spriteFrame=this.betEN[3],(c=this.root.$bet["#rebet"].button).normalSprite=this.betEN[4],c.disabledSprite=this.betEN[5];var o=this.root.$bet.$rebet["#Background"].sprite;c.interactable?o.spriteFrame=this.betEN[4]:o.spriteFrame=this.betEN[5],(u=this.root.$bet["#undo"].button).normalSprite=this.betEN[6],u.disabledSprite=this.betEN[7];var i=this.root.$bet.$undo["#Background"].sprite;u.interactable?i.spriteFrame=this.betEN[6]:i.spriteFrame=this.betEN[7],(h=this.root.$card["#fold"].button).normalSprite=this.cardEN[0],h.disabledSprite=this.cardEN[1];var a=this.root.$card.$fold["#Background"].sprite;h.interactable?a.spriteFrame=this.cardEN[0]:a.spriteFrame=this.cardEN[1]}else if("CN"===t){var r;(r=this.root.$bet["#clear"].button).normalSprite=this.betCN[0],r.disabledSprite=this.betCN[1];var s;e=this.root.$bet.$clear["#Background"].sprite;r.interactable?e.spriteFrame=this.betCN[0]:e.spriteFrame=this.betCN[1],(s=this.root.$bet["#deal"].button).normalSprite=this.betCN[2],s.disabledSprite=this.betCN[3];var c;n=this.root.$bet.$deal["#Background"].sprite;s.interactable?n.spriteFrame=this.betCN[2]:n.spriteFrame=this.betCN[3],(c=this.root.$bet["#rebet"].button).normalSprite=this.betCN[4],c.disabledSprite=this.betCN[5];var u;o=this.root.$bet.$rebet["#Background"].sprite;c.interactable?o.spriteFrame=this.betCN[4]:o.spriteFrame=this.betCN[5],(u=this.root.$bet["#undo"].button).normalSprite=this.betCN[6],u.disabledSprite=this.betCN[7];var h;i=this.root.$bet.$undo["#Background"].sprite;u.interactable?i.spriteFrame=this.betCN[6]:i.spriteFrame=this.betCN[7],(h=this.root.$card["#fold"].button).normalSprite=this.cardCN[0],h.disabledSprite=this.cardCN[1];a=this.root.$card.$fold["#Background"].sprite;h.interactable?a.spriteFrame=this.cardCN[0]:a.spriteFrame=this.cardCN[1]}},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.table=this.node.parent.getComponent("HighCardFlushTable")},e.prototype.onDealClick=function(t){var e=this,n=t.target;if(!(n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0)){u.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.BET,!1);var o=this.table.getBetScript().getButtonsEnableStatus();this.table.getBetScript().disableAllButtons(),this.table.destroyChips(),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var i=this.table.getBetScript().betData.bet,l=(i.flush+i.straightFlush+i.ante)*r.tableSetting.betUnit;c.highCardFlush.getBalance().catch(function(t){a.default.error(t),e.table.showToolTip(!0)}).then(function(t){if(t)if(r.gamerInfo.balance=parseInt(t.available),e.table.getBalanceScript().updateMoney(),l>r.gamerInfo.balance)e.popRecharge(),e.table.createChips(),e.updateButtonStatus(),e.table.getBetScript().setButtonsEnableStatus(o);else{var n={ante:i.ante*r.tableSetting.betUnit,flushBonus:i.flush*r.tableSetting.betUnit,straightFlushBonus:i.straightFlush*r.tableSetting.betUnit};c.highCardFlush.startNewGame(n).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&(e.table.effectOfChangeAction(r.GameAction.CARD),e.table.getEventScript().effectOfNewGameEvent(t),e.table.pureUpdateBalance())})}})}},e.prototype.onUndoClick=function(t){var e=t.target;if(!(e.getNumberOfRunningActions()>0||e.parent.getNumberOfRunningActions()>0)){u.audio.playEffect(s.music.press),cc.tween(e).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var n,o,i,a=this.table.getBetScript();a.betData.track.pop();var c=a.betData.bet,l=a.betData.track[a.betData.track.length-1];n=c.flush!==l.flush,o=c.straightFlush!==l.straightFlush,i=c.ante!==l.ante,a.betData.bet=Object.assign({},a.betData.track[a.betData.track.length-1]),this.updateButtonStatus(),a.updateBetChipStatus(r.GameButton.BET_FLUSH,n),a.updateBetChipStatus(r.GameButton.BET_STRAIGHT_FLUSH,o),a.updateBetChipStatus(r.GameButton.BET_ANTE,i),n&&a.effectOfShowBetValue(r.GameButton.BET_FLUSH),o&&a.effectOfShowBetValue(r.GameButton.BET_STRAIGHT_FLUSH),i&&a.effectOfShowBetValue(r.GameButton.BET_ANTE)}},e.prototype.onClearClick=function(t){var e=t.target;if(!(e.getNumberOfRunningActions()>0||e.parent.getNumberOfRunningActions()>0)){u.audio.playEffect(s.music.press),cc.tween(e).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var n=this.table.getBetScript();n.clearBetData(),this.updateButtonStatus(),n.updateBetChipStatus(r.GameButton.BET_FLUSH,!1),n.updateBetChipStatus(r.GameButton.BET_STRAIGHT_FLUSH,!1),n.updateBetChipStatus(r.GameButton.BET_ANTE,!1),n.effectOfShowBetValue(r.GameButton.BET_FLUSH),n.effectOfShowBetValue(r.GameButton.BET_ANTE),n.effectOfShowBetValue(r.GameButton.BET_STRAIGHT_FLUSH)}},e.prototype.onReBetClick=function(t){var e=t.target;if(!(e.getNumberOfRunningActions()>0||e.parent.getNumberOfRunningActions()>0)){u.audio.playEffect(s.music.press),cc.tween(e).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).start();var n=this.table.getBetScript();n.betData.bet=Object.assign({},n.betData.rebet),n.betData.track.push(Object.assign({},n.betData.rebet)),n.updateBetChipStatus(r.GameButton.BET_ANTE,!0),n.updateBetChipStatus(r.GameButton.BET_FLUSH,!0),n.updateBetChipStatus(r.GameButton.BET_STRAIGHT_FLUSH,!0),n.effectOfShowBetValue(r.GameButton.BET_FLUSH),n.effectOfShowBetValue(r.GameButton.BET_STRAIGHT_FLUSH),n.effectOfShowBetValue(r.GameButton.BET_ANTE),this.updateButtonStatus()}},e.prototype.on3XClick=function(t){var e=this,n=t.target;if(!(n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0)){u.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),this.table.getCardScript().enableAllTypeButtonClick(!1),this.table.getCardScript().effectOfHideAllButton(),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start();var o=this.table.getBetScript().betData.bet.ante*r.tableSetting.betUnit*3;c.highCardFlush.getBalance().catch(function(t){a.default.error(t),e.table.showToolTip(!0)}).then(function(t){if(t)if(r.gamerInfo.balance=parseInt(t.available),e.table.getBalanceScript().updateMoney(),o>r.gamerInfo.balance){e.popRecharge();var n=r.serverInfo.data.actions;Object.keys(n).forEach(function(t){var o=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(o,n[t]),e.enableButtonClick(o,n[t])}),e.table.getCardScript().enableAllTypeButtonClick(!0),e.table.getCardScript().effectOfShowAllButton()}else{var i=e.table.getCardScript().pickType;c.highCardFlush.raise3X(e.actionIndex,i).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&(e.table.getEventScript().effectOfRaise3X2X1XEvent(t),e.table.handUpdateBalance(o))})}})}},e.prototype.on2XClick=function(t){var e=this,n=t.target;if(!(n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0)){u.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),this.table.getCardScript().enableAllTypeButtonClick(!1),this.table.getCardScript().effectOfHideAllButton(),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start();var o=this.table.getBetScript().betData.bet.ante*r.tableSetting.betUnit*2;c.highCardFlush.getBalance().catch(function(t){a.default.error(t),e.table.showToolTip(!0)}).then(function(t){if(t)if(r.gamerInfo.balance=parseInt(t.available),e.table.getBalanceScript().updateMoney(),o>r.gamerInfo.balance){e.popRecharge();var n=r.serverInfo.data.actions;Object.keys(n).forEach(function(t){var o=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(o,n[t]),e.enableButtonClick(o,n[t])}),e.table.getCardScript().enableAllTypeButtonClick(!0),e.table.getCardScript().effectOfShowAllButton()}else{var i=e.table.getCardScript().pickType;c.highCardFlush.raise2X(e.actionIndex,i).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&(e.table.getEventScript().effectOfRaise3X2X1XEvent(t),e.table.handUpdateBalance(o))})}})}},e.prototype.on1XClick=function(t){var e=this,n=t.target;if(!(n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0)){u.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),this.table.getCardScript().enableAllTypeButtonClick(!1),this.table.getCardScript().effectOfHideAllButton(),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start();var o=this.table.getBetScript().betData.bet.ante*r.tableSetting.betUnit*1;c.highCardFlush.getBalance().catch(function(t){a.default.error(t),e.table.showToolTip(!0)}).then(function(t){if(t)if(r.gamerInfo.balance=parseInt(t.available),e.table.getBalanceScript().updateMoney(),o>r.gamerInfo.balance){e.popRecharge();var n=r.serverInfo.data.actions;Object.keys(n).forEach(function(t){var o=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(o,n[t]),e.enableButtonClick(o,n[t])}),e.table.getCardScript().enableAllTypeButtonClick(!0),e.table.getCardScript().effectOfShowAllButton()}else{var i=e.table.getCardScript().pickType;c.highCardFlush.raise1X(e.actionIndex,i).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&(e.table.getEventScript().effectOfRaise3X2X1XEvent(t),e.table.handUpdateBalance(o))})}})}},e.prototype.onFoldClick=function(t){var e=this,n=t.target;n.getNumberOfRunningActions()>0||n.parent.getNumberOfRunningActions()>0||(u.audio.playEffect(s.music.press),this.disableAllButtons(r.GameAction.CARD,!1),this.table.getCardScript().enableAllTypeButtonClick(!1),this.table.getCardScript().effectOfHideAllButton(),cc.tween(n).by(.05,{scaleX:-.1,scaleY:-.1},s.getEaseObject(s.Easing.sineOut)).by(.05,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineIn)).call(function(){var t=r.serverInfo.data.actions;Object.keys(t).forEach(function(t){var n=e.table.getEventScript().formatServerActionToGameButton(t);e.showButton(n,!1),e.enableButtonClick(n,!1)})}).start(),c.highCardFlush.fold(this.actionIndex).catch(function(t){a.default.error(t),e.table.setTip(t),e.table.showToolTip(!0)}).then(function(t){t&&e.table.getEventScript().effectOfFoldEvent(t)}))},e.prototype.enableButtonClick=function(t,e){var n=null;switch(t){case r.GameButton.BUTTON_BET_CLEAR:case r.GameButton.BUTTON_BET_DEAL:case r.GameButton.BUTTON_BET_REBET:case r.GameButton.BUTTON_BET_UNDO:n=this.root.$bet["#"+t].button;break;case r.GameButton.BUTTON_CARD_1X:case r.GameButton.BUTTON_CARD_2X:case r.GameButton.BUTTON_CARD_3X:case r.GameButton.BUTTON_CARD_FOLD:n=this.root.$card["#"+t].button}n.interactable=e},e.prototype.updateButtonStatus=function(){var t=this.table.getBetScript();this.enableButtonClick(r.GameButton.BUTTON_BET_UNDO,t.betData.track.length>1),this.enableButtonClick(r.GameButton.BUTTON_BET_CLEAR,t.betData.bet.ante>0),this.enableButtonClick(r.GameButton.BUTTON_BET_REBET,t.betData.rebet.ante>0&&1===t.betData.track.length),this.enableButtonClick(r.GameButton.BUTTON_BET_DEAL,t.betData.bet.ante>=t.betLimitData.anteBetMin&&t.betData.bet.flush<=t.betLimitData.flushBetMax&&t.betData.bet.ante<=t.betLimitData.anteBetMax&&t.betData.bet.straightFlush<=t.betLimitData.straightFlushMax)},e.prototype.effectOfChangeAction=function(t){var e=this,n=this.root.bet,o=this.root.card;if(!(this.node.getNumberOfRunningActions()>0)){var i=cc.tween(this.node);if(t===r.GameAction.BET){if((n=this.root.bet).active)return;var a=this.root.card;if(a.active){var s=cc.tween(a);s.call(function(){a.active=!1}),i.call(function(){s.start()})}i.call(function(){n.scaleX=n.scaleY=.2,n.angle=-180,n.active=!0});var c=cc.tween(n);c.to(r.effectDuration.BUTTON.BET_SHOW,{scaleX:1,scaleY:1,angle:0}).call(function(){n.scaleX=n.scaleY=1,n.angle=0}),i.call(function(){c.start(),e.updateButtonStatus()}).delay(r.effectDuration.BUTTON.BET_SHOW).start()}else if(t===r.GameAction.CARD){if((o=this.root.card).active)return;var u=this.root.bet;if(u.active){var l=cc.tween(u);l.to(r.effectDuration.BUTTON.BET_HIDE,{scaleX:.2,scaleY:.2,angle:-180}).call(function(){u.angle=0,u.active=!1}),i.call(function(){l.start()}).delay(r.effectDuration.BUTTON.BET_HIDE)}i.call(function(){o.active=!0}),i.call(function(){}).start()}}},e.prototype.showButton=function(t,e){this.effectOfShowButton(t,e)},e.prototype.effectOfShowButton=function(t,e){var n=this.getButtonNodeByGameButton(t);n.stopAllActions(),!1===e?cc.tween(n).to(.2,{scaleX:.1,scaleY:.1},s.getEaseObject(s.Easing.sineOut)).call(function(){n.active=!1}).start():!0===e&&(n.scaleX=n.scaleY=.1,n.active=!0,cc.tween(n).to(.2,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.backOut)).start())},e.prototype.getButtonNodeByGameButton=function(t){return this.root.$card[t]},e.prototype.popRecharge=function(){var t=cc.instantiate(this.Recharge);t.zIndex=s.zOrder.zIndex_MAX,this.table.node.addChild(t)},e.prototype.disableAllButtons=function(t,e){switch(void 0===e&&(e=!0),t){case r.GameAction.CARD:e&&this.showButton(r.GameButton.BUTTON_CARD_1X,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_1X,!1),e&&this.showButton(r.GameButton.BUTTON_CARD_2X,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_2X,!1),e&&this.showButton(r.GameButton.BUTTON_CARD_3X,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_3X,!1),e&&this.showButton(r.GameButton.BUTTON_CARD_FOLD,!1),this.enableButtonClick(r.GameButton.BUTTON_CARD_FOLD,!1);break;case r.GameAction.BET:e&&this.showButton(r.GameButton.BUTTON_BET_DEAL,!1),this.enableButtonClick(r.GameButton.BUTTON_BET_DEAL,!1),e&&this.showButton(r.GameButton.BUTTON_BET_REBET,!1),this.enableButtonClick(r.GameButton.BUTTON_BET_REBET,!1),e&&this.showButton(r.GameButton.BUTTON_BET_UNDO,!1),this.enableButtonClick(r.GameButton.BUTTON_BET_UNDO,!1),e&&this.showButton(r.GameButton.BUTTON_BET_CLEAR,!1),this.enableButtonClick(r.GameButton.BUTTON_BET_CLEAR,!1)}},e.prototype.testButtonActionBet=function(){this.effectOfChangeAction(r.GameAction.BET)},e.prototype.testButtonActionCard=function(){this.effectOfChangeAction(r.GameAction.CARD)},e.prototype.testPopCharge=function(){this.popRecharge()},e.prototype.testShowButton=function(){var t=this;this.showButton(r.GameButton.BUTTON_CARD_3X,!0),cc.tween(this.node).delay(.1).call(function(){t.showButton(r.GameButton.BUTTON_CARD_3X,!1)}).start()},i([f(cc.Prefab)],e.prototype,"Recharge",void 0),i([f(cc.SpriteFrame)],e.prototype,"betEN",void 0),i([f(cc.SpriteFrame)],e.prototype,"betCN",void 0),i([f(cc.SpriteFrame)],e.prototype,"cardEN",void 0),i([f(cc.SpriteFrame)],e.prototype,"cardCN",void 0),e=i([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/HighCardFlush":"HighCardFlush","../lib/HighCardFlushContent":"HighCardFlushContent","../lib/HighCardFlushSetting":"HighCardFlushSetting","../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo"}],CardSet:[function(t,e,n){"use strict";cc._RF.push(e,"7958ac4F/5Op59iilmnSXse","CardSet");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/HighCardFlushContent"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=0,e.index=-1,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){var t=this;this.node.parent.children.forEach(function(e,n){e.getComponent("CardSet")===t&&(t.index=n)})},e.prototype.setCardCount=function(t){t<0||t>7||(this.count=t,this.node.children.forEach(function(e,n){e.active=n<t}),this.node.getComponent(cc.Layout).updateLayout(),this.node.parent.getComponent(cc.Layout).updateLayout())},e.prototype.setCardSprite=function(t,e){this.root["#card_"+e].sprite.spriteFrame=r.getCardSprite(t)},e.prototype.clearAllCardSprite=function(){this.node.children.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=null})},e=i([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../lib/CocosUtils":"CocosUtils","../lib/HighCardFlushContent":"HighCardFlushContent"}],Card:[function(t,e,n){"use strict";cc._RF.push(e,"84177Ae/jNG2I+ZHUFMh++p","Card");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/HighCardFlushTableInfo"),s=t("../lib/Audio"),c=t("../lib/HighCardFlushContent"),u=cc._decorator,l=u.ccclass,h=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.upTypes=[],e.downTypes=[],e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.table=this.node.parent.getComponent("HighCardFlushTable")},e.prototype.reset=function(){this.setPickType(null);for(var t=0;t<7;t++)this.setOuterSprite(r.GamePlayerTarget.DEALER,null,r.CardFlushTypeIndex.SPADE,t),this.setOuterSprite(r.GamePlayerTarget.DEALER,null,r.CardFlushTypeIndex.HEART,t),this.setOuterSprite(r.GamePlayerTarget.DEALER,null,r.CardFlushTypeIndex.DIAMOND,t),this.setOuterSprite(r.GamePlayerTarget.DEALER,null,r.CardFlushTypeIndex.CLUB,t),this.setOuterSprite(r.GamePlayerTarget.PLAYER,null,r.CardFlushTypeIndex.SPADE,t),this.setOuterSprite(r.GamePlayerTarget.PLAYER,null,r.CardFlushTypeIndex.HEART,t),this.setOuterSprite(r.GamePlayerTarget.PLAYER,null,r.CardFlushTypeIndex.DIAMOND,t),this.setOuterSprite(r.GamePlayerTarget.PLAYER,null,r.CardFlushTypeIndex.CLUB,t),this.setResultSprite(r.GamePlayerTarget.DEALER,null,t),this.setResultSprite(r.GamePlayerTarget.PLAYER,null,t);this.setOuterLayoutCount(r.GamePlayerTarget.DEALER,r.CardFlushTypeIndex.SPADE,0),this.setOuterLayoutCount(r.GamePlayerTarget.DEALER,r.CardFlushTypeIndex.HEART,0),this.setOuterLayoutCount(r.GamePlayerTarget.DEALER,r.CardFlushTypeIndex.DIAMOND,0),this.setOuterLayoutCount(r.GamePlayerTarget.DEALER,r.CardFlushTypeIndex.CLUB,0),this.setOuterLayoutCount(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.SPADE,0),this.setOuterLayoutCount(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.HEART,0),this.setOuterLayoutCount(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.DIAMOND,0),this.setOuterLayoutCount(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.CLUB,0)},e.prototype.setResultLayoutCount=function(t,e){if(!(e<0||e>7)){var n=this.root["$"+t].resultLayout;n.children.forEach(function(t,n){t.active=n<e}),n.getComponent(cc.Layout).updateLayout()}},e.prototype.setOuterLayoutCount=function(t,e,n){this.root["$"+t].outerLayout.children[e].getComponent("CardSet").setCardCount(n)},e.prototype.setResultSprite=function(t,e,n){this.root["$"+t].$resultLayout["#card_"+n].sprite.spriteFrame=e},e.prototype.setOuterSprite=function(t,e,n,o){this.root["$"+t].outerLayout.children[n].children[o].getComponent(cc.Sprite).spriteFrame=e},e.prototype.getCardSetByType=function(t,e){return this.root["$"+t].outerLayout.children[e].getComponent("CardSet")},e.prototype.getCardNodeInCardSet=function(t,e,n){return this.root["$"+t].outerLayout.children[e].children[n]},e.prototype.effectOfOuterToResult=function(t,e,n){var o=this;void 0===n&&(n=null);var i=this.root["$"+t].outerLayout.children[e],a=i.getComponent("CardSet");this.setResultLayoutCount(t,a.count),i.children.forEach(function(e,i){if(!0===e.active){var r=c.getXYUntilNode(e,o.table.node),u=cc.instantiate(e);u.x=r.x,u.y=r.y,o.table.node.addChild(u),e.active=!1;var l=o.root["$"+t].$resultLayout["card_"+i],h=c.getXYUntilNode(l,o.table.node),p=cc.tween(u);p.delay(.125*i).call(function(){s.audio.playEffect(c.music.card)}).to(.25,{x:h.x,y:h.y}).call(function(){o.setResultSprite(t,u.getComponent(cc.Sprite).spriteFrame,i),u.destroy()}),null!==n&&i===a.count-1&&p.call(function(){n()}),p.start()}})},e.prototype.effectOfCardSetFadeOut=function(t,e,n){void 0===n&&(n=null);var o=[];this.root["$"+t].outerLayout.children.forEach(function(t,n){e!==n&&o.push(t)}),s.audio.playEffect(c.music.card);for(var i=function(){var e=o.shift(),i=e.getComponent("CardSet"),s=c.getXYUntilNode(e,a.table.node),u=cc.instantiate(e);u.x=s.x,u.y=s.y,a.table.node.addChild(u),i.clearAllCardSprite();var l=0;t===r.GamePlayerTarget.DEALER&&(l=100),t===r.GamePlayerTarget.PLAYER&&(l=-100);var h=cc.tween(u).by(.5,{y:l,opacity:-255}).call(function(){u.destroy()});0===o.length&&null!==n&&h.call(function(){n()}),h.start()},a=this;o.length>0;)i()},e.prototype.enableAllTypeButtonClick=function(t){this.root.$Player.typeButtons.children.forEach(function(e){e.getComponent(cc.Button).interactable=t})},e.prototype.setPickType=function(t){this.pickType=t,this.updateTypeButtonSpriteStatus()},e.prototype.updateTypeButtonSpriteStatus=function(){switch(this.root.$Player.$typeButtons["#spade"].button.normalSprite=this.upTypes[r.CardFlushTypeIndex.SPADE],this.root.$Player.$typeButtons.$spade["#bg"].sprite.spriteFrame=this.upTypes[r.CardFlushTypeIndex.SPADE],this.root.$Player.$typeButtons["#heart"].button.normalSprite=this.upTypes[r.CardFlushTypeIndex.HEART],this.root.$Player.$typeButtons.$heart["#bg"].sprite.spriteFrame=this.upTypes[r.CardFlushTypeIndex.HEART],this.root.$Player.$typeButtons["#diamond"].button.normalSprite=this.upTypes[r.CardFlushTypeIndex.DIAMOND],this.root.$Player.$typeButtons.$diamond["#bg"].sprite.spriteFrame=this.upTypes[r.CardFlushTypeIndex.DIAMOND],this.root.$Player.$typeButtons["#club"].button.normalSprite=this.upTypes[r.CardFlushTypeIndex.CLUB],this.root.$Player.$typeButtons.$club["#bg"].sprite.spriteFrame=this.upTypes[r.CardFlushTypeIndex.CLUB],this.pickType){case r.CardFlushTypeIndex.CLUB:this.root.$Player.$typeButtons["#club"].button.normalSprite=this.downTypes[r.CardFlushTypeIndex.CLUB],this.root.$Player.$typeButtons.$club["#bg"].sprite.spriteFrame=this.downTypes[r.CardFlushTypeIndex.CLUB];break;case r.CardFlushTypeIndex.DIAMOND:this.root.$Player.$typeButtons["#diamond"].button.normalSprite=this.downTypes[r.CardFlushTypeIndex.DIAMOND],this.root.$Player.$typeButtons.$diamond["#bg"].sprite.spriteFrame=this.downTypes[r.CardFlushTypeIndex.DIAMOND];break;case r.CardFlushTypeIndex.HEART:this.root.$Player.$typeButtons["#heart"].button.normalSprite=this.downTypes[r.CardFlushTypeIndex.HEART],this.root.$Player.$typeButtons.$heart["#bg"].sprite.spriteFrame=this.downTypes[r.CardFlushTypeIndex.HEART];break;case r.CardFlushTypeIndex.SPADE:this.root.$Player.$typeButtons["#spade"].button.normalSprite=this.downTypes[r.CardFlushTypeIndex.SPADE],this.root.$Player.$typeButtons.$spade["#bg"].sprite.spriteFrame=this.downTypes[r.CardFlushTypeIndex.SPADE]}},e.prototype.onSpadeClick=function(){this.pickType!==r.CardFlushTypeIndex.SPADE&&(s.audio.playEffect(c.music.press),this.setPickType(r.CardFlushTypeIndex.SPADE))},e.prototype.onHeartClick=function(){this.pickType!==r.CardFlushTypeIndex.HEART&&(s.audio.playEffect(c.music.press),this.setPickType(r.CardFlushTypeIndex.HEART))},e.prototype.onDiamondClick=function(){this.pickType!==r.CardFlushTypeIndex.DIAMOND&&(s.audio.playEffect(c.music.press),this.setPickType(r.CardFlushTypeIndex.DIAMOND))},e.prototype.onClubClick=function(){this.pickType!==r.CardFlushTypeIndex.CLUB&&(s.audio.playEffect(c.music.press),this.setPickType(r.CardFlushTypeIndex.CLUB))},e.prototype.effectOfShowButton=function(t,e){var n=this.getButtonNodeByType(t);n.stopAllActions(),this.updateTypeButtonPosition(t),!1===e?cc.tween(n).to(.2,{scaleX:.1,scaleY:.1},c.getEaseObject(c.Easing.sineOut)).call(function(){n.active=!1}).start():!0===e&&(n.scaleX=n.scaleY=.1,n.active=!0,cc.tween(n).to(.2,{scaleX:1,scaleY:1},c.getEaseObject(c.Easing.backOut)).start())},e.prototype.effectOfHideAllButton=function(){this.effectOfShowButton(r.CardFlushTypeIndex.SPADE,!1),this.effectOfShowButton(r.CardFlushTypeIndex.HEART,!1),this.effectOfShowButton(r.CardFlushTypeIndex.DIAMOND,!1),this.effectOfShowButton(r.CardFlushTypeIndex.CLUB,!1)},e.prototype.effectOfShowAllButton=function(){this.getCardSetByType(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.SPADE).count>0&&this.effectOfShowButton(r.CardFlushTypeIndex.SPADE,!0),this.getCardSetByType(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.HEART).count>0&&this.effectOfShowButton(r.CardFlushTypeIndex.HEART,!0),this.getCardSetByType(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.DIAMOND).count>0&&this.effectOfShowButton(r.CardFlushTypeIndex.DIAMOND,!0),this.getCardSetByType(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.CLUB).count>0&&this.effectOfShowButton(r.CardFlushTypeIndex.CLUB,!0)},e.prototype.getButtonNodeByType=function(t){return this.root.$Player.typeButtons.children[t]},e.prototype.updateTypeButtonPosition=function(t){this.root.$Player.typeButtons.children[t].x=this.root.$Player.outerLayout.children[t].x,this.root.$Player.typeButtons.children[t].y=this.root.$Player.outerLayout.children[t].y},e.prototype.test_effectOfCardSetFadeOut=function(){var t=this;this.effectOfCardSetFadeOut(r.GamePlayerTarget.DEALER,r.CardFlushTypeIndex.HEART,function(){t.effectOfOuterToResult(r.GamePlayerTarget.DEALER,r.CardFlushTypeIndex.HEART)})},e.prototype.test_effectOfHideAllButton=function(){this.effectOfHideAllButton()},e.prototype.test_effectOfShowAllButton=function(){this.effectOfShowAllButton()},i([h(cc.SpriteFrame)],e.prototype,"upTypes",void 0),i([h(cc.SpriteFrame)],e.prototype,"downTypes",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/HighCardFlushContent":"HighCardFlushContent","../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo"}],Chips:[function(t,e,n){"use strict";cc._RF.push(e,"2e391NL1DtGjplRraP5BDSs","Chips");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/HighCardFlushContent"),s=t("../../lib/HighCardFlushTableInfo"),c=t("../../lib/Audio"),u=cc._decorator,l=u.ccclass,h=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Chip=null,e.table=null,e.status=s.ChipsStatus.DESTROY,e.chipMultiple=[1,2,5,10],e.blurColor=cc.Color.WHITE,e.focusChip=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.table=this.node.parent.getComponent("HighCardFlushTable"),this.setChips(),this.node.active=!1},e.prototype.start=function(){},e.prototype.setChips=function(){var t=this;this.chipMultiple.forEach(function(e,n){var o=e,i=r.getChipPrefabNode(e),a=i.getComponent("Chip");a.setValue(o),a.setUnit(e),i.on(cc.Node.EventType.TOUCH_START,t.onChipClick,t),t.node.addChild(i)})},e.prototype.onChipClick=function(t){var e=this;t.target!==this.focusChip&&(c.audio.playEffect(r.music.press),this.node.children.forEach(function(n){t.target===n?e.focus(n):e.blur(n)}))},e.prototype.focus=function(t){this.focusChip=t,t.scale=1.2,t.y=15},e.prototype.blur=function(t){t.getChildByName("bg").color=this.blurColor,t.scale=1,t.y=0},e.prototype.getFocusChipUnit=function(){return null===this.focusChip?(a.default.warn("no focus chip."),null):this.focusChip.getComponent("Chip").unit},e.prototype.getChipNodes=function(t){for(var e=this.chipMultiple.slice().sort(function(t,e){return e-t}),n=[];t>0;)for(var o=0;o<e.length;o++)for(;t>=e[o];)n.push(r.getChipPrefabNode(e[o])),t-=e[o];return n},e.prototype.effectOfSlideUpShow=function(t,e){void 0===e&&(e=null);var n=t.y;t.active=!0,cc.tween(t).to(s.effectDuration.BASIC.SLIDE_UP,{y:n+t.height},r.getEaseObject(r.Easing.sineOut)).call(function(){t.y=n+t.height,e&&e()}).start()},e.prototype.effectOfSlideDownHide=function(t,e){void 0===e&&(e=null);var n=t.y;cc.tween(t).to(s.effectDuration.BASIC.SLIDE_DOWN,{y:n-t.height},r.getEaseObject(r.Easing.sineOut)).call(function(){t.y=n-t.height,t.active=!1,e&&e()}).start()},e.prototype.showSelf=function(){this.status!==s.ChipsStatus.CREATE&&(this.status=s.ChipsStatus.CREATE,this.focus(this.node.children[0]),this.effectOfSlideUpShow(this.node))},e.prototype.destroySelf=function(){var t=this;this.status!==s.ChipsStatus.DESTROY&&(this.status=s.ChipsStatus.DESTROY,this.node.children.forEach(function(e){t.blur(e)}),this.effectOfSlideDownHide(this.node,function(){t.node.active=!1}))},i([h(cc.Prefab)],e.prototype,"Chip",void 0),e=i([l],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/HighCardFlushContent":"HighCardFlushContent","../../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo"}],Chip:[function(t,e,n){"use strict";cc._RF.push(e,"7bdeeZfyVtGgarnnhV2dC39","Chip");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/HighCardFlushTableInfo"),s=t("../../lib/HighCardFlushContent"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=0,e.unit=0,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.start=function(){},e.prototype.setValue=function(t){this.value=t,this.root.$bg["#label"].label.string=s.globalConstant.isCreditVersion?t*r.tableSetting.betUnit:t+""},e.prototype.setUnit=function(t){this.unit=t},e.prototype.setChipSprite=function(t){this.root["#bg"].sprite.spriteFrame=t},e=i([u],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/HighCardFlushContent":"HighCardFlushContent","../../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo"}],CocosUtils:[function(t,e,n){"use strict";cc._RF.push(e,"8e3eecLoINA6LHcJ92mwLJR","CocosUtils"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=(o.ccclass,o.property,function(){function t(){}return t.tree=function(t,e){var n=this;return t.children.forEach(function(t){e[t.name]=t;var o=t.getComponent(cc.Label);o&&(e["#"+t.name]={},e["#"+t.name].label=o);var i=t.getComponent(cc.Sprite);i&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].sprite=i);var a=t.getComponent(cc.Layout);a&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].layout=a);var r=t.getComponent(cc.Button);r&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].button=r);var s=t.getComponent(cc.ProgressBar);s&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].progressBar=s);var c=t.getComponent(cc.EditBox);c&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].editBox=c),t.childrenCount>0&&(e["$"+t.name]={},n.tree(t,e["$"+t.name]))}),e},t.tree2=function(t,e){var n=this;e[t.name]=t;var o=t.getComponent(cc.Label);o&&(e["#"+t.name]={},e["#"+t.name].label=o);var i=t.getComponent(cc.Sprite);i&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].sprite=i);var a=t.getComponent(cc.Layout);return a&&(e["#"+t.name]||(e["#"+t.name]={}),e["#"+t.name].layout=a),t.childrenCount>0&&(e["$"+t.name]={},t.children.forEach(function(o){n.tree2(o,e["$"+t.name])})),e},t.log=function(t){this.debugMode&&console.log(t)},t.warn=function(t){this.debugMode&&console.warn(t)},t.error=function(t){this.debugMode&&console.error(t)},t.debugMode=!1,t}());n.default=i,cc._RF.pop()},{}],DealerHand:[function(t,e,n){"use strict";cc._RF.push(e,"e0816y4qLFKvbtXCDTOMfUm","DealerHand");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/Audio"),r=t("../lib/HighCardFlushContent"),s=t("../lib/HighCardFlushTableInfo"),c=t("../lib/CocosUtils"),u=cc._decorator,l=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cards=null,e}return o(e,t),e.prototype.init=function(){this.root=c.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){},e.prototype.reset=function(){var t=this;this.cards=null,this.node.children.forEach(function(e){e.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=r.getCardSprite(53),e.getChildByName("bg").active=!0,e.active=!1,t.node.y=305})},e.prototype.showCardByIndex=function(t,e){this.root["card_"+t].active=e},e.prototype.setCardSprite=function(t,e){this.root["$card_"+t]["#bg"].sprite.spriteFrame=r.getCardSprite(e)},e.prototype.getNodeByCard=function(t){var e=null;return this.node.children.forEach(function(n){n.getChildByName("bg").getComponent(cc.Sprite).spriteFrame.name===t+""&&(e=n.getChildByName("bg"))}),e},e.prototype.effectOfTurnCard=function(t,e,n){var o=this;void 0===n&&(n=null),a.audio.playEffect(r.music.turnCard);var i=this.root["$card_"+t].bg;cc.tween(i).to(s.effectDuration.DEALER.TURN_CARD,{y:15,eulerAngles:cc.v3(-10,90,-10)}).call(function(){o.setCardSprite(t,e),i.eulerAngles=cc.v3(10,270,10)}).to(s.effectDuration.DEALER.TURN_CARD,{y:0,eulerAngles:cc.v3(0,0,0)}).delay(s.effectDuration.DEALER.AFTER_TURN_CARD_DELAY).call(function(){n&&n()}).start()},e.prototype.effectOfTurnAllCards=function(t,e){var n=this;void 0===e&&(e=null),this.cards=t;var o=cc.tween(this.node);t.forEach(function(t,i,a){o.delay(s.effectDuration.DEALER.BETWEEN_TURN_CARD).call(function(){n.effectOfTurnCard(i,t,i===a.length-1?e:null)})}),o.start()},e.prototype.effectOfDealerPushHand=function(t){void 0===t&&(t=null),a.audio.playEffect(r.music.card);var e=cc.tween(this.node);e.by(s.effectDuration.DEALER_HAND.PUSH,{y:-75}),null!==t&&e.call(function(){t()}),e.start()},e.prototype.test_effectOfTurnAllCards=function(){this.effectOfTurnAllCards([0,1,2,3,4,5,6],function(){console.log("dealer turn done.")})},e=i([l],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/HighCardFlushContent":"HighCardFlushContent","../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo"}],Gaming:[function(t,e,n){"use strict";cc._RF.push(e,"d90aa70a5RGx5c973YrXDoc","Gaming");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./lib/CocosUtils"),r=t("./lib/HighCardFlushContent"),s=t("./lib/HighCardFlushTableInfo"),c=t("./lib/Audio"),u=t("./lib/HighCardFlush"),l=cc._decorator,h=l.ccclass,p=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){cc.game.setFrameRate(60),r.fixVisible(this.node),this.init()},e.prototype.start=function(){var t=this;c.audio.playMusic(r.music.bg),u.highCardFlush.checkAlive().catch(function(e){a.default.error(e),t.setToolTipsMessage(e)}).then(function(e){e&&(t.setToolTipsMessage("Preparing Table..."),u.highCardFlush.getTableStatus().catch(function(e){a.default.error(e),t.setToolTipsMessage(e)}).then(function(e){if(e){a.default.log(e),s.tableSetting.tableID=e.tableID,s.tableSetting.betUnit=e.betUnit,s.tableSetting.anteBetMax=e.maxBet,s.tableSetting.anteBetMin=e.minBet,s.tableSetting.flushBetMax=e.maxFlushBet,s.tableSetting.straightFlushBetMax=e.maxStraightFlushBet;var n=cc.instantiate(r.prefabs.HighCardFlushTable);t.root.ui.addChild(n)}}))})},e.prototype.language=function(){},e.prototype.setToolTipsMessage=function(t){this.root.$ui.$toolTips["#tip"].label.string=t},e.prototype.showToolTipsMessage=function(t){this.root.$ui.toolTips.active=t},e=i([h],e)}(cc.Component));n.default=p,cc._RF.pop()},{"./lib/Audio":"Audio","./lib/CocosUtils":"CocosUtils","./lib/HighCardFlush":"HighCardFlush","./lib/HighCardFlushContent":"HighCardFlushContent","./lib/HighCardFlushTableInfo":"HighCardFlushTableInfo"}],HighCardEventHandler:[function(t,e,n){"use strict";cc._RF.push(e,"2797eUj3ptKCIuRIue5KErF","HighCardEventHandler");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/HighCardFlushTableInfo"),r=t("../lib/HighCardFlushSetting"),s=t("../lib/HighCardFlushContent"),c=cc._decorator,u=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.start=function(){this.table=this.node.getComponent("HighCardFlushTable")},e.prototype.effectOfRaise3X2X1XEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table,o=n.getCardScript(),i=n.getDealerHandScript(),r=n.getBetScript(),c=t.assignedValues?t.assignedValues:t.playerCardsValue,u=t.dealerCardsValue,l=c.flushCards>u.flushCards?a.GameWinner.PLAYER:c.flushCards<u.flushCards?a.GameWinner.DEALER:a.GameWinner.DRAW,h=t.bets.flushBonus>0,p=t.bets.straightFlushBonus>0,f=s.globalConstant.isCreditVersion?t.returns.flushBonus:t.returns.flushBonus/a.tableSetting.betUnit,d=s.globalConstant.isCreditVersion?t.returns.straightFlushBonus:t.returns.straightFlushBonus/a.tableSetting.betUnit,g=s.globalConstant.isCreditVersion?t.returns.ante:t.returns.ante/a.tableSetting.betUnit,b=t.bets.play,C=s.globalConstant.isCreditVersion?t.returns.play:t.returns.play/a.tableSetting.betUnit,y=s.globalConstant.isCreditVersion?t.totalReturn:t.totalReturn/a.tableSetting.betUnit;r.betData.bet.play=b/a.tableSetting.betUnit,r.updateBetChipStatus(a.GameButton.BET_PLAY,!0),r.effectOfShowBetValue(a.GameButton.BET_PLAY),o.effectOfCardSetFadeOut(a.GamePlayerTarget.PLAYER,c.flushSuite,function(){o.effectOfOuterToResult(a.GamePlayerTarget.PLAYER,c.flushSuite,function(){i.effectOfTurnAllCards(t.dealerCards,function(){n.effectOfHandCardToCardOuterLayout(a.GamePlayerTarget.DEALER,function(){o.effectOfCardSetFadeOut(a.GamePlayerTarget.DEALER,u.flushSuite,function(){o.effectOfOuterToResult(a.GamePlayerTarget.DEALER,u.flushSuite,function(){n.effectOfShowWinner(l,function(){if(h&&p){var o=e.getTypeStringByServerType(t.playerCardsValue.flush),i=e.getTypeStringByServerType(t.playerCardsValue.straightFlush);n.effectOfShowFlush(o,f,function(){n.effectOfShowStraightFlush(i,d,function(){n.effectOfShowResult(d,g,f,C,function(){n.createResultPop(y,5)})})})}else if(h){o=e.getTypeStringByServerType(t.playerCardsValue.flush);n.effectOfShowFlush(o,f,function(){n.effectOfShowResult(d,g,f,C,function(){n.createResultPop(y,5)})})}else if(p){var a=e.getTypeStringByServerType(t.playerCardsValue.straightFlush);n.effectOfShowStraightFlush(a,d,function(){n.effectOfShowResult(d,g,f,C,function(){n.createResultPop(y,5)})})}else n.effectOfShowResult(d,g,f,C,function(){n.createResultPop(y,5)})})})})})})})})},e.prototype.effectOfFoldEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table,o=n.getDealerHandScript(),i=t.bets.flushBonus>0,r=t.bets.straightFlushBonus>0,c=s.globalConstant.isCreditVersion?t.returns.flushBonus:t.returns.flushBonus/a.tableSetting.betUnit,u=s.globalConstant.isCreditVersion?t.returns.straightFlushBonus:t.returns.straightFlushBonus/a.tableSetting.betUnit,l=s.globalConstant.isCreditVersion?t.returns.ante:t.returns.ante/a.tableSetting.betUnit,h=s.globalConstant.isCreditVersion?t.returns.play:t.returns.play/a.tableSetting.betUnit,p=s.globalConstant.isCreditVersion?t.totalReturn:t.totalReturn/a.tableSetting.betUnit;o.effectOfTurnAllCards(t.dealerCards,function(){o.effectOfDealerPushHand(function(){n.effectOfShowWinner(a.GameWinner.DEALER,function(){if(i&&r){var o=e.getTypeStringByServerType(t.playerCardsValue.flush),a=e.getTypeStringByServerType(t.playerCardsValue.straightFlush);n.effectOfShowFlush(o,c,function(){n.effectOfShowStraightFlush(a,u,function(){n.effectOfShowResult(u,l,c,h,function(){n.createResultPop(p,5)})})})}else if(i){o=e.getTypeStringByServerType(t.playerCardsValue.flush);n.effectOfShowFlush(o,c,function(){n.effectOfShowResult(u,l,c,h,function(){n.createResultPop(p,5)})})}else if(r){var s=e.getTypeStringByServerType(t.playerCardsValue.straightFlush);n.effectOfShowStraightFlush(s,u,function(){n.effectOfShowResult(u,l,c,h,function(){n.createResultPop(p,5)})})}else n.effectOfShowResult(u,l,c,h,function(){n.createResultPop(p,5)})})})})},e.prototype.effectOfNewGameEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table,o=this.table.getCardScript(),i=n.getButtonsScript(),r=n.getPlayerHandScript();i.actionIndex=t.actionIndex,n.effectOfSendCardToDealerAndPlayer(function(){r.effectOfTurnAllCards(t.playerCards,function(){o.setPickType(t.playerCardsValue.flushSuite),n.effectOfHandCardToCardOuterLayout(a.GamePlayerTarget.PLAYER,function(){var n=t.actions;Object.keys(n).forEach(function(t){var o=e.formatServerActionToGameButton(t);i.showButton(o,n[t]),i.enableButtonClick(o,n[t])})})})})},e.prototype.noEffectOfServerEvent=function(t){var e=this;a.serverInfo.data=t;var n=this.table,o=n.getDealerHandScript(),i=n.getButtonsScript(),r=n.getCardScript(),c=n.getBetScript(),u=t.bets.flushBonus,l=t.bets.play,h=t.bets.ante,p=t.bets.straightFlushBonus;[53,53,53,53,53,53,53].forEach(function(t,e){o.setCardSprite(e,t),o.showCardByIndex(e,!0)});var f=[[],[],[],[]];t.playerCards.forEach(function(t){f[s.getTypeByCard(t)].push(t)}),f.forEach(function(t,e){t.sort(function(t,e){return s.getValueByCard(e)-s.getValueByCard(t)}),r.setOuterLayoutCount(a.GamePlayerTarget.PLAYER,e,t.length)}),f.forEach(function(t,e){t.forEach(function(t,n){r.setOuterSprite(a.GamePlayerTarget.PLAYER,s.getCardSprite(t),e,n)})}),r.setPickType(t.playerCardsValue.flushSuite),r.enableAllTypeButtonClick(!0),r.effectOfShowButton(a.CardFlushTypeIndex.SPADE,f[a.CardFlushTypeIndex.SPADE].length>0),r.effectOfShowButton(a.CardFlushTypeIndex.HEART,f[a.CardFlushTypeIndex.HEART].length>0),r.effectOfShowButton(a.CardFlushTypeIndex.DIAMOND,f[a.CardFlushTypeIndex.DIAMOND].length>0),r.effectOfShowButton(a.CardFlushTypeIndex.CLUB,f[a.CardFlushTypeIndex.CLUB].length>0),c.betData.bet.flush=c.betData.rebet.flush=u/a.tableSetting.betUnit,c.betData.bet.play=l/a.tableSetting.betUnit,c.betData.bet.ante=c.betData.rebet.ante=h/a.tableSetting.betUnit,c.betData.bet.straightFlush=c.betData.rebet.straightFlush=p/a.tableSetting.betUnit,c.updateBetChipStatus(a.GameButton.BET_ANTE,!0),c.updateBetChipStatus(a.GameButton.BET_PLAY,!0),c.updateBetChipStatus(a.GameButton.BET_FLUSH,!0),c.updateBetChipStatus(a.GameButton.BET_STRAIGHT_FLUSH,!0),c.disableAllButtons(),c.effectOfShowBetValue(a.GameButton.BET_ANTE),c.effectOfShowBetValue(a.GameButton.BET_PLAY),c.effectOfShowBetValue(a.GameButton.BET_FLUSH),c.effectOfShowBetValue(a.GameButton.BET_STRAIGHT_FLUSH);var d=t.actions;Object.keys(d).forEach(function(t){var n=e.formatServerActionToGameButton(t);i.showButton(n,d[t]),i.enableButtonClick(n,d[t])})},e.prototype.formatServerActionToGameButton=function(t){switch(t){case"raise3x":return a.GameButton.BUTTON_CARD_3X;case"raise2x":return a.GameButton.BUTTON_CARD_2X;case"raise1x":return a.GameButton.BUTTON_CARD_1X;case"fold":return a.GameButton.BUTTON_CARD_FOLD}},e.prototype.getTypeStringByServerType=function(t){var e=r.highCardFlushSetting.language;return"EN"===e?t+" Cards":"CN"===e?t+" \u5f20\u724c":void 0},e=i([u],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../lib/HighCardFlushContent":"HighCardFlushContent","../lib/HighCardFlushSetting":"HighCardFlushSetting","../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo"}],HighCardFlushContent:[function(t,e,n){"use strict";cc._RF.push(e,"59c2cC7w0tCMaWeLmA/rYx8","HighCardFlushContent"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./CocosUtils"),i=cc.Sprite.SizeMode;n.globalConstant={tableId:"money_table",buyUrl:"https://lucknetwork.org/account/credit",gameRuleUrl:"https://lucknetwork.zendesk.com/hc/en-us/articles/360044847354-Open-Face-PaiGow-Poker-",gameRuleUrlCN:"https://lucknetwork.zendesk.com/hc/en-us/articles/360048872493-%E8%B6%85%E7%BA%A7%E5%BE%B7%E5%B7%9E%E6%89%91%E5%85%8B",isCreditVersion:!1},n.prefabs={Chip:null,HighCardFlushTable:null},n.music={bg:null,card:null,chip:null,press:null,bj:null,split:null,resultPopWin:null,showType:null,showWinner:null,turnCard:null},n.atlas={cards:null,chips:null},function(t){t[t.zIndex_MIN=0]="zIndex_MIN",t[t.zIndex_1=1]="zIndex_1",t[t.zIndex_2=2]="zIndex_2",t[t.zIndex_3=3]="zIndex_3",t[t.zIndex_4=4]="zIndex_4",t[t.zIndex_5=5]="zIndex_5",t[t.zIndex_6=6]="zIndex_6",t[t.zIndex_7=7]="zIndex_7",t[t.zIndex_8=8]="zIndex_8",t[t.zIndex_MAX=9]="zIndex_MAX"}(n.zOrder||(n.zOrder={})),n.getCurrentSceneNode=function(){return cc.director.getScene().getChildByName("Canvas")},n.fixVisible=function(t){var e=t.getComponent(cc.Canvas),n=cc.view.getViewportRect().height/cc.view.getViewportRect().width;n>1.4?(e.fitHeight=!1,e.fitWidth=!0):n<1?(e.fitHeight=!0,e.fitWidth=!0):(e.fitHeight=!0,e.fitWidth=!1),o.default.log("width: "+cc.view.getViewportRect().width+",height: "+cc.view.getViewportRect().height),o.default.log("ratio:"+n)},n.getXYUntilNode=function(t,e,o){return void 0===o&&(o={x:0,y:0}),t===e?o:(o.x+=t.x,o.y+=t.y,n.getXYUntilNode(t.parent,e,o))},n.getCardsString=function(t){var e="";return t.forEach(function(t){e+=n.getCardString(t),e+=" "}),e},n.getCardString=function(t){var e="",n=Math.floor(t%13)+1;if(n<=10&&n>=2)e+=n;else switch(n){case 1:e+="A";break;case 11:e+="J";break;case 12:e+="Q";break;case 13:e+="K"}return e},n.getCardStringByValue=function(t){var e="";if(t<=10&&t>=2)e+=t;else switch(t){case 1:e+="A";break;case 11:e+="J";break;case 12:e+="Q";break;case 13:e+="K"}return e},n.getTypeByCard=function(t){return Math.floor(t/13)},n.getValueByCard=function(t){return t%13==0?13:t%13},n.getCardSpriteNode=function(t,e,o){void 0===e&&(e=96.5),void 0===o&&(o=140);var a=new cc.Node,r=a.addComponent(cc.Sprite);a.name=t+"",r.sizeMode=i.CUSTOM;var s=null;return n.atlas.cards.getSpriteFrames().forEach(function(e){s=parseInt(e.name)===t?e:s}),r.spriteFrame=s,a.width=e,a.height=o,a},n.getCardSpriteNodes=function(t,e,o){void 0===e&&(e=96.5),void 0===o&&(o=140);var i=[];return t.forEach(function(t){i.push(n.getCardSpriteNode(t,e,o))}),i},n.getCardSprite=function(t){var e=null;return n.atlas.cards.getSpriteFrames().forEach(function(n){e=parseInt(n.name)===t?n:e}),e},n.getChipSprite=function(t){var e=null;return n.atlas.chips.getSpriteFrames().forEach(function(n){e=parseInt(n.name)===t?n:e}),e},n.getChipNode=function(t,e,o,i){void 0===e&&(e=1),void 0===o&&(o=88),void 0===i&&(i=92.5);var a=cc.instantiate(n.prefabs.Chip),r=a.getComponent("Chip");return r.init(),r.setChipSprite(n.getChipSprite(t)),r.setValue(t),a.width=o,a.height=i,a.scaleX=a.scaleY=e,a.removeComponent(cc.Button),a.removeComponent(cc.BlockInputEvents),a},n.getChipPrefabNode=function(t){var e=cc.instantiate(n.prefabs.Chip),o=e.getComponent("Chip");return o.init(),o.setChipSprite(n.getChipSprite(t)),o.setValue(t),e},n.getEaseObject=function(t){return{easing:t}},function(t){t.linear="linear",t.fade="fade",t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.quadOutIn="quadOutIn",t.cubicIn="cubicIn",t.cubicOut="cubicOut",t.cubicInOut="cubicInOut",t.cubicOutIn="cubicOutIn",t.quartIn="quartIn",t.quartOut="quartOut",t.quartInOut="quartInOut",t.quartOutIn="quartOutIn",t.quintIn="quintIn",t.quintOut="quintOut",t.quintInOut="quintInOut",t.quintOutIn="quintOutIn",t.sineIn="sineIn",t.sineOut="sineOut",t.sineInOut="sineInOut",t.sineOutIn="sineOutIn",t.expoIn="expoIn",t.expoOut="expoOut",t.expoInOut="expoInOut",t.expoOutIn="expoOutIn",t.circIn="circIn",t.circOut="circOut",t.circInOut="circInOut",t.circOutIn="circOutIn",t.elasticIn="elasticIn",t.elasticOut="elasticOut",t.elasticInOut="elasticInOut",t.elasticOutIn="elasticOutIn",t.backIn="backIn",t.backOut="backOut",t.backInOut="backInOut",t.backOutIn="backOutIn",t.bounceIn="bounceIn",t.bounceOut="bounceOut",t.bounceInOut="bounceInOut",t.bounceOutIn="bounceOutIn"}(n.Easing||(n.Easing={})),cc._RF.pop()},{"./CocosUtils":"CocosUtils"}],HighCardFlushSetting:[function(t,e,n){"use strict";cc._RF.push(e,"c0686rns5tCYIKl67OfYasM","HighCardFlushSetting"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./CocosUtils"),i=t("./HighCardFlushContent"),a=function(){function t(){this._language="EN",this._music=!0,this._sound=!0,this.languages=["EN","CN"]}return Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"music",{get:function(){return this._music},set:function(t){this._music=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sound",{get:function(){return this._sound},set:function(t){this._sound=t},enumerable:!0,configurable:!0}),t.prototype.autoChangeLanguage=function(){var t=this,e=-1;this.languages.forEach(function(n,o,i){n===t.language&&(e=o+1>=i.length?0:o+1)}),-1!=e?this.language=this.languages[e]:o.default.warn("change language error.")},t.prototype.changeLanguage=function(t){this.language=t,this.triggerLanguage(i.getCurrentSceneNode())},t.prototype.triggerLanguage=function(t){var e=this;t.children.forEach(function(t){if(cc.js.getClassByName(t.name)){var n=t.getComponent(t.name);n&&"function"==typeof n.language&&n.language()}e.triggerLanguage(t)})},t}();n.default=a,n.highCardFlushSetting=new a,cc._RF.pop()},{"./CocosUtils":"CocosUtils","./HighCardFlushContent":"HighCardFlushContent"}],HighCardFlushTableInfo:[function(t,e,n){"use strict";cc._RF.push(e,"0d091Bxv2VJ5bWlDZX4Vkdi","HighCardFlushTableInfo"),Object.defineProperty(n,"__esModule",{value:!0}),n.gamerInfo={gamerId:"",balance:0},n.serverInfo={data:null},n.tableSetting={tableID:"",betUnit:100,flushBetMax:10,anteBetMax:100,anteBetMin:1,straightFlushBetMax:10},n.effectDuration={TABLE:{SEND_CARD_DELAY:.05,SEND_CARD_FADE_OUT:.1,SEND_CARD:.4,HAND_MOVE_TO_CARD:.4,SHOW_WINNER:.8,AFTER_SHOW_WINNER_DELAY:.25},BASIC:{SLIDE_UP:.25,SLIDE_DOWN:.25},BET:{BUTTON_ROUND:.4,CHIP_BOUNCE_UP:.1,CHIP_BOUNCE_DELAY:.05,CHIP_BOUNCE_DOWN:.1,VALUE_SHOWING_DELAY:1.5},BUTTON:{CARD_HIDE:.125,CARD_SHOW:.125,BET_SHOW:.125,BET_HIDE:.125},RESULT_POP:{CONTINUE_SCALE:.75,SHOW:.4,BEFORE_CONTINUE_SHOW_DELAY_WIN:3,BEFORE_CONTINUE_SHOW_DELAY_NO_WIN:1,BEFORE_FADE_OUT_TITLE_DELAY:.25,FADE_OUT_TITLE:.25,BEFORE_FADE_OUT_VALUE_DELAY:.25,FADE_OUT_VALUE:.25},DEALER:{TURN_CARD:.15,AFTER_TURN_CARD_DELAY:.25,RAISE_CARD:.75,AFTER_RAISE_CARD_DELAY:.25,SHOW_PANEL:1,AFTER_SHOW_PANEL_DELAY:.25,SHOW_TRIPS_PANEL:1,AFTER_SHOW_TRIPS_PANEL_DELAY:.25,BETWEEN_TURN_CARD:.075},DEALER_HAND:{PUSH:.5}},function(t){t.BET="bet",t.CARD="card"}(n.GameAction||(n.GameAction={})),function(t){t.NO_GAME="NO_GAME",t.SPLIT_CARD="SPLIT_CARD"}(n.GameStatus||(n.GameStatus={})),function(t){t.BET_ANTE="ante",t.BET_FLUSH="flush",t.BET_STRAIGHT_FLUSH="straightFlush",t.BET_PLAY="play",t.BUTTON_BET_REBET="rebet",t.BUTTON_BET_CLEAR="clear",t.BUTTON_BET_DEAL="deal",t.BUTTON_BET_UNDO="undo",t.BUTTON_CARD_1X="1x",t.BUTTON_CARD_2X="2x",t.BUTTON_CARD_3X="3x",t.BUTTON_CARD_FOLD="fold",t.BUTTON_CARD_HOUSE_WAY="houseWay",t.BUTTON_CARD_SPLIT="split"}(n.GameButton||(n.GameButton={})),function(t){t[t.DEALER=0]="DEALER",t[t.PLAYER=1]="PLAYER"}(n.GameHand||(n.GameHand={})),function(t){t[t.DRAW=0]="DRAW",t[t.DEALER=1]="DEALER",t[t.PLAYER=2]="PLAYER"}(n.GameWinner||(n.GameWinner={})),function(t){t[t.CREATE=0]="CREATE",t[t.DESTROY=1]="DESTROY"}(n.ChipsStatus||(n.ChipsStatus={})),function(t){t[t.SPADE=0]="SPADE",t[t.HEART=1]="HEART",t[t.DIAMOND=2]="DIAMOND",t[t.CLUB=3]="CLUB"}(n.CardFlushTypeIndex||(n.CardFlushTypeIndex={})),function(t){t.DEALER="Dealer",t.PLAYER="Player"}(n.GamePlayerTarget||(n.GamePlayerTarget={})),cc._RF.pop()},{}],HighCardFlushTable:[function(t,e,n){"use strict";cc._RF.push(e,"2076bMjJ7lG1ooIC2ZTycAk","HighCardFlushTable");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/HighCardFlushTableInfo"),s=t("../lib/HighCardFlush"),c=t("../lib/HighCardFlushContent"),u=t("../lib/Audio"),l=t("../lib/HighCardFlushSetting"),h=t("../lib/HighCardFlushText"),p=cc._decorator,f=p.ccclass,d=p.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Chips=null,e.ResultPop=null,e.Menu=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=l.highCardFlushSetting.language;"EN"===t&&(this.root.$StraightFlushPayTable.$table.EN.active=!0,this.root.$StraightFlushPayTable.$table.CN.active=!1,this.root.$FlushPayTable.$table.EN.active=!0,this.root.$FlushPayTable.$table.CN.active=!1),"CN"===t&&(this.root.$StraightFlushPayTable.$table.EN.active=!1,this.root.$StraightFlushPayTable.$table.CN.active=!0,this.root.$FlushPayTable.$table.EN.active=!1,this.root.$FlushPayTable.$table.CN.active=!0)},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){var t=this,e=new URL(location.href),n=cc.sys.localStorage.getItem("pid");if(null===e.searchParams.get("pid")&&null===n)this.root.toolTips.active=!0;else{var o=null===e.searchParams.get("pid")?n:e.searchParams.get("pid");cc.sys.localStorage.setItem("pid",o),r.gamerInfo.gamerId=o,this.hideUrl(),s.highCardFlush.getBalance().catch(function(e){a.default.error(e),t.showToolTip(!0)}).then(function(e){if(e){r.gamerInfo.balance=parseInt(e.available),t.getBalanceScript().updateMoney();var n=cc.instantiate(t.Menu),o=n.getComponent("Menu");o.init(),o.table=t,n.zIndex=c.zOrder.zIndex_8,t.node.addChild(n),t.getBetScript().updateLimitValue(),s.highCardFlush.getGame().catch(function(t){a.default.error(t)}).then(function(e){e&&("no_game"===e.status?t.effectOfChangeAction(r.GameAction.BET):"ongoing"===e.status&&(t.effectOfChangeAction(r.GameAction.CARD),t.getEventScript().noEffectOfServerEvent(e)))})}})}},e.prototype.reset=function(){this.setWinner(null),this.root.winnerPanel.active=!1,this.setFlushTypeAndValue("",0),this.root.flushPanel.active=!1,this.setStraightFlushTypeAndValue("",0),this.root.straightFlushPanel.active=!1,this.setResult(0,0,0,0),this.root.resultPanel.active=!1},e.prototype.getChipsScript=function(){return this.node.getChildByName("Chips").getComponent("Chips")},e.prototype.getBetScript=function(){return this.node.getChildByName("Bet").getComponent("Bet")},e.prototype.getButtonsScript=function(){return this.node.getChildByName("Buttons").getComponent("Buttons")},e.prototype.getBalanceScript=function(){return this.root.Balance.getComponent("Balance")},e.prototype.getDealerHandScript=function(){return this.root.DealerHand.getComponent("DealerHand")},e.prototype.getPlayerHandScript=function(){return this.root.PlayerHand.getComponent("PlayerHand")},e.prototype.getCardScript=function(){return this.root.Card.getComponent("Card")},e.prototype.getEventScript=function(){return this.node.getComponent("HighCardEventHandler")},e.prototype.showToolTip=function(t){this.root.toolTips.active=t},e.prototype.setTip=function(t){this.root.$toolTips.$tip["#label"].label.string=t},e.prototype.setWinner=function(t){var e=l.highCardFlushSetting.language;switch(t){case r.GameWinner.PLAYER:this.root.$winnerPanel["#winner"].label.string=h.highCardFlushText[e].Winner.Player;break;case r.GameWinner.DRAW:this.root.$winnerPanel["#winner"].label.string=h.highCardFlushText[e].Winner.Draw;break;case r.GameWinner.DEALER:this.root.$winnerPanel["#winner"].label.string=h.highCardFlushText[e].Winner.Dealer;break;default:this.root.$winnerPanel["#winner"].label.string=""}},e.prototype.setFlushTypeAndValue=function(t,e){this.root.$flushPanel["#type"].label.string=t,this.root.$flushPanel.$flush["#value"].label.string=e+""},e.prototype.setStraightFlushTypeAndValue=function(t,e){this.root.$straightFlushPanel["#type"].label.string=t,this.root.$straightFlushPanel.$straightFlush["#value"].label.string=e+""},e.prototype.setResult=function(t,e,n,o){this.root.$resultPanel.$straightFlush["#value"].label.string=t+"",this.root.$resultPanel.$ante["#value"].label.string=e+"",this.root.$resultPanel.$flush["#value"].label.string=n+"",this.root.$resultPanel.$play["#value"].label.string=o+""},e.prototype.effectOfChangeAction=function(t){this.action!==t&&(t===r.GameAction.BET?(this.createChips(),this.getButtonsScript().effectOfChangeAction(t),this.getBetScript().enableButtonStatus(r.GameButton.BET_FLUSH,!0),this.getBetScript().enableButtonStatus(r.GameButton.BET_ANTE,!0),this.getBetScript().enableButtonStatus(r.GameButton.BET_STRAIGHT_FLUSH,!0)):t===r.GameAction.CARD&&(this.destroyChips(),this.getButtonsScript().effectOfChangeAction(r.GameAction.CARD)),this.action=t)},e.prototype.effectOfSendCardToDealerAndPlayer=function(t){void 0===t&&(t=null);var e=this.getPlayerHandScript(),n=this.getDealerHandScript(),o=this.root.$cardBox.card,i=c.getXYUntilNode(o,this.node),a=[];e.node.children.forEach(function(t,e){a.push(t),a.push(n.node.children[e])});for(var s=function(s){var h=cc.instantiate(o);h.active=!0,h.x=i.x,h.y=i.y,h.opacity=0;var p=a[s],f=c.getXYUntilNode(p,l.node);l.node.addChild(h);var d=cc.tween(h);d.delay(r.effectDuration.TABLE.SEND_CARD_DELAY*s).by(r.effectDuration.TABLE.SEND_CARD_FADE_OUT,{x:-20,y:-20,opacity:255}).call(function(){u.audio.playEffect(c.music.card)}).to(r.effectDuration.TABLE.SEND_CARD,{x:f.x,y:f.y,scaleX:p.scaleX,scaleY:p.scaleY,angle:p.angle,width:p.width,height:p.height}).call(function(){var t=Math.floor(s/2);s%2==0?e.showCardByIndex(t,!0):n.showCardByIndex(t,!0)}),s===a.length-1&&d.call(function(){t&&t()}),d.call(function(){h.destroy()}),d.start()},l=this,h=0;h<a.length;h++)s(h)},e.prototype.effectOfHandCardToCardOuterLayout=function(t,e){var n,o=this;switch(void 0===e&&(e=null),t){case r.GamePlayerTarget.DEALER:n=this.getDealerHandScript();break;case r.GamePlayerTarget.PLAYER:n=this.getPlayerHandScript()}var i=n.cards,a=[[],[],[],[]],s=this.getCardScript();i.forEach(function(t){a[c.getTypeByCard(t)].push(t)});var l=0,h=0;a.forEach(function(e,n){e.sort(function(t,e){return c.getValueByCard(e)-c.getValueByCard(t)}),s.setOuterLayoutCount(t,n,e.length)}),a.forEach(function(i,p){i.forEach(function(i,f){var d=n.getNodeByCard(i),g=c.getXYUntilNode(d,o.node),b=cc.instantiate(d);b.x=g.x,b.y=g.y,b.is3DNode=!0,b.eulerAngles=cc.v3(0,0,0),o.node.addChild(b),d.active=!1;var C=s.getCardNodeInCardSet(t,p,f),y=c.getXYUntilNode(C,o.node),T=cc.tween(b);T.delay(.25*l).call(function(){u.audio.playEffect(c.music.card)}).to(.5,{x:y.x,y:y.y,width:C.width,height:C.height}).call(function(){C.active=!0,s.setOuterSprite(t,c.getCardSprite(i),p,f),b.destroy()}),7==++h&&(t===r.GamePlayerTarget.PLAYER&&T.call(function(){s.enableAllTypeButtonClick(!0),s.effectOfShowButton(r.CardFlushTypeIndex.SPADE,a[r.CardFlushTypeIndex.SPADE].length>0),s.effectOfShowButton(r.CardFlushTypeIndex.HEART,a[r.CardFlushTypeIndex.HEART].length>0),s.effectOfShowButton(r.CardFlushTypeIndex.DIAMOND,a[r.CardFlushTypeIndex.DIAMOND].length>0),s.effectOfShowButton(r.CardFlushTypeIndex.CLUB,a[r.CardFlushTypeIndex.CLUB].length>0)}),null!==e&&T.call(function(){e()})),T.start()}),i.length>0&&l++})},e.prototype.effectOfShowWinner=function(t,e){void 0===e&&(e=null),u.audio.playEffect(c.music.showType),this.setWinner(t);var n=this.root.winnerPanel,o=cc.tween(n);n.opacity=0,n.active=!0,o.to(r.effectDuration.TABLE.SHOW_WINNER,{opacity:255}).delay(r.effectDuration.TABLE.AFTER_SHOW_WINNER_DELAY),null!==e&&o.call(function(){e()}),o.start()},e.prototype.effectOfShowFlush=function(t,e,n){void 0===n&&(n=null),u.audio.playEffect(c.music.showType),this.setFlushTypeAndValue(t,e);var o=this.root.flushPanel,i=cc.tween(o);o.opacity=0,o.active=!0,i.to(r.effectDuration.TABLE.SHOW_WINNER,{opacity:255}).delay(r.effectDuration.TABLE.AFTER_SHOW_WINNER_DELAY),null!==n&&i.call(function(){n()}),i.start()},e.prototype.effectOfShowStraightFlush=function(t,e,n){void 0===n&&(n=null),u.audio.playEffect(c.music.showType),this.setStraightFlushTypeAndValue(t,e);var o=this.root.straightFlushPanel,i=cc.tween(o);o.opacity=0,o.active=!0,i.to(r.effectDuration.TABLE.SHOW_WINNER,{opacity:255}).delay(r.effectDuration.TABLE.AFTER_SHOW_WINNER_DELAY),null!==n&&i.call(function(){n()}),i.start()},e.prototype.effectOfShowResult=function(t,e,n,o,i){void 0===i&&(i=null),u.audio.playEffect(c.music.showType),this.setResult(t,e,n,o);var a=this.root.resultPanel,s=cc.tween(a);a.opacity=0,a.active=!0,s.to(r.effectDuration.TABLE.SHOW_WINNER,{opacity:255}).delay(2*r.effectDuration.TABLE.AFTER_SHOW_WINNER_DELAY),null!==i&&s.call(function(){i()}),s.start()},e.prototype.createChips=function(){this.getChipsScript().showSelf()},e.prototype.destroyChips=function(){var t=this.node.getChildByName("Chips");t&&t.getComponent("Chips").destroySelf()},e.prototype.createResultPop=function(t,e){var n=cc.instantiate(this.ResultPop),o=n.getComponent("ResultPop");o.init(),this.node.addChild(n),o.effectOfShowPop(t,e)},e.prototype.hideUrl=function(){var t=window.location.href.split("?")[0];history.pushState({},"",t)},e.prototype.pureUpdateBalance=function(){var t=this;s.highCardFlush.getBalance().catch(function(e){a.default.error(e),t.showToolTip(!0)}).then(function(e){e&&(r.gamerInfo.balance=parseInt(e.available),t.getBalanceScript().updateMoney())})},e.prototype.handUpdateBalance=function(t){r.gamerInfo.balance-=t,this.getBalanceScript().updateMoney()},e.prototype.test_effectOfSendCardToDealerAndPlayer=function(){this.effectOfSendCardToDealerAndPlayer()},e.prototype.test_effectOfHandCardToCardOuterLayout=function(){var t=this;this.effectOfSendCardToDealerAndPlayer(function(){t.getPlayerHandScript().effectOfTurnAllCards([13,14,15,16,17,18,19],function(){t.effectOfHandCardToCardOuterLayout(r.GamePlayerTarget.PLAYER,function(){t.getCardScript().effectOfShowButton(r.CardFlushTypeIndex.SPADE,!0),t.getCardScript().effectOfShowButton(r.CardFlushTypeIndex.HEART,!0),t.getCardScript().effectOfShowButton(r.CardFlushTypeIndex.DIAMOND,!0),t.getCardScript().effectOfShowButton(r.CardFlushTypeIndex.CLUB,!0),cc.tween(t.node).delay(.5).call(function(){t.getCardScript().effectOfShowButton(r.CardFlushTypeIndex.SPADE,!1),t.getCardScript().effectOfShowButton(r.CardFlushTypeIndex.HEART,!1),t.getCardScript().effectOfShowButton(r.CardFlushTypeIndex.DIAMOND,!1),t.getCardScript().effectOfShowButton(r.CardFlushTypeIndex.CLUB,!1)}).delay(.2).call(function(){t.getCardScript().effectOfCardSetFadeOut(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.HEART,function(){t.getCardScript().effectOfOuterToResult(r.GamePlayerTarget.PLAYER,r.CardFlushTypeIndex.HEART,function(){t.effectOfShowWinner(r.GameWinner.PLAYER,function(){t.effectOfShowFlush("1 Cards",0,function(){t.effectOfShowStraightFlush("1 Cards",0,function(){t.effectOfShowResult(0,0,100,0,function(){t.createResultPop(100,5)})})})})})})}).start()})})})},i([d(cc.Prefab)],e.prototype,"Chips",void 0),i([d(cc.Prefab)],e.prototype,"ResultPop",void 0),i([d(cc.Prefab)],e.prototype,"Menu",void 0),e=i([f],e)}(cc.Component);n.default=g,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/HighCardFlush":"HighCardFlush","../lib/HighCardFlushContent":"HighCardFlushContent","../lib/HighCardFlushSetting":"HighCardFlushSetting","../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo","../lib/HighCardFlushText":"HighCardFlushText"}],HighCardFlushText:[function(t,e,n){"use strict";cc._RF.push(e,"27439mFIMdCUZjj+44Vr68g","HighCardFlushText"),Object.defineProperty(n,"__esModule",{value:!0});n.highCardFlushText={EN:{Pop:{Title:"YOU HAVE WON :",Press:"Press to continue"},Balance:{Point:"Pts"},Message:{LoginError:"Platform token id error. Please sign in again."},Menu:{GameRule:"GAME RULE",Setting:"SETTINGS"},Setting:{EN:"EN",CN:"CN"},Winner:{Draw:"DRAW",Player:"PLAYER WINS",Dealer:"DEALER WINS",AceHighPush:"ACE HIGH PUSH"}},CN:{Pop:{Title:"\u4f60 \u8d62 \u4e86",Press:"\u6309\u6b64\u7ee7\u7eed"},Balance:{Point:"\u70b9"},Message:{LoginError:"\u7528\u6237\u8d44\u6599\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"},Menu:{GameRule:"\u6e38\u620f\u89c4\u5219",Setting:"\u8bbe\u5b9a"},Setting:{EN:"\u82f1",CN:"\u4e2d"},Winner:{Draw:"\u5e73\u5c40",Player:"\u73a9\u5bb6\u83b7\u80dc",Dealer:"\u5e84\u5bb6\u83b7\u80dc",AceHighPush:"Ace\u5927\u724c\u5e73\u5c40"}}},cc._RF.pop()},{}],HighCardFlush:[function(t,e,n){"use strict";cc._RF.push(e,"a7a2cFlWUZMwZ5AqoBEfruW","HighCardFlush");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function r(t){try{c(o.next(t))}catch(t){a(t)}}function s(t){try{c(o.throw(t))}catch(t){a(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(r,s)}c((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(t){return function(e){return c([t,e])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=e.call(t,r)}catch(t){a=[6,t],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./HighCardFlushContent"),r=t("./HighCardFlushTableInfo");n.texasUtils={promiseInjector:function(t){var e=this;return function(n){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e.injectPromise.apply(e,[n.bind(t)].concat(o))}},injectPromise:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Promise(function(n,o){t.apply(void 0,e.concat([function(t,e){null!==t?o(t):n(e)}]))})}};var s=function(){function t(t,e){void 0===e&&(e=null),this.injectPromise=n.texasUtils.promiseInjector(this),this.tableID=t,setTimeout(function(){e&&e(null)},100)}return t.prototype.sendRequest=function(t,e,n,a){return void 0===a&&(a=!1),o(this,void 0,void 0,function(){var o,r,s;return i(this,function(i){if(!a)return[2,this.injectPromise(this.sendRequest,t,e,n)];try{o=new XMLHttpRequest,r="https://clover.kimicat.com/hcf//"+t,o.open(n,r),"POST"===n&&o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){if(4==this.readyState)if(200==this.status){var t=JSON.parse(this.responseText);void 0!==t.error?a(t.error,null):a(null,t)}else a(this.statusText,null)},s=JSON.stringify(e),"GET"===n?o.send():o.send(s)}catch(t){a(t,null)}return[2]})})},t.prototype.checkAlive=function(){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("","","GET")]})})},t.prototype.getTableStatus=function(){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("get_table/"+this.tableID,"","GET")]})})},t.prototype.getGame=function(){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("get_game/"+this.tableID+"/"+r.gamerInfo.gamerId,"","GET")]})})},t.prototype.getBalance=function(){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,this.sendRequest("get_balance/money_table/"+r.gamerInfo.gamerId,"","GET")]})})},t.prototype.startNewGame=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){return n={bets:t},[2,this.sendRequest("start_game/"+this.tableID+"/"+r.gamerInfo.gamerId,n,"POST",e)]})})},t.prototype.raise3X=function(t,e,n){return void 0===n&&(n=!1),o(this,void 0,void 0,function(){var o;return i(this,function(i){return o={},[2,this.sendRequest("action/raise3x/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t+"/"+e,o,"POST",n)]})})},t.prototype.raise2X=function(t,e,n){return void 0===n&&(n=!1),o(this,void 0,void 0,function(){var o;return i(this,function(i){return o={},[2,this.sendRequest("action/raise2x/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t+"/"+e,o,"POST",n)]})})},t.prototype.raise1X=function(t,e,n){return void 0===n&&(n=!1),o(this,void 0,void 0,function(){var o;return i(this,function(i){return o={},[2,this.sendRequest("action/raise1x/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t+"/"+e,o,"POST",n)]})})},t.prototype.fold=function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n;return i(this,function(o){return n={},[2,this.sendRequest("action/fold/"+this.tableID+"/"+r.gamerInfo.gamerId+"/"+t,n,"POST",e)]})})},t}();n.HighCardFlush=s,n.highCardFlush=new s(a.globalConstant.tableId),cc._RF.pop()},{"./HighCardFlushContent":"HighCardFlushContent","./HighCardFlushTableInfo":"HighCardFlushTableInfo"}],I18N:[function(t,e,n){"use strict";cc._RF.push(e,"cc67dpEXkpCRaqti5iUXHcx","I18N"),cc._RF.pop()},{}],Loading:[function(t,e,n){"use strict";cc._RF.push(e,"d31d2Z3GlFJbIJVQ7ZXl0sJ","Loading");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./lib/CocosUtils"),r=t("./lib/HighCardFlushContent"),s=cc._decorator,c=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressCount=5,e.progressNow=0,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){cc.game.setFrameRate(60),r.fixVisible(this.node),this.init()},e.prototype.start=function(){this.effectOfLoading(),this.preLoadResources()},e.prototype.preLoadResources=function(){var t=this;cc.loader.loadRes("atlas/cards",cc.SpriteAtlas,this.progressing.bind(this),function(e,n){e?a.default.error(e):(r.atlas.cards=n,t.addProgress())}),cc.loader.loadRes("atlas/chips",cc.SpriteAtlas,this.progressing.bind(this),function(e,n){e?a.default.error(e):(r.atlas.chips=n,t.addProgress())}),cc.loader.loadRes("prefab/Chip",cc.Prefab,this.progressing.bind(this),function(e,n){e?a.default.error(e):(r.prefabs.Chip=n,t.addProgress())}),cc.loader.loadRes("prefab/HighCardFlushTable",cc.Prefab,this.progressing.bind(this),function(e,n){e?a.default.error(e):(r.prefabs.HighCardFlushTable=n,t.addProgress())}),cc.loader.loadResDir("music",cc.AudioClip,function(e,n,o){t.root.$ui.detailProgressBar.getComponent(cc.ProgressBar).progress=(e/n).toFixed(2)-0},function(e,n){e?a.default.error(e):n.forEach(function(t){r.music[t.name]=t}),t.addProgress()})},e.prototype.preLoadScene=function(){cc.director.preloadScene("Gaming",function(){a.default.log("preload Game scene finished.")})},e.prototype.addProgress=function(){var t=this;this.progressNow++,this.root.$ui.progressBar.getComponent(cc.ProgressBar).progress=this.progressNow/this.progressCount,this.progressNow===this.progressCount&&cc.director.preloadScene("Gaming",null,function(){t.effectOfLoading(!0),cc.director.loadScene("Gaming")})},e.prototype.progressing=function(t,e){this.root.$ui.detailProgressBar.getComponent(cc.ProgressBar).progress=(t/e).toFixed(2)-0},e.prototype.effectOfLoading=function(t){void 0===t&&(t=!1);var e=this.root.$ui.logo;t?(e.stopAllActions(),e.scaleX=e.scaleY=1):(e.scaleX=e.scaleY=.2,e.active=!0,cc.tween(e).to(.4,{scaleX:1,scaleY:1}).start())},e=i([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"./lib/CocosUtils":"CocosUtils","./lib/HighCardFlushContent":"HighCardFlushContent"}],Menu:[function(t,e,n){"use strict";cc._RF.push(e,"6085fL6bIhH1KxmOgXRSFKR","Menu");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/HighCardFlushContent"),s=t("../../lib/Audio"),c=cc.tween,u=t("../../lib/HighCardFlushSetting"),l=t("../../lib/HighCardFlushText"),h=cc._decorator,p=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.menuBtn=null,e.cancelBtn=null,e.Setting=null,e.show=!1,e.table=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=u.highCardFlushSetting.language;"EN"===t?(this.root.$content.$setting.$Background["#Label"].label.string=l.highCardFlushText.EN.Menu.Setting,this.root.$content.$gameRule.$Background["#Label"].label.string=l.highCardFlushText.EN.Menu.GameRule):"CN"===t&&(this.root.$content.$setting.$Background["#Label"].label.string=l.highCardFlushText.CN.Menu.Setting,this.root.$content.$gameRule.$Background["#Label"].label.string=l.highCardFlushText.CN.Menu.GameRule)},e.prototype.start=function(){this.language()},e.prototype.onMenuClick=function(){var t=this.root.content;if(!(t.getNumberOfRunningActions()>0))if(s.audio.playEffect(r.music.press),t.active)this.root["#bg"].sprite.spriteFrame=this.menuBtn,t.active=!0,t.children.forEach(function(t,e){c(t).to(.1,{y:0},r.getEaseObject(r.Easing.sineOut)).start()}),c(t).delay(.1).call(function(){t.active=!1}).start();else{this.root["#bg"].sprite.spriteFrame=this.cancelBtn;t.active=!0,t.children.forEach(function(t,e){c(t).to(.2,{y:100+70*e},r.getEaseObject(r.Easing.backOut)).start()}),c(t).delay(.25).start()}},e.prototype.onSettingClick=function(t){var e=cc.instantiate(this.Setting);e.zIndex=r.zOrder.zIndex_MAX,this.table.node.addChild(e)},e.prototype.onGameRuleClick=function(t){t.target.getNumberOfRunningActions()>0||(s.audio.playEffect(r.music.press),"EN"===u.highCardFlushSetting.language?window.open(r.globalConstant.gameRuleUrl):"CN"===u.highCardFlushSetting.language&&window.open(r.globalConstant.gameRuleUrlCN))},i([f(cc.SpriteFrame)],e.prototype,"menuBtn",void 0),i([f(cc.SpriteFrame)],e.prototype,"cancelBtn",void 0),i([f(cc.Prefab)],e.prototype,"Setting",void 0),e=i([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/HighCardFlushContent":"HighCardFlushContent","../../lib/HighCardFlushSetting":"HighCardFlushSetting","../../lib/HighCardFlushText":"HighCardFlushText"}],PlayerHand:[function(t,e,n){"use strict";cc._RF.push(e,"4e5abTyfV5B7avJbYs2K9Ps","PlayerHand");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../lib/CocosUtils"),r=t("../lib/HighCardFlushContent"),s=t("../lib/Audio"),c=t("../lib/HighCardFlushTableInfo"),u=cc._decorator,l=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cards=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.onLoad=function(){this.init()},e.prototype.start=function(){this.table=this.node.parent.getComponent("HighCardFlushTable")},e.prototype.reset=function(){this.cards=null,this.node.children.forEach(function(t,e){t.getChildByName("bg").getComponent(cc.Sprite).spriteFrame=r.getCardSprite(53),t.getChildByName("bg").active=!0,t.active=!1})},e.prototype.showCardByIndex=function(t,e){this.root["card_"+t].active=e},e.prototype.setCardSprite=function(t,e){this.root["$card_"+t]["#bg"].sprite.spriteFrame=r.getCardSprite(e)},e.prototype.getNodeByCard=function(t){var e=null;return this.node.children.forEach(function(n){n.getChildByName("bg").getComponent(cc.Sprite).spriteFrame.name===t+""&&(e=n.getChildByName("bg"))}),e},e.prototype.effectOfTurnCard=function(t,e,n){var o=this;void 0===n&&(n=null),s.audio.playEffect(r.music.turnCard);var i=this.root["$card_"+t].bg;cc.tween(i).to(c.effectDuration.DEALER.TURN_CARD,{y:15,eulerAngles:cc.v3(-10,90,-10)}).call(function(){o.setCardSprite(t,e),i.eulerAngles=cc.v3(10,270,10)}).to(c.effectDuration.DEALER.TURN_CARD,{y:0,eulerAngles:cc.v3(0,0,0)}).delay(c.effectDuration.DEALER.AFTER_TURN_CARD_DELAY).call(function(){n&&n()}).start()},e.prototype.effectOfTurnAllCards=function(t,e){var n=this;void 0===e&&(e=null),this.cards=t;var o=cc.tween(this.node);t.forEach(function(t,i,a){o.delay(c.effectDuration.DEALER.BETWEEN_TURN_CARD).call(function(){n.effectOfTurnCard(i,t,i===a.length-1?e:null)})}),o.start()},e=i([l],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../lib/Audio":"Audio","../lib/CocosUtils":"CocosUtils","../lib/HighCardFlushContent":"HighCardFlushContent","../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo"}],Recharge:[function(t,e,n){"use strict";cc._RF.push(e,"1a753hRjUxHUrYcIkNFbmDZ","Recharge");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/HighCardFlushSetting"),s=t("../../lib/HighCardFlushContent"),c=cc._decorator,u=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.titleCN=null,e.msg=null,e.msgCN=null,e.buy=null,e.buyCN=null,e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=r.highCardFlushSetting.language;"EN"===t?(this.root.$content["#title"].sprite.spriteFrame=this.title,this.root.$content["#msg"].sprite.spriteFrame=this.msg,this.root.$content["#buy"].button.normalSprite=this.buy,this.root.$content.$buy["#Background"].sprite.spriteFrame=this.buy):"CN"===t&&(this.root.$content["#title"].sprite.spriteFrame=this.titleCN,this.root.$content["#msg"].sprite.spriteFrame=this.msgCN,this.root.$content["#buy"].button.normalSprite=this.buyCN,this.root.$content.$buy["#Background"].sprite.spriteFrame=this.buyCN)},e.prototype.start=function(){this.init(),this.language(),this.effectOfShow(),s.globalConstant.isCreditVersion&&(this.root.$content.buy.active=!1)},e.prototype.effectOfShow=function(){var t=this.root.content;t.scaleX=t.scaleY=.1,t.active=!0,cc.tween(t).to(.25,{scaleX:1,scaleY:1},s.getEaseObject(s.Easing.backOut)).start()},e.prototype.onCloseClick=function(){this.node.destroy()},e.prototype.onBuyClick=function(t){t.target.getNumberOfRunningActions()>0||window.open(s.globalConstant.buyUrl)},i([l(cc.SpriteFrame)],e.prototype,"title",void 0),i([l(cc.SpriteFrame)],e.prototype,"titleCN",void 0),i([l(cc.SpriteFrame)],e.prototype,"msg",void 0),i([l(cc.SpriteFrame)],e.prototype,"msgCN",void 0),i([l(cc.SpriteFrame)],e.prototype,"buy",void 0),i([l(cc.SpriteFrame)],e.prototype,"buyCN",void 0),e=i([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../lib/CocosUtils":"CocosUtils","../../lib/HighCardFlushContent":"HighCardFlushContent","../../lib/HighCardFlushSetting":"HighCardFlushSetting"}],ResultPop:[function(t,e,n){"use strict";cc._RF.push(e,"1aa0ewDiSdMfrGZZq1le1tZ","ResultPop");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/CocosUtils"),r=t("../../lib/HighCardFlushSetting"),s=t("../../lib/HighCardFlushText"),c=t("../../lib/HighCardFlushTableInfo"),u=t("../../lib/HighCardFlushContent"),l=t("../../lib/Audio"),h=cc._decorator,p=h.ccclass,f=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Coin=null,e.coinData=[],e.valueData={start:0,end:0,frame:72,cur:0,update:1},e}return o(e,t),e.prototype.init=function(){this.root=a.default.tree(this.node,{})},e.prototype.language=function(){var t=r.highCardFlushSetting.language;this.root.$content["#title"].label.string=s.highCardFlushText[t].Pop.Title,this.root.$content.$continue["#label"].label.string=s.highCardFlushText[t].Pop.Press},e.prototype.start=function(){this.init(),this.table=this.node.parent.getComponent("HighCardFlushTable"),this.language(),u.globalConstant.isCreditVersion&&(this.valueData.start=0,this.valueData.end=0)},e.prototype.getEffectPosition=function(t,e,n){return{x:t*n,y:e*n-5*n*n}},e.prototype.update=function(t){this.handleUpdateCoin(),this.handleValueUpdate()},e.prototype.handleUpdateCoin=function(){var t=this,e=this.coinData;if(e.length>0&&e.forEach(function(e){e.time+=.1;var n=t.getEffectPosition(e.vx,e.vy,e.time);e.coin.x=n.x,e.y=e.coin.y=n.y,e.coin.angle+=e.va}),e.length>0)for(var n=0;n<e.length;n++){var o=e[n];o.y<-350&&(o.coin.destroy(),e.splice(n,1),n=0,this.effectCoin(1))}},e.prototype.handleValueUpdate=function(){var t=this.valueData;if(t.start<t.end){if(t.cur<t.update)return void t.cur++;t.cur=0;var e=t.end/t.frame;t.start+=e,t.start>t.end&&(t.start=t.end),this.root.$content["#value"].label.string=u.globalConstant.isCreditVersion?parseInt(t.start):t.start.toFixed(2)}},e.prototype.effectCoin=function(t){for(var e=0;e<t;e++){var n=cc.instantiate(this.Coin);this.root.effect.addChild(n),this.coinData.push({time:0,vx:50*Math.random()-25,vy:50*Math.random()+10,va:8*Math.random()-4,y:0,coin:n})}},e.prototype.showTitle=function(t){this.root.$content.title.active=t},e.prototype.showDecorate=function(t){this.root.$content.$decorate.win.active=t,this.root.$content.$decorate.lose.active=!t},e.prototype.effectOfShowContinue=function(){var t=this.root.$content.continue,e=this.root.$content.$continue.label;t.active=!0,cc.tween(e).repeatForever(cc.tween().to(c.effectDuration.RESULT_POP.CONTINUE_SCALE,{scaleX:1.1,scaleY:1.1}).to(c.effectDuration.RESULT_POP.CONTINUE_SCALE,{scaleX:1,scaleY:1})).start()},e.prototype.effectOfShowPop=function(t,e){var n=this,o=r.highCardFlushSetting.language;if(this.root.$content.$continue["#label"].label.string=s.highCardFlushText[o].Pop.Press,this.root.$content["#title"].label.string=s.highCardFlushText[o].Pop.Title,t>0&&(this.root.$content["#value"].label.string=u.globalConstant.isCreditVersion?"0":"0.00"),t>0){this.showDecorate(!0);var i=this.root.content;i.scaleX=i.scaleY=.4,i.active=!0,cc.tween(i).to(c.effectDuration.RESULT_POP.SHOW,{scaleX:1,scaleY:1},u.getEaseObject(u.Easing.sineIn)).call(function(){r.highCardFlushSetting.sound&&(l.audio.pauseMusic(),l.audio.playEffect(u.music.resultPopWin)),n.effectCoin(e);var o=n.root.$content.title,i=cc.tween(o);o.opacity=0,o.active=!0,i.call(function(){n.effectOfShowContinue()}).delay(c.effectDuration.RESULT_POP.BEFORE_FADE_OUT_TITLE_DELAY).to(c.effectDuration.RESULT_POP.FADE_OUT_TITLE,{opacity:255}).call(function(){var e=n.root.$content.value,o=cc.tween(e);e.opacity=0,e.active=!0,o.delay(c.effectDuration.RESULT_POP.BEFORE_FADE_OUT_VALUE_DELAY).to(c.effectDuration.RESULT_POP.FADE_OUT_VALUE,{opacity:255}).call(function(){n.valueData.end=t}).delay(c.effectDuration.RESULT_POP.BEFORE_CONTINUE_SHOW_DELAY_WIN).start()}).start()}).start()}else{var a=this.root.$content.$continue.label;a.y=0;var h=this.root.$content.$continue.bg;h.y=a.y-12,h.active=!0,this.effectOfShowContinue()}},e.prototype.onContinueClick=function(){this.table.pureUpdateBalance(),l.audio.stopEffect(),l.audio.resumeMusic(),this.table.reset(),this.table.getCardScript().reset(),this.table.getDealerHandScript().reset(),this.table.getPlayerHandScript().reset(),this.table.getBetScript().reset(),c.serverInfo.data=null,this.table.effectOfChangeAction(c.GameAction.BET),this.node.destroy()},i([f(cc.Prefab)],e.prototype,"Coin",void 0),e=i([p],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/HighCardFlushContent":"HighCardFlushContent","../../lib/HighCardFlushSetting":"HighCardFlushSetting","../../lib/HighCardFlushTableInfo":"HighCardFlushTableInfo","../../lib/HighCardFlushText":"HighCardFlushText"}],Setting:[function(t,e,n){"use strict";cc._RF.push(e,"a3c10k1U7tAlL+lfDLa7NDj","Setting");var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../lib/HighCardFlushSetting"),r=t("../../lib/HighCardFlushText"),s=t("../../lib/CocosUtils"),c=t("../../lib/HighCardFlushContent"),u=t("../../lib/Audio"),l=cc._decorator,h=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.on=null,e.off=null,e.onCN=null,e.offCN=null,e.title=null,e.titleCN=null,e.music=null,e.musicCN=null,e.sound=null,e.soundCN=null,e.lang=null,e.langCN=null,e.fillRect=null,e.musicON=!0,e.soundON=!0,e.i18n="EN",e}return o(e,t),e.prototype.init=function(){this.root=s.default.tree(this.node,{})},e.prototype.language=function(){var t=a.highCardFlushSetting.language;"EN"===t?(this.root.$content["#title"].sprite.spriteFrame=this.title,this.root.$content["#sound"].sprite.spriteFrame=this.sound,this.soundON?(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.on,this.root.$content.$sound["#switch"].button.normalSprite=this.on):(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.off,this.root.$content.$sound["#switch"].button.normalSprite=this.off),this.root.$content["#music"].sprite.spriteFrame=this.music,this.musicON?(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.on,this.root.$content.$music["#switch"].button.normalSprite=this.on):(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.off,this.root.$content.$music["#switch"].button.normalSprite=this.off),this.root.$content["#language"].sprite.spriteFrame=this.lang,this.root.$content.$language.$switch.$EN.$Background["#Label"].label.string=r.highCardFlushText.EN.Setting.EN,this.root.$content.$language.$switch.$CN.$Background["#Label"].label.string=r.highCardFlushText.EN.Setting.CN,this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=this.fillRect,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=null):"CN"===t&&(this.root.$content["#title"].sprite.spriteFrame=this.titleCN,this.root.$content["#sound"].sprite.spriteFrame=this.soundCN,this.soundON?(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.onCN,this.root.$content.$sound["#switch"].button.normalSprite=this.onCN):(this.root.$content.$sound.$switch["#Background"].sprite.spriteFrame=this.offCN,this.root.$content.$sound["#switch"].button.normalSprite=this.offCN),this.root.$content["#music"].sprite.spriteFrame=this.musicCN,this.musicON?(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.onCN,this.root.$content.$music["#switch"].button.normalSprite=this.onCN):(this.root.$content.$music.$switch["#Background"].sprite.spriteFrame=this.offCN,this.root.$content.$music["#switch"].button.normalSprite=this.offCN),this.root.$content["#language"].sprite.spriteFrame=this.langCN,this.root.$content.$language.$switch.$EN.$Background["#Label"].label.string=r.highCardFlushText.CN.Setting.EN,this.root.$content.$language.$switch.$CN.$Background["#Label"].label.string=r.highCardFlushText.CN.Setting.CN,this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=null,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=this.fillRect)},e.prototype.start=function(){this.init(),this.musicON=a.highCardFlushSetting.music,this.soundON=a.highCardFlushSetting.sound,this.language(),this.effectOfShow()},e.prototype.onCloseClick=function(){u.audio.playEffect(c.music.press),this.node.destroy()},e.prototype.effectOfShow=function(){var t=this.root.content;t.scaleX=t.scaleY=.1,t.active=!0,cc.tween(t).to(.25,{scaleX:1,scaleY:1},c.getEaseObject(c.Easing.backOut)).start()},e.prototype.onSoundClick=function(){u.audio.playEffect(c.music.press),this.soundON=!this.soundON,u.audio.setEffectVolume(this.soundON),this.language()},e.prototype.onMusicClick=function(){u.audio.playEffect(c.music.press),this.musicON=!this.musicON,u.audio.setMusicVolume(this.musicON),this.language()},e.prototype.onCNClick=function(){"CN"!==a.highCardFlushSetting.language&&(u.audio.playEffect(c.music.press),a.highCardFlushSetting.changeLanguage("CN"),this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=null,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=this.fillRect)},e.prototype.onENClick=function(){"EN"!==a.highCardFlushSetting.language&&(u.audio.playEffect(c.music.press),a.highCardFlushSetting.changeLanguage("EN"),this.root.$content.$language.$switch.$EN.$Background["#active"].sprite.spriteFrame=this.fillRect,this.root.$content.$language.$switch.$CN.$Background["#active"].sprite.spriteFrame=null)},i([p(cc.SpriteFrame)],e.prototype,"on",void 0),i([p(cc.SpriteFrame)],e.prototype,"off",void 0),i([p(cc.SpriteFrame)],e.prototype,"onCN",void 0),i([p(cc.SpriteFrame)],e.prototype,"offCN",void 0),i([p(cc.SpriteFrame)],e.prototype,"title",void 0),i([p(cc.SpriteFrame)],e.prototype,"titleCN",void 0),i([p(cc.SpriteFrame)],e.prototype,"music",void 0),i([p(cc.SpriteFrame)],e.prototype,"musicCN",void 0),i([p(cc.SpriteFrame)],e.prototype,"sound",void 0),i([p(cc.SpriteFrame)],e.prototype,"soundCN",void 0),i([p(cc.SpriteFrame)],e.prototype,"lang",void 0),i([p(cc.SpriteFrame)],e.prototype,"langCN",void 0),i([p(cc.SpriteFrame)],e.prototype,"fillRect",void 0),e=i([h],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../lib/Audio":"Audio","../../lib/CocosUtils":"CocosUtils","../../lib/HighCardFlushContent":"HighCardFlushContent","../../lib/HighCardFlushSetting":"HighCardFlushSetting","../../lib/HighCardFlushText":"HighCardFlushText"}],Tree:[function(t,e,n){"use strict";cc._RF.push(e,"ad146kyFYlL247c6TgABqBO","Tree"),cc._RF.pop()},{}]},{},["Gaming","Loading","I18N","Tree","Audio","CocosUtils","HighCardFlush","HighCardFlushContent","HighCardFlushSetting","HighCardFlushTableInfo","HighCardFlushText","Balance","Bet","Buttons","Card","CardSet","Chip","Chips","DealerHand","HighCardEventHandler","HighCardFlushTable","Menu","PlayerHand","Recharge","ResultPop","Setting"]);